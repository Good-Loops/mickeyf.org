const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-BrnWqo3c.js","assets/webworkerAll-BLBwwql8.js","assets/colorToUniform-BA5ZkBSt.js","assets/CanvasPool-Czgmx61X.js","assets/getBatchSamplersUniformGroup-BrKB8gcI.js","assets/WebGPURenderer-quTOvAnu.js","assets/SharedSystems-qSf13Ciy.js","assets/WebGLRenderer-H1fGVvmI.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function ha(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var kp={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uw;function HT(){if(uw)return Fl;uw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Fl.Fragment=t,Fl.jsx=e,Fl.jsxs=e,Fl}var hw;function qT(){return hw||(hw=1,kp.exports=HT()),kp.exports}var W=qT(),Np={exports:{}},Vl={},Rp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dw;function GT(){return dw||(dw=1,(function(n){function t(A,E){var N=A.length;A.push(E);t:for(;0<N;){var B=N-1>>>1,P=A[B];if(0<a(P,E))A[B]=E,A[N]=P,N=B;else break t}}function e(A){return A.length===0?null:A[0]}function i(A){if(A.length===0)return null;var E=A[0],N=A.pop();if(N!==E){A[0]=N;t:for(var B=0,P=A.length,C=P>>>1;B<C;){var D=2*(B+1)-1,Y=A[D],st=D+1,et=A[st];if(0>a(Y,N))st<P&&0>a(et,Y)?(A[B]=et,A[st]=N,B=st):(A[B]=Y,A[D]=N,B=D);else if(st<P&&0>a(et,N))A[B]=et,A[st]=N,B=st;else break t}}return E}function a(A,E){var N=A.sortIndex-E.sortIndex;return N!==0?N:A.id-E.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],f=[],m=1,y=null,_=3,v=!1,w=!1,S=!1,x=!1,T=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U(A){for(var E=e(f);E!==null;){if(E.callback===null)i(f);else if(E.startTime<=A)i(f),E.sortIndex=E.expirationTime,t(d,E);else break;E=e(f)}}function O(A){if(S=!1,U(A),!w)if(e(d)!==null)w=!0,j||(j=!0,Q());else{var E=e(f);E!==null&&ut(O,E.startTime-A)}}var j=!1,z=-1,L=5,V=-1;function H(){return x?!0:!(n.unstable_now()-V<L)}function K(){if(x=!1,j){var A=n.unstable_now();V=A;var E=!0;try{t:{w=!1,S&&(S=!1,k(z),z=-1),v=!0;var N=_;try{e:{for(U(A),y=e(d);y!==null&&!(y.expirationTime>A&&H());){var B=y.callback;if(typeof B=="function"){y.callback=null,_=y.priorityLevel;var P=B(y.expirationTime<=A);if(A=n.unstable_now(),typeof P=="function"){y.callback=P,U(A),E=!0;break e}y===e(d)&&i(d),U(A)}else i(d);y=e(d)}if(y!==null)E=!0;else{var C=e(f);C!==null&&ut(O,C.startTime-A),E=!1}}break t}finally{y=null,_=N,v=!1}E=void 0}}finally{E?Q():j=!1}}}var Q;if(typeof R=="function")Q=function(){R(K)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=K,Q=function(){$.postMessage(null)}}else Q=function(){T(K,0)};function ut(A,E){z=T(function(){A(n.unstable_now())},E)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(A){switch(_){case 1:case 2:case 3:var E=3;break;default:E=_}var N=_;_=E;try{return A()}finally{_=N}},n.unstable_requestPaint=function(){x=!0},n.unstable_runWithPriority=function(A,E){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var N=_;_=A;try{return E()}finally{_=N}},n.unstable_scheduleCallback=function(A,E,N){var B=n.unstable_now();switch(typeof N=="object"&&N!==null?(N=N.delay,N=typeof N=="number"&&0<N?B+N:B):N=B,A){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=N+P,A={id:m++,callback:E,priorityLevel:A,startTime:N,expirationTime:P,sortIndex:-1},N>B?(A.sortIndex=N,t(f,A),e(d)===null&&A===e(f)&&(S?(k(z),z=-1):S=!0,ut(O,N-B))):(A.sortIndex=P,t(d,A),w||v||(w=!0,j||(j=!0,Q()))),A},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(A){var E=_;return function(){var N=_;_=E;try{return A.apply(this,arguments)}finally{_=N}}}})(Dp)),Dp}var fw;function YT(){return fw||(fw=1,Rp.exports=GT()),Rp.exports}var Op={exports:{}},kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function WT(){if(pw)return kt;pw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function v(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function T(C,D,Y){this.props=C,this.context=D,this.refs=x,this.updater=Y||w}T.prototype.isReactComponent={},T.prototype.setState=function(C,D){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,D,"setState")},T.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function k(){}k.prototype=T.prototype;function R(C,D,Y){this.props=C,this.context=D,this.refs=x,this.updater=Y||w}var U=R.prototype=new k;U.constructor=R,S(U,T.prototype),U.isPureReactComponent=!0;var O=Array.isArray;function j(){}var z={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function V(C,D,Y){var st=Y.ref;return{$$typeof:n,type:C,key:D,ref:st!==void 0?st:null,props:Y}}function H(C,D){return V(C.type,D,C.props)}function K(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Q(C){var D={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Y){return D[Y]})}var Z=/\/+/g;function $(C,D){return typeof C=="object"&&C!==null&&C.key!=null?Q(""+C.key):D.toString(36)}function ut(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(j,j):(C.status="pending",C.then(function(D){C.status==="pending"&&(C.status="fulfilled",C.value=D)},function(D){C.status==="pending"&&(C.status="rejected",C.reason=D)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function A(C,D,Y,st,et){var mt=typeof C;(mt==="undefined"||mt==="boolean")&&(C=null);var gt=!1;if(C===null)gt=!0;else switch(mt){case"bigint":case"string":case"number":gt=!0;break;case"object":switch(C.$$typeof){case n:case t:gt=!0;break;case m:return gt=C._init,A(gt(C._payload),D,Y,st,et)}}if(gt)return et=et(C),gt=st===""?"."+$(C,0):st,O(et)?(Y="",gt!=null&&(Y=gt.replace(Z,"$&/")+"/"),A(et,D,Y,"",function(xt){return xt})):et!=null&&(K(et)&&(et=H(et,Y+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(Z,"$&/")+"/")+gt)),D.push(et)),1;gt=0;var ot=st===""?".":st+":";if(O(C))for(var vt=0;vt<C.length;vt++)st=C[vt],mt=ot+$(st,vt),gt+=A(st,D,Y,mt,et);else if(vt=v(C),typeof vt=="function")for(C=vt.call(C),vt=0;!(st=C.next()).done;)st=st.value,mt=ot+$(st,vt++),gt+=A(st,D,Y,mt,et);else if(mt==="object"){if(typeof C.then=="function")return A(ut(C),D,Y,st,et);throw D=String(C),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return gt}function E(C,D,Y){if(C==null)return C;var st=[],et=0;return A(C,st,"","",function(mt){return D.call(Y,mt,et++)}),st}function N(C){if(C._status===-1){var D=C._result;D=D(),D.then(function(Y){(C._status===0||C._status===-1)&&(C._status=1,C._result=Y)},function(Y){(C._status===0||C._status===-1)&&(C._status=2,C._result=Y)}),C._status===-1&&(C._status=0,C._result=D)}if(C._status===1)return C._result.default;throw C._result}var B=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},P={map:E,forEach:function(C,D,Y){E(C,function(){D.apply(this,arguments)},Y)},count:function(C){var D=0;return E(C,function(){D++}),D},toArray:function(C){return E(C,function(D){return D})||[]},only:function(C){if(!K(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return kt.Activity=y,kt.Children=P,kt.Component=T,kt.Fragment=e,kt.Profiler=a,kt.PureComponent=R,kt.StrictMode=i,kt.Suspense=d,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,kt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return z.H.useMemoCache(C)}},kt.cache=function(C){return function(){return C.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(C,D,Y){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var st=S({},C.props),et=C.key;if(D!=null)for(mt in D.key!==void 0&&(et=""+D.key),D)!L.call(D,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&D.ref===void 0||(st[mt]=D[mt]);var mt=arguments.length-2;if(mt===1)st.children=Y;else if(1<mt){for(var gt=Array(mt),ot=0;ot<mt;ot++)gt[ot]=arguments[ot+2];st.children=gt}return V(C.type,et,st)},kt.createContext=function(C){return C={$$typeof:c,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:l,_context:C},C},kt.createElement=function(C,D,Y){var st,et={},mt=null;if(D!=null)for(st in D.key!==void 0&&(mt=""+D.key),D)L.call(D,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(et[st]=D[st]);var gt=arguments.length-2;if(gt===1)et.children=Y;else if(1<gt){for(var ot=Array(gt),vt=0;vt<gt;vt++)ot[vt]=arguments[vt+2];et.children=ot}if(C&&C.defaultProps)for(st in gt=C.defaultProps,gt)et[st]===void 0&&(et[st]=gt[st]);return V(C,mt,et)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(C){return{$$typeof:h,render:C}},kt.isValidElement=K,kt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:N}},kt.memo=function(C,D){return{$$typeof:f,type:C,compare:D===void 0?null:D}},kt.startTransition=function(C){var D=z.T,Y={};z.T=Y;try{var st=C(),et=z.S;et!==null&&et(Y,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(j,B)}catch(mt){B(mt)}finally{D!==null&&Y.types!==null&&(D.types=Y.types),z.T=D}},kt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},kt.use=function(C){return z.H.use(C)},kt.useActionState=function(C,D,Y){return z.H.useActionState(C,D,Y)},kt.useCallback=function(C,D){return z.H.useCallback(C,D)},kt.useContext=function(C){return z.H.useContext(C)},kt.useDebugValue=function(){},kt.useDeferredValue=function(C,D){return z.H.useDeferredValue(C,D)},kt.useEffect=function(C,D){return z.H.useEffect(C,D)},kt.useEffectEvent=function(C){return z.H.useEffectEvent(C)},kt.useId=function(){return z.H.useId()},kt.useImperativeHandle=function(C,D,Y){return z.H.useImperativeHandle(C,D,Y)},kt.useInsertionEffect=function(C,D){return z.H.useInsertionEffect(C,D)},kt.useLayoutEffect=function(C,D){return z.H.useLayoutEffect(C,D)},kt.useMemo=function(C,D){return z.H.useMemo(C,D)},kt.useOptimistic=function(C,D){return z.H.useOptimistic(C,D)},kt.useReducer=function(C,D,Y){return z.H.useReducer(C,D,Y)},kt.useRef=function(C){return z.H.useRef(C)},kt.useState=function(C){return z.H.useState(C)},kt.useSyncExternalStore=function(C,D,Y){return z.H.useSyncExternalStore(C,D,Y)},kt.useTransition=function(){return z.H.useTransition()},kt.version="19.2.0",kt}var mw;function $m(){return mw||(mw=1,Op.exports=WT()),Op.exports}var Bp={exports:{}},_n={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function XT(){if(gw)return _n;gw=1;var n=$m();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,f,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:d,containerInfo:f,implementation:m}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(d,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(d,f,null,m)},_n.flushSync=function(d){var f=c.T,m=i.p;try{if(c.T=null,i.p=2,d)return d()}finally{c.T=f,i.p=m,i.d.f()}},_n.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},_n.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},_n.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):m==="script"&&i.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=h(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},_n.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,y=h(m,f.crossOrigin);i.d.L(d,m,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(d,f){if(typeof d=="string")if(f){var m=h(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},_n.requestFormReset=function(d){i.d.r(d)},_n.unstable_batchedUpdates=function(d,f){return d(f)},_n.useFormState=function(d,f,m){return c.H.useFormState(d,f,m)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.0",_n}var yw;function $T(){if(yw)return Bp.exports;yw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Bp.exports=XT(),Bp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function ZT(){if(_w)return Vl;_w=1;var n=YT(),t=$m(),e=$T();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var r=s,o=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(o=r.return),s=r.return;while(s)}return r.tag===3?o:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function d(s){if(l(s)!==s)throw Error(i(188))}function f(s){var r=s.alternate;if(!r){if(r=l(s),r===null)throw Error(i(188));return r!==s?null:s}for(var o=s,u=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(u=p.return,u!==null){o=u;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return d(p),s;if(g===u)return d(p),r;g=g.sibling}throw Error(i(188))}if(o.return!==u.return)o=p,u=g;else{for(var b=!1,M=p.child;M;){if(M===o){b=!0,o=p,u=g;break}if(M===u){b=!0,u=p,o=g;break}M=M.sibling}if(!b){for(M=g.child;M;){if(M===o){b=!0,o=g,u=p;break}if(M===u){b=!0,u=g,o=p;break}M=M.sibling}if(!b)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?s:r}function m(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=m(s),r!==null)return r;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function Q(s){return s===null||typeof s!="object"?null:(s=K&&s[K]||s["@@iterator"],typeof s=="function"?s:null)}var Z=Symbol.for("react.client.reference");function $(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Z?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case S:return"Fragment";case T:return"Profiler";case x:return"StrictMode";case O:return"Suspense";case j:return"SuspenseList";case V:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case R:return s.displayName||"Context";case k:return(s._context.displayName||"Context")+".Consumer";case U:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case z:return r=s.displayName||null,r!==null?r:$(s.type)||"Memo";case L:r=s._payload,s=s._init;try{return $(s(r))}catch{}}return null}var ut=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,E=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},B=[],P=-1;function C(s){return{current:s}}function D(s){0>P||(s.current=B[P],B[P]=null,P--)}function Y(s,r){P++,B[P]=s.current,s.current=r}var st=C(null),et=C(null),mt=C(null),gt=C(null);function ot(s,r){switch(Y(mt,r),Y(et,s),Y(st,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Ov(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Ov(r),s=Bv(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}D(st),Y(st,s)}function vt(){D(st),D(et),D(mt)}function xt(s){s.memoizedState!==null&&Y(gt,s);var r=st.current,o=Bv(r,s.type);r!==o&&(Y(et,s),Y(st,o))}function Wt(s){et.current===s&&(D(st),D(et)),gt.current===s&&(D(gt),Ll._currentValue=N)}var te,Ue;function be(s){if(te===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);te=r&&r[1]||"",Ue=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+te+s+Ue}var ft=!1;function yt(s,r){if(!s||ft)return"";ft=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var pt=function(){throw Error()};if(Object.defineProperty(pt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(pt,[])}catch(rt){var nt=rt}Reflect.construct(s,[],pt)}else{try{pt.call()}catch(rt){nt=rt}s.call(pt.prototype)}}else{try{throw Error()}catch(rt){nt=rt}(pt=s())&&typeof pt.catch=="function"&&pt.catch(function(){})}}catch(rt){if(rt&&nt&&typeof rt.stack=="string")return[rt.stack,nt.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],M=g[1];if(b&&M){var F=b.split(`
`),tt=M.split(`
`);for(p=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;p<tt.length&&!tt[p].includes("DetermineComponentFrameRoot");)p++;if(u===F.length||p===tt.length)for(u=F.length-1,p=tt.length-1;1<=u&&0<=p&&F[u]!==tt[p];)p--;for(;1<=u&&0<=p;u--,p--)if(F[u]!==tt[p]){if(u!==1||p!==1)do if(u--,p--,0>p||F[u]!==tt[p]){var ct=`
`+F[u].replace(" at new "," at ");return s.displayName&&ct.includes("<anonymous>")&&(ct=ct.replace("<anonymous>",s.displayName)),ct}while(1<=u&&0<=p);break}}}finally{ft=!1,Error.prepareStackTrace=o}return(o=s?s.displayName||s.name:"")?be(o):""}function Ht(s,r){switch(s.tag){case 26:case 27:case 5:return be(s.type);case 16:return be("Lazy");case 13:return s.child!==r&&r!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return yt(s.type,!1);case 11:return yt(s.type.render,!1);case 1:return yt(s.type,!0);case 31:return be("Activity");default:return""}}function It(s){try{var r="",o=null;do r+=Ht(s,o),o=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Nt=Object.prototype.hasOwnProperty,qt=n.unstable_scheduleCallback,me=n.unstable_cancelCallback,Sn=n.unstable_shouldYield,Ts=n.unstable_requestPaint,Be=n.unstable_now,Nr=n.unstable_getCurrentPriorityLevel,oi=n.unstable_ImmediatePriority,va=n.unstable_UserBlockingPriority,li=n.unstable_NormalPriority,wa=n.unstable_LowPriority,Yn=n.unstable_IdlePriority,ba=n.log,I=n.unstable_setDisableYieldValue,G=null,ht=null;function lt(s){if(typeof ba=="function"&&I(s),ht&&typeof ht.setStrictMode=="function")try{ht.setStrictMode(G,s)}catch{}}var _t=Math.clz32?Math.clz32:Xt,St=Math.log,Ct=Math.LN2;function Xt(s){return s>>>=0,s===0?32:31-(St(s)/Ct|0)|0}var Yt=256,ue=262144,he=4194304;function Ae(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function yn(s,r,o){var u=s.pendingLanes;if(u===0)return 0;var p=0,g=s.suspendedLanes,b=s.pingedLanes;s=s.warmLanes;var M=u&134217727;return M!==0?(u=M&~g,u!==0?p=Ae(u):(b&=M,b!==0?p=Ae(b):o||(o=M&~s,o!==0&&(p=Ae(o))))):(M=u&~g,M!==0?p=Ae(M):b!==0?p=Ae(b):o||(o=u&~s,o!==0&&(p=Ae(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function os(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function md(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function py(){var s=he;return he<<=1,(he&62914560)===0&&(he=4194304),s}function gd(s){for(var r=[],o=0;31>o;o++)r.push(s);return r}function Qo(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function R2(s,r,o,u,p,g){var b=s.pendingLanes;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=o,s.entangledLanes&=o,s.errorRecoveryDisabledLanes&=o,s.shellSuspendCounter=0;var M=s.entanglements,F=s.expirationTimes,tt=s.hiddenUpdates;for(o=b&~o;0<o;){var ct=31-_t(o),pt=1<<ct;M[ct]=0,F[ct]=-1;var nt=tt[ct];if(nt!==null)for(tt[ct]=null,ct=0;ct<nt.length;ct++){var rt=nt[ct];rt!==null&&(rt.lane&=-536870913)}o&=~pt}u!==0&&my(s,u,0),g!==0&&p===0&&s.tag!==0&&(s.suspendedLanes|=g&~(b&~r))}function my(s,r,o){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-_t(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|o&261930}function gy(s,r){var o=s.entangledLanes|=r;for(s=s.entanglements;o;){var u=31-_t(o),p=1<<u;p&r|s[u]&r&&(s[u]|=r),o&=~p}}function yy(s,r){var o=r&-r;return o=(o&42)!==0?1:yd(o),(o&(s.suspendedLanes|r))!==0?0:o}function yd(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function _d(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function _y(){var s=E.p;return s!==0?s:(s=window.event,s===void 0?32:sw(s.type))}function vy(s,r){var o=E.p;try{return E.p=s,r()}finally{E.p=o}}var qi=Math.random().toString(36).slice(2),an="__reactFiber$"+qi,kn="__reactProps$"+qi,xa="__reactContainer$"+qi,vd="__reactEvents$"+qi,D2="__reactListeners$"+qi,O2="__reactHandles$"+qi,wy="__reactResources$"+qi,Ko="__reactMarker$"+qi;function wd(s){delete s[an],delete s[kn],delete s[vd],delete s[D2],delete s[O2]}function Sa(s){var r=s[an];if(r)return r;for(var o=s.parentNode;o;){if(r=o[xa]||o[an]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(s=Fv(s);s!==null;){if(o=s[an])return o;s=Fv(s)}return r}s=o,o=s.parentNode}return null}function Aa(s){if(s=s[an]||s[xa]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Jo(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Ta(s){var r=s[wy];return r||(r=s[wy]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Qe(s){s[Ko]=!0}var by=new Set,xy={};function Rr(s,r){Ca(s,r),Ca(s+"Capture",r)}function Ca(s,r){for(xy[s]=r,s=0;s<r.length;s++)by.add(r[s])}var B2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sy={},Ay={};function I2(s){return Nt.call(Ay,s)?!0:Nt.call(Sy,s)?!1:B2.test(s)?Ay[s]=!0:(Sy[s]=!0,!1)}function Ic(s,r,o){if(I2(r))if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+o)}}function zc(s,r,o){if(o===null)s.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+o)}}function ci(s,r,o,u){if(u===null)s.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttributeNS(r,o,""+u)}}function ls(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ty(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function z2(s,r,o){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,g=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return p.call(this)},set:function(b){o=""+b,g.call(this,b)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function bd(s){if(!s._valueTracker){var r=Ty(s)?"checked":"value";s._valueTracker=z2(s,r,""+s[r])}}function Cy(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return s&&(u=Ty(s)?s.checked?"true":"false":s.value),s=u,s!==o?(r.setValue(s),!0):!1}function Lc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var L2=/[\n"\\]/g;function cs(s){return s.replace(L2,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function xd(s,r,o,u,p,g,b,M){s.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?s.type=b:s.removeAttribute("type"),r!=null?b==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+ls(r)):s.value!==""+ls(r)&&(s.value=""+ls(r)):b!=="submit"&&b!=="reset"||s.removeAttribute("value"),r!=null?Sd(s,b,ls(r)):o!=null?Sd(s,b,ls(o)):u!=null&&s.removeAttribute("value"),p==null&&g!=null&&(s.defaultChecked=!!g),p!=null&&(s.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?s.name=""+ls(M):s.removeAttribute("name")}function Ey(s,r,o,u,p,g,b,M){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(s.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){bd(s);return}o=o!=null?""+ls(o):"",r=r!=null?""+ls(r):o,M||r===s.value||(s.value=r),s.defaultValue=r}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=M?s.checked:!!u,s.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.name=b),bd(s)}function Sd(s,r,o){r==="number"&&Lc(s.ownerDocument)===s||s.defaultValue===""+o||(s.defaultValue=""+o)}function Ea(s,r,o,u){if(s=s.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<s.length;o++)p=r.hasOwnProperty("$"+s[o].value),s[o].selected!==p&&(s[o].selected=p),p&&u&&(s[o].defaultSelected=!0)}else{for(o=""+ls(o),r=null,p=0;p<s.length;p++){if(s[p].value===o){s[p].selected=!0,u&&(s[p].defaultSelected=!0);return}r!==null||s[p].disabled||(r=s[p])}r!==null&&(r.selected=!0)}}function My(s,r,o){if(r!=null&&(r=""+ls(r),r!==s.value&&(s.value=r),o==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=o!=null?""+ls(o):""}function ky(s,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(i(92));if(ut(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ls(r),s.defaultValue=o,u=s.textContent,u===o&&u!==""&&u!==null&&(s.value=u),bd(s)}function Ma(s,r){if(r){var o=s.firstChild;if(o&&o===s.lastChild&&o.nodeType===3){o.nodeValue=r;return}}s.textContent=r}var P2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ny(s,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,o):typeof o!="number"||o===0||P2.has(r)?r==="float"?s.cssFloat=o:s[r]=(""+o).trim():s[r]=o+"px"}function Ry(s,r,o){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var p in r)u=r[p],r.hasOwnProperty(p)&&o[p]!==u&&Ny(s,p,u)}else for(var g in r)r.hasOwnProperty(g)&&Ny(s,g,r[g])}function Ad(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),U2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pc(s){return U2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ui(){}var Td=null;function Cd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ka=null,Na=null;function Dy(s){var r=Aa(s);if(r&&(s=r.stateNode)){var o=s[kn]||null;t:switch(s=r.stateNode,r.type){case"input":if(xd(s,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=s;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+cs(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==s&&u.form===s.form){var p=u[kn]||null;if(!p)throw Error(i(90));xd(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===s.form&&Cy(u)}break t;case"textarea":My(s,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&Ea(s,!!o.multiple,r,!1)}}}var Ed=!1;function Oy(s,r,o){if(Ed)return s(r,o);Ed=!0;try{var u=s(r);return u}finally{if(Ed=!1,(ka!==null||Na!==null)&&(Tu(),ka&&(r=ka,s=Na,Na=ka=null,Dy(r),s)))for(r=0;r<s.length;r++)Dy(s[r])}}function tl(s,r){var o=s.stateNode;if(o===null)return null;var u=o[kn]||null;if(u===null)return null;o=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(o&&typeof o!="function")throw Error(i(231,r,typeof o));return o}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Md=!1;if(hi)try{var el={};Object.defineProperty(el,"passive",{get:function(){Md=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Md=!1}var Gi=null,kd=null,jc=null;function By(){if(jc)return jc;var s,r=kd,o=r.length,u,p="value"in Gi?Gi.value:Gi.textContent,g=p.length;for(s=0;s<o&&r[s]===p[s];s++);var b=o-s;for(u=1;u<=b&&r[o-u]===p[g-u];u++);return jc=p.slice(s,1<u?1-u:void 0)}function Uc(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Fc(){return!0}function Iy(){return!1}function Nn(s){function r(o,u,p,g,b){this._reactName=o,this._targetInst=p,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(o=s[M],this[M]=o?o(g):g[M]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Fc:Iy,this.isPropagationStopped=Iy,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),r}var Dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vc=Nn(Dr),nl=y({},Dr,{view:0,detail:0}),F2=Nn(nl),Nd,Rd,sl,Hc=y({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Od,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==sl&&(sl&&s.type==="mousemove"?(Nd=s.screenX-sl.screenX,Rd=s.screenY-sl.screenY):Rd=Nd=0,sl=s),Nd)},movementY:function(s){return"movementY"in s?s.movementY:Rd}}),zy=Nn(Hc),V2=y({},Hc,{dataTransfer:0}),H2=Nn(V2),q2=y({},nl,{relatedTarget:0}),Dd=Nn(q2),G2=y({},Dr,{animationName:0,elapsedTime:0,pseudoElement:0}),Y2=Nn(G2),W2=y({},Dr,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),X2=Nn(W2),$2=y({},Dr,{data:0}),Ly=Nn($2),Z2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J2(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=K2[s])?!!r[s]:!1}function Od(){return J2}var tA=y({},nl,{key:function(s){if(s.key){var r=Z2[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Uc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Q2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Od,charCode:function(s){return s.type==="keypress"?Uc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Uc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),eA=Nn(tA),nA=y({},Hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Py=Nn(nA),sA=y({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Od}),iA=Nn(sA),rA=y({},Dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),aA=Nn(rA),oA=y({},Hc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),lA=Nn(oA),cA=y({},Dr,{newState:0,oldState:0}),uA=Nn(cA),hA=[9,13,27,32],Bd=hi&&"CompositionEvent"in window,il=null;hi&&"documentMode"in document&&(il=document.documentMode);var dA=hi&&"TextEvent"in window&&!il,jy=hi&&(!Bd||il&&8<il&&11>=il),Uy=" ",Fy=!1;function Vy(s,r){switch(s){case"keyup":return hA.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ra=!1;function fA(s,r){switch(s){case"compositionend":return Hy(r);case"keypress":return r.which!==32?null:(Fy=!0,Uy);case"textInput":return s=r.data,s===Uy&&Fy?null:s;default:return null}}function pA(s,r){if(Ra)return s==="compositionend"||!Bd&&Vy(s,r)?(s=By(),jc=kd=Gi=null,Ra=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return jy&&r.locale!=="ko"?null:r.data;default:return null}}var mA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!mA[s.type]:r==="textarea"}function Gy(s,r,o,u){ka?Na?Na.push(u):Na=[u]:ka=u,r=Du(r,"onChange"),0<r.length&&(o=new Vc("onChange","change",null,o,u),s.push({event:o,listeners:r}))}var rl=null,al=null;function gA(s){Ev(s,0)}function qc(s){var r=Jo(s);if(Cy(r))return s}function Yy(s,r){if(s==="change")return r}var Wy=!1;if(hi){var Id;if(hi){var zd="oninput"in document;if(!zd){var Xy=document.createElement("div");Xy.setAttribute("oninput","return;"),zd=typeof Xy.oninput=="function"}Id=zd}else Id=!1;Wy=Id&&(!document.documentMode||9<document.documentMode)}function $y(){rl&&(rl.detachEvent("onpropertychange",Zy),al=rl=null)}function Zy(s){if(s.propertyName==="value"&&qc(al)){var r=[];Gy(r,al,s,Cd(s)),Oy(gA,r)}}function yA(s,r,o){s==="focusin"?($y(),rl=r,al=o,rl.attachEvent("onpropertychange",Zy)):s==="focusout"&&$y()}function _A(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qc(al)}function vA(s,r){if(s==="click")return qc(r)}function wA(s,r){if(s==="input"||s==="change")return qc(r)}function bA(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Wn=typeof Object.is=="function"?Object.is:bA;function ol(s,r){if(Wn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var o=Object.keys(s),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var p=o[u];if(!Nt.call(r,p)||!Wn(s[p],r[p]))return!1}return!0}function Qy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ky(s,r){var o=Qy(s);s=0;for(var u;o;){if(o.nodeType===3){if(u=s+o.textContent.length,s<=r&&u>=r)return{node:o,offset:r-s};s=u}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Qy(o)}}function Jy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?Jy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function t_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Lc(s.document);r instanceof s.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)s=r.contentWindow;else break;r=Lc(s.document)}return r}function Ld(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var xA=hi&&"documentMode"in document&&11>=document.documentMode,Da=null,Pd=null,ll=null,jd=!1;function e_(s,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;jd||Da==null||Da!==Lc(u)||(u=Da,"selectionStart"in u&&Ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ll&&ol(ll,u)||(ll=u,u=Du(Pd,"onSelect"),0<u.length&&(r=new Vc("onSelect","select",null,r,o),s.push({event:r,listeners:u}),r.target=Da)))}function Or(s,r){var o={};return o[s.toLowerCase()]=r.toLowerCase(),o["Webkit"+s]="webkit"+r,o["Moz"+s]="moz"+r,o}var Oa={animationend:Or("Animation","AnimationEnd"),animationiteration:Or("Animation","AnimationIteration"),animationstart:Or("Animation","AnimationStart"),transitionrun:Or("Transition","TransitionRun"),transitionstart:Or("Transition","TransitionStart"),transitioncancel:Or("Transition","TransitionCancel"),transitionend:Or("Transition","TransitionEnd")},Ud={},n_={};hi&&(n_=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Br(s){if(Ud[s])return Ud[s];if(!Oa[s])return s;var r=Oa[s],o;for(o in r)if(r.hasOwnProperty(o)&&o in n_)return Ud[s]=r[o];return s}var s_=Br("animationend"),i_=Br("animationiteration"),r_=Br("animationstart"),SA=Br("transitionrun"),AA=Br("transitionstart"),TA=Br("transitioncancel"),a_=Br("transitionend"),o_=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function Cs(s,r){o_.set(s,r),Rr(r,[s])}var Gc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},us=[],Ba=0,Vd=0;function Yc(){for(var s=Ba,r=Vd=Ba=0;r<s;){var o=us[r];us[r++]=null;var u=us[r];us[r++]=null;var p=us[r];us[r++]=null;var g=us[r];if(us[r++]=null,u!==null&&p!==null){var b=u.pending;b===null?p.next=p:(p.next=b.next,b.next=p),u.pending=p}g!==0&&l_(o,p,g)}}function Wc(s,r,o,u){us[Ba++]=s,us[Ba++]=r,us[Ba++]=o,us[Ba++]=u,Vd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function Hd(s,r,o,u){return Wc(s,r,o,u),Xc(s)}function Ir(s,r){return Wc(s,null,null,r),Xc(s)}function l_(s,r,o){s.lanes|=o;var u=s.alternate;u!==null&&(u.lanes|=o);for(var p=!1,g=s.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(s=g.stateNode,s===null||s._visibility&1||(p=!0)),s=g,g=g.return;return s.tag===3?(g=s.stateNode,p&&r!==null&&(p=31-_t(o),s=g.hiddenUpdates,u=s[p],u===null?s[p]=[r]:u.push(r),r.lane=o|536870912),g):null}function Xc(s){if(50<Nl)throw Nl=0,Jf=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var Ia={};function CA(s,r,o,u){this.tag=s,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(s,r,o,u){return new CA(s,r,o,u)}function qd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function di(s,r){var o=s.alternate;return o===null?(o=Xn(s.tag,r,s.key,s.mode),o.elementType=s.elementType,o.type=s.type,o.stateNode=s.stateNode,o.alternate=s,s.alternate=o):(o.pendingProps=r,o.type=s.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=s.flags&65011712,o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,r=s.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=s.sibling,o.index=s.index,o.ref=s.ref,o.refCleanup=s.refCleanup,o}function c_(s,r){s.flags&=65011714;var o=s.alternate;return o===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,r=o.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function $c(s,r,o,u,p,g){var b=0;if(u=s,typeof s=="function")qd(s)&&(b=1);else if(typeof s=="string")b=RT(s,o,st.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case V:return s=Xn(31,o,r,p),s.elementType=V,s.lanes=g,s;case S:return zr(o.children,p,g,r);case x:b=8,p|=24;break;case T:return s=Xn(12,o,r,p|2),s.elementType=T,s.lanes=g,s;case O:return s=Xn(13,o,r,p),s.elementType=O,s.lanes=g,s;case j:return s=Xn(19,o,r,p),s.elementType=j,s.lanes=g,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:b=10;break t;case k:b=9;break t;case U:b=11;break t;case z:b=14;break t;case L:b=16,u=null;break t}b=29,o=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Xn(b,o,r,p),r.elementType=s,r.type=u,r.lanes=g,r}function zr(s,r,o,u){return s=Xn(7,s,u,r),s.lanes=o,s}function Gd(s,r,o){return s=Xn(6,s,null,r),s.lanes=o,s}function u_(s){var r=Xn(18,null,null,0);return r.stateNode=s,r}function Yd(s,r,o){return r=Xn(4,s.children!==null?s.children:[],s.key,r),r.lanes=o,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var h_=new WeakMap;function hs(s,r){if(typeof s=="object"&&s!==null){var o=h_.get(s);return o!==void 0?o:(r={value:s,source:r,stack:It(r)},h_.set(s,r),r)}return{value:s,source:r,stack:It(r)}}var za=[],La=0,Zc=null,cl=0,ds=[],fs=0,Yi=null,Fs=1,Vs="";function fi(s,r){za[La++]=cl,za[La++]=Zc,Zc=s,cl=r}function d_(s,r,o){ds[fs++]=Fs,ds[fs++]=Vs,ds[fs++]=Yi,Yi=s;var u=Fs;s=Vs;var p=32-_t(u)-1;u&=~(1<<p),o+=1;var g=32-_t(r)+p;if(30<g){var b=p-p%5;g=(u&(1<<b)-1).toString(32),u>>=b,p-=b,Fs=1<<32-_t(r)+p|o<<p|u,Vs=g+s}else Fs=1<<g|o<<p|u,Vs=s}function Wd(s){s.return!==null&&(fi(s,1),d_(s,1,0))}function Xd(s){for(;s===Zc;)Zc=za[--La],za[La]=null,cl=za[--La],za[La]=null;for(;s===Yi;)Yi=ds[--fs],ds[fs]=null,Vs=ds[--fs],ds[fs]=null,Fs=ds[--fs],ds[fs]=null}function f_(s,r){ds[fs++]=Fs,ds[fs++]=Vs,ds[fs++]=Yi,Fs=r.id,Vs=r.overflow,Yi=s}var on=null,ge=null,Gt=!1,Wi=null,ps=!1,$d=Error(i(519));function Xi(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(hs(r,s)),$d}function p_(s){var r=s.stateNode,o=s.type,u=s.memoizedProps;switch(r[an]=s,r[kn]=u,o){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(o=0;o<Dl.length;o++)Pt(Dl[o],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Ey(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),ky(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||Rv(r.textContent,o)?(u.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),u.onScroll!=null&&Pt("scroll",r),u.onScrollEnd!=null&&Pt("scrollend",r),u.onClick!=null&&(r.onclick=ui),r=!0):r=!1,r||Xi(s,!0)}function m_(s){for(on=s.return;on;)switch(on.tag){case 5:case 31:case 13:ps=!1;return;case 27:case 3:ps=!0;return;default:on=on.return}}function Pa(s){if(s!==on)return!1;if(!Gt)return m_(s),Gt=!0,!1;var r=s.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=s.type,o=!(o!=="form"&&o!=="button")||pp(s.type,s.memoizedProps)),o=!o),o&&ge&&Xi(s),m_(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ge=Uv(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ge=Uv(s)}else r===27?(r=ge,lr(s.type)?(s=vp,vp=null,ge=s):ge=r):ge=on?gs(s.stateNode.nextSibling):null;return!0}function Lr(){ge=on=null,Gt=!1}function Zd(){var s=Wi;return s!==null&&(Bn===null?Bn=s:Bn.push.apply(Bn,s),Wi=null),s}function ul(s){Wi===null?Wi=[s]:Wi.push(s)}var Qd=C(null),Pr=null,pi=null;function $i(s,r,o){Y(Qd,r._currentValue),r._currentValue=o}function mi(s){s._currentValue=Qd.current,D(Qd)}function Kd(s,r,o){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===o)break;s=s.return}}function Jd(s,r,o,u){var p=s.child;for(p!==null&&(p.return=s);p!==null;){var g=p.dependencies;if(g!==null){var b=p.child;g=g.firstContext;t:for(;g!==null;){var M=g;g=p;for(var F=0;F<r.length;F++)if(M.context===r[F]){g.lanes|=o,M=g.alternate,M!==null&&(M.lanes|=o),Kd(g.return,o,s),u||(b=null);break t}g=M.next}}else if(p.tag===18){if(b=p.return,b===null)throw Error(i(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Kd(b,o,s),b=null}else b=p.child;if(b!==null)b.return=p;else for(b=p;b!==null;){if(b===s){b=null;break}if(p=b.sibling,p!==null){p.return=b.return,b=p;break}b=b.return}p=b}}function ja(s,r,o,u){s=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var b=p.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var M=p.type;Wn(p.pendingProps.value,b.value)||(s!==null?s.push(M):s=[M])}}else if(p===gt.current){if(b=p.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(s!==null?s.push(Ll):s=[Ll])}p=p.return}s!==null&&Jd(r,s,o,u),r.flags|=262144}function Qc(s){for(s=s.firstContext;s!==null;){if(!Wn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function jr(s){Pr=s,pi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function ln(s){return g_(Pr,s)}function Kc(s,r){return Pr===null&&jr(s),g_(s,r)}function g_(s,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pi===null){if(s===null)throw Error(i(308));pi=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else pi=pi.next=r;return o}var EA=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(o,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(o){return o()})}},MA=n.unstable_scheduleCallback,kA=n.unstable_NormalPriority,Fe={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tf(){return{controller:new EA,data:new Map,refCount:0}}function hl(s){s.refCount--,s.refCount===0&&MA(kA,function(){s.controller.abort()})}var dl=null,ef=0,Ua=0,Fa=null;function NA(s,r){if(dl===null){var o=dl=[];ef=0,Ua=rp(),Fa={status:"pending",value:void 0,then:function(u){o.push(u)}}}return ef++,r.then(y_,y_),r}function y_(){if(--ef===0&&dl!==null){Fa!==null&&(Fa.status="fulfilled");var s=dl;dl=null,Ua=0,Fa=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function RA(s,r){var o=[],u={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(u.status="rejected",u.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),u}var __=A.S;A.S=function(s,r){ev=Be(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NA(s,r),__!==null&&__(s,r)};var Ur=C(null);function nf(){var s=Ur.current;return s!==null?s:de.pooledCache}function Jc(s,r){r===null?Y(Ur,Ur.current):Y(Ur,r.pool)}function v_(){var s=nf();return s===null?null:{parent:Fe._currentValue,pool:s}}var Va=Error(i(460)),sf=Error(i(474)),tu=Error(i(542)),eu={then:function(){}};function w_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function b_(s,r,o){switch(o=s[o],o===void 0?s.push(r):o!==r&&(r.then(ui,ui),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,S_(s),s;default:if(typeof r.status=="string")r.then(ui,ui);else{if(s=de,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=u}},function(u){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,S_(s),s}throw Vr=r,Va}}function Fr(s){try{var r=s._init;return r(s._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Vr=o,Va):o}}var Vr=null;function x_(){if(Vr===null)throw Error(i(459));var s=Vr;return Vr=null,s}function S_(s){if(s===Va||s===tu)throw Error(i(483))}var Ha=null,fl=0;function nu(s){var r=fl;return fl+=1,Ha===null&&(Ha=[]),b_(Ha,s,r)}function pl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function su(s,r){throw r.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function A_(s){function r(X,q){if(s){var J=X.deletions;J===null?(X.deletions=[q],X.flags|=16):J.push(q)}}function o(X,q){if(!s)return null;for(;q!==null;)r(X,q),q=q.sibling;return null}function u(X){for(var q=new Map;X!==null;)X.key!==null?q.set(X.key,X):q.set(X.index,X),X=X.sibling;return q}function p(X,q){return X=di(X,q),X.index=0,X.sibling=null,X}function g(X,q,J){return X.index=J,s?(J=X.alternate,J!==null?(J=J.index,J<q?(X.flags|=67108866,q):J):(X.flags|=67108866,q)):(X.flags|=1048576,q)}function b(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function M(X,q,J,dt){return q===null||q.tag!==6?(q=Gd(J,X.mode,dt),q.return=X,q):(q=p(q,J),q.return=X,q)}function F(X,q,J,dt){var Tt=J.type;return Tt===S?ct(X,q,J.props.children,dt,J.key):q!==null&&(q.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===L&&Fr(Tt)===q.type)?(q=p(q,J.props),pl(q,J),q.return=X,q):(q=$c(J.type,J.key,J.props,null,X.mode,dt),pl(q,J),q.return=X,q)}function tt(X,q,J,dt){return q===null||q.tag!==4||q.stateNode.containerInfo!==J.containerInfo||q.stateNode.implementation!==J.implementation?(q=Yd(J,X.mode,dt),q.return=X,q):(q=p(q,J.children||[]),q.return=X,q)}function ct(X,q,J,dt,Tt){return q===null||q.tag!==7?(q=zr(J,X.mode,dt,Tt),q.return=X,q):(q=p(q,J),q.return=X,q)}function pt(X,q,J){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Gd(""+q,X.mode,J),q.return=X,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case v:return J=$c(q.type,q.key,q.props,null,X.mode,J),pl(J,q),J.return=X,J;case w:return q=Yd(q,X.mode,J),q.return=X,q;case L:return q=Fr(q),pt(X,q,J)}if(ut(q)||Q(q))return q=zr(q,X.mode,J,null),q.return=X,q;if(typeof q.then=="function")return pt(X,nu(q),J);if(q.$$typeof===R)return pt(X,Kc(X,q),J);su(X,q)}return null}function nt(X,q,J,dt){var Tt=q!==null?q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Tt!==null?null:M(X,q,""+J,dt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return J.key===Tt?F(X,q,J,dt):null;case w:return J.key===Tt?tt(X,q,J,dt):null;case L:return J=Fr(J),nt(X,q,J,dt)}if(ut(J)||Q(J))return Tt!==null?null:ct(X,q,J,dt,null);if(typeof J.then=="function")return nt(X,q,nu(J),dt);if(J.$$typeof===R)return nt(X,q,Kc(X,J),dt);su(X,J)}return null}function rt(X,q,J,dt,Tt){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return X=X.get(J)||null,M(q,X,""+dt,Tt);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case v:return X=X.get(dt.key===null?J:dt.key)||null,F(q,X,dt,Tt);case w:return X=X.get(dt.key===null?J:dt.key)||null,tt(q,X,dt,Tt);case L:return dt=Fr(dt),rt(X,q,J,dt,Tt)}if(ut(dt)||Q(dt))return X=X.get(J)||null,ct(q,X,dt,Tt,null);if(typeof dt.then=="function")return rt(X,q,J,nu(dt),Tt);if(dt.$$typeof===R)return rt(X,q,J,Kc(q,dt),Tt);su(q,dt)}return null}function wt(X,q,J,dt){for(var Tt=null,$t=null,bt=q,Ot=q=0,Ft=null;bt!==null&&Ot<J.length;Ot++){bt.index>Ot?(Ft=bt,bt=null):Ft=bt.sibling;var Zt=nt(X,bt,J[Ot],dt);if(Zt===null){bt===null&&(bt=Ft);break}s&&bt&&Zt.alternate===null&&r(X,bt),q=g(Zt,q,Ot),$t===null?Tt=Zt:$t.sibling=Zt,$t=Zt,bt=Ft}if(Ot===J.length)return o(X,bt),Gt&&fi(X,Ot),Tt;if(bt===null){for(;Ot<J.length;Ot++)bt=pt(X,J[Ot],dt),bt!==null&&(q=g(bt,q,Ot),$t===null?Tt=bt:$t.sibling=bt,$t=bt);return Gt&&fi(X,Ot),Tt}for(bt=u(bt);Ot<J.length;Ot++)Ft=rt(bt,X,Ot,J[Ot],dt),Ft!==null&&(s&&Ft.alternate!==null&&bt.delete(Ft.key===null?Ot:Ft.key),q=g(Ft,q,Ot),$t===null?Tt=Ft:$t.sibling=Ft,$t=Ft);return s&&bt.forEach(function(fr){return r(X,fr)}),Gt&&fi(X,Ot),Tt}function Et(X,q,J,dt){if(J==null)throw Error(i(151));for(var Tt=null,$t=null,bt=q,Ot=q=0,Ft=null,Zt=J.next();bt!==null&&!Zt.done;Ot++,Zt=J.next()){bt.index>Ot?(Ft=bt,bt=null):Ft=bt.sibling;var fr=nt(X,bt,Zt.value,dt);if(fr===null){bt===null&&(bt=Ft);break}s&&bt&&fr.alternate===null&&r(X,bt),q=g(fr,q,Ot),$t===null?Tt=fr:$t.sibling=fr,$t=fr,bt=Ft}if(Zt.done)return o(X,bt),Gt&&fi(X,Ot),Tt;if(bt===null){for(;!Zt.done;Ot++,Zt=J.next())Zt=pt(X,Zt.value,dt),Zt!==null&&(q=g(Zt,q,Ot),$t===null?Tt=Zt:$t.sibling=Zt,$t=Zt);return Gt&&fi(X,Ot),Tt}for(bt=u(bt);!Zt.done;Ot++,Zt=J.next())Zt=rt(bt,X,Ot,Zt.value,dt),Zt!==null&&(s&&Zt.alternate!==null&&bt.delete(Zt.key===null?Ot:Zt.key),q=g(Zt,q,Ot),$t===null?Tt=Zt:$t.sibling=Zt,$t=Zt);return s&&bt.forEach(function(VT){return r(X,VT)}),Gt&&fi(X,Ot),Tt}function ae(X,q,J,dt){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case v:t:{for(var Tt=J.key;q!==null;){if(q.key===Tt){if(Tt=J.type,Tt===S){if(q.tag===7){o(X,q.sibling),dt=p(q,J.props.children),dt.return=X,X=dt;break t}}else if(q.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===L&&Fr(Tt)===q.type){o(X,q.sibling),dt=p(q,J.props),pl(dt,J),dt.return=X,X=dt;break t}o(X,q);break}else r(X,q);q=q.sibling}J.type===S?(dt=zr(J.props.children,X.mode,dt,J.key),dt.return=X,X=dt):(dt=$c(J.type,J.key,J.props,null,X.mode,dt),pl(dt,J),dt.return=X,X=dt)}return b(X);case w:t:{for(Tt=J.key;q!==null;){if(q.key===Tt)if(q.tag===4&&q.stateNode.containerInfo===J.containerInfo&&q.stateNode.implementation===J.implementation){o(X,q.sibling),dt=p(q,J.children||[]),dt.return=X,X=dt;break t}else{o(X,q);break}else r(X,q);q=q.sibling}dt=Yd(J,X.mode,dt),dt.return=X,X=dt}return b(X);case L:return J=Fr(J),ae(X,q,J,dt)}if(ut(J))return wt(X,q,J,dt);if(Q(J)){if(Tt=Q(J),typeof Tt!="function")throw Error(i(150));return J=Tt.call(J),Et(X,q,J,dt)}if(typeof J.then=="function")return ae(X,q,nu(J),dt);if(J.$$typeof===R)return ae(X,q,Kc(X,J),dt);su(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,q!==null&&q.tag===6?(o(X,q.sibling),dt=p(q,J),dt.return=X,X=dt):(o(X,q),dt=Gd(J,X.mode,dt),dt.return=X,X=dt),b(X)):o(X,q)}return function(X,q,J,dt){try{fl=0;var Tt=ae(X,q,J,dt);return Ha=null,Tt}catch(bt){if(bt===Va||bt===tu)throw bt;var $t=Xn(29,bt,null,X.mode);return $t.lanes=dt,$t.return=X,$t}finally{}}}var Hr=A_(!0),T_=A_(!1),Zi=!1;function rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function af(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Qi(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ki(s,r,o){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var p=u.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),u.pending=r,r=Xc(s),l_(s,null,o),r}return Wc(s,u,r,o),Xc(s)}function ml(s,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,gy(s,o)}}function of(s,r){var o=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},s.updateQueue=o;return}s=o.lastBaseUpdate,s===null?o.firstBaseUpdate=r:s.next=r,o.lastBaseUpdate=r}var lf=!1;function gl(){if(lf){var s=Fa;if(s!==null)throw s}}function yl(s,r,o,u){lf=!1;var p=s.updateQueue;Zi=!1;var g=p.firstBaseUpdate,b=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var F=M,tt=F.next;F.next=null,b===null?g=tt:b.next=tt,b=F;var ct=s.alternate;ct!==null&&(ct=ct.updateQueue,M=ct.lastBaseUpdate,M!==b&&(M===null?ct.firstBaseUpdate=tt:M.next=tt,ct.lastBaseUpdate=F))}if(g!==null){var pt=p.baseState;b=0,ct=tt=F=null,M=g;do{var nt=M.lane&-536870913,rt=nt!==M.lane;if(rt?(Ut&nt)===nt:(u&nt)===nt){nt!==0&&nt===Ua&&(lf=!0),ct!==null&&(ct=ct.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});t:{var wt=s,Et=M;nt=r;var ae=o;switch(Et.tag){case 1:if(wt=Et.payload,typeof wt=="function"){pt=wt.call(ae,pt,nt);break t}pt=wt;break t;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=Et.payload,nt=typeof wt=="function"?wt.call(ae,pt,nt):wt,nt==null)break t;pt=y({},pt,nt);break t;case 2:Zi=!0}}nt=M.callback,nt!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=p.callbacks,rt===null?p.callbacks=[nt]:rt.push(nt))}else rt={lane:nt,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ct===null?(tt=ct=rt,F=pt):ct=ct.next=rt,b|=nt;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;rt=M,M=rt.next,rt.next=null,p.lastBaseUpdate=rt,p.shared.pending=null}}while(!0);ct===null&&(F=pt),p.baseState=F,p.firstBaseUpdate=tt,p.lastBaseUpdate=ct,g===null&&(p.shared.lanes=0),sr|=b,s.lanes=b,s.memoizedState=pt}}function C_(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function E_(s,r){var o=s.callbacks;if(o!==null)for(s.callbacks=null,s=0;s<o.length;s++)C_(o[s],r)}var qa=C(null),iu=C(0);function M_(s,r){s=Ai,Y(iu,s),Y(qa,r),Ai=s|r.baseLanes}function cf(){Y(iu,Ai),Y(qa,qa.current)}function uf(){Ai=iu.current,D(qa),D(iu)}var $n=C(null),ms=null;function Ji(s){var r=s.alternate;Y(Ie,Ie.current&1),Y($n,s),ms===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(ms=s)}function hf(s){Y(Ie,Ie.current),Y($n,s),ms===null&&(ms=s)}function k_(s){s.tag===22?(Y(Ie,Ie.current),Y($n,s),ms===null&&(ms=s)):tr()}function tr(){Y(Ie,Ie.current),Y($n,$n.current)}function Zn(s){D($n),ms===s&&(ms=null),D(Ie)}var Ie=C(0);function ru(s){for(var r=s;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||yp(o)||_p(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gi=0,Dt=null,ie=null,Ve=null,au=!1,Ga=!1,qr=!1,ou=0,_l=0,Ya=null,DA=0;function Me(){throw Error(i(321))}function df(s,r){if(r===null)return!1;for(var o=0;o<r.length&&o<s.length;o++)if(!Wn(s[o],r[o]))return!1;return!0}function ff(s,r,o,u,p,g){return gi=g,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,A.H=s===null||s.memoizedState===null?d0:Mf,qr=!1,g=o(u,p),qr=!1,Ga&&(g=R_(r,o,u,p)),N_(s),g}function N_(s){A.H=bl;var r=ie!==null&&ie.next!==null;if(gi=0,Ve=ie=Dt=null,au=!1,_l=0,Ya=null,r)throw Error(i(300));s===null||He||(s=s.dependencies,s!==null&&Qc(s)&&(He=!0))}function R_(s,r,o,u){Dt=s;var p=0;do{if(Ga&&(Ya=null),_l=0,Ga=!1,25<=p)throw Error(i(301));if(p+=1,Ve=ie=null,s.updateQueue!=null){var g=s.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}A.H=f0,g=r(o,u)}while(Ga);return g}function OA(){var s=A.H,r=s.useState()[0];return r=typeof r.then=="function"?vl(r):r,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(Dt.flags|=1024),r}function pf(){var s=ou!==0;return ou=0,s}function mf(s,r,o){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~o}function gf(s){if(au){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}au=!1}gi=0,Ve=ie=Dt=null,Ga=!1,_l=ou=0,Ya=null}function An(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Dt.memoizedState=Ve=s:Ve=Ve.next=s,Ve}function ze(){if(ie===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var r=Ve===null?Dt.memoizedState:Ve.next;if(r!==null)Ve=r,ie=s;else{if(s===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Ve===null?Dt.memoizedState=Ve=s:Ve=Ve.next=s}return Ve}function lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(s){var r=_l;return _l+=1,Ya===null&&(Ya=[]),s=b_(Ya,s,r),r=Dt,(Ve===null?r.memoizedState:Ve.next)===null&&(r=r.alternate,A.H=r===null||r.memoizedState===null?d0:Mf),s}function cu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return vl(s);if(s.$$typeof===R)return ln(s)}throw Error(i(438,String(s)))}function yf(s){var r=null,o=Dt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=lu(),Dt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(s),u=0;u<s;u++)o[u]=H;return r.index++,o}function yi(s,r){return typeof r=="function"?r(s):r}function uu(s){var r=ze();return _f(r,ie,s)}function _f(s,r,o){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var p=s.baseQueue,g=u.pending;if(g!==null){if(p!==null){var b=p.next;p.next=g.next,g.next=b}r.baseQueue=p=g,u.pending=null}if(g=s.baseState,p===null)s.memoizedState=g;else{r=p.next;var M=b=null,F=null,tt=r,ct=!1;do{var pt=tt.lane&-536870913;if(pt!==tt.lane?(Ut&pt)===pt:(gi&pt)===pt){var nt=tt.revertLane;if(nt===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),pt===Ua&&(ct=!0);else if((gi&nt)===nt){tt=tt.next,nt===Ua&&(ct=!0);continue}else pt={lane:0,revertLane:tt.revertLane,gesture:null,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},F===null?(M=F=pt,b=g):F=F.next=pt,Dt.lanes|=nt,sr|=nt;pt=tt.action,qr&&o(g,pt),g=tt.hasEagerState?tt.eagerState:o(g,pt)}else nt={lane:pt,revertLane:tt.revertLane,gesture:tt.gesture,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null},F===null?(M=F=nt,b=g):F=F.next=nt,Dt.lanes|=pt,sr|=pt;tt=tt.next}while(tt!==null&&tt!==r);if(F===null?b=g:F.next=M,!Wn(g,s.memoizedState)&&(He=!0,ct&&(o=Fa,o!==null)))throw o;s.memoizedState=g,s.baseState=b,s.baseQueue=F,u.lastRenderedState=g}return p===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function vf(s){var r=ze(),o=r.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=s;var u=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var b=p=p.next;do g=s(g,b.action),b=b.next;while(b!==p);Wn(g,r.memoizedState)||(He=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function D_(s,r,o){var u=Dt,p=ze(),g=Gt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=r();var b=!Wn((ie||p).memoizedState,o);if(b&&(p.memoizedState=o,He=!0),p=p.queue,xf(I_.bind(null,u,p,s),[s]),p.getSnapshot!==r||b||Ve!==null&&Ve.memoizedState.tag&1){if(u.flags|=2048,Wa(9,{destroy:void 0},B_.bind(null,u,p,o,r),null),de===null)throw Error(i(349));g||(gi&127)!==0||O_(u,r,o)}return o}function O_(s,r,o){s.flags|=16384,s={getSnapshot:r,value:o},r=Dt.updateQueue,r===null?(r=lu(),Dt.updateQueue=r,r.stores=[s]):(o=r.stores,o===null?r.stores=[s]:o.push(s))}function B_(s,r,o,u){r.value=o,r.getSnapshot=u,z_(r)&&L_(s)}function I_(s,r,o){return o(function(){z_(r)&&L_(s)})}function z_(s){var r=s.getSnapshot;s=s.value;try{var o=r();return!Wn(s,o)}catch{return!0}}function L_(s){var r=Ir(s,2);r!==null&&In(r,s,2)}function wf(s){var r=An();if(typeof s=="function"){var o=s;if(s=o(),qr){lt(!0);try{o()}finally{lt(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:s},r}function P_(s,r,o,u){return s.baseState=o,_f(s,ie,typeof u=="function"?u:yi)}function BA(s,r,o,u,p){if(fu(s))throw Error(i(485));if(s=r.action,s!==null){var g={payload:p,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};A.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,j_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function j_(s,r){var o=r.action,u=r.payload,p=s.state;if(r.isTransition){var g=A.T,b={};A.T=b;try{var M=o(p,u),F=A.S;F!==null&&F(b,M),U_(s,r,M)}catch(tt){bf(s,r,tt)}finally{g!==null&&b.types!==null&&(g.types=b.types),A.T=g}}else try{g=o(p,u),U_(s,r,g)}catch(tt){bf(s,r,tt)}}function U_(s,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){F_(s,r,u)},function(u){return bf(s,r,u)}):F_(s,r,o)}function F_(s,r,o){r.status="fulfilled",r.value=o,V_(r),s.state=o,r=s.pending,r!==null&&(o=r.next,o===r?s.pending=null:(o=o.next,r.next=o,j_(s,o)))}function bf(s,r,o){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,V_(r),r=r.next;while(r!==u)}s.action=null}function V_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function H_(s,r){return r}function q_(s,r){if(Gt){var o=de.formState;if(o!==null){t:{var u=Dt;if(Gt){if(ge){e:{for(var p=ge,g=ps;p.nodeType!==8;){if(!g){p=null;break e}if(p=gs(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){ge=gs(p.nextSibling),u=p.data==="F!";break t}}Xi(u)}u=!1}u&&(r=o[0])}}return o=An(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:r},o.queue=u,o=c0.bind(null,Dt,u),u.dispatch=o,u=wf(!1),g=Ef.bind(null,Dt,!1,u.queue),u=An(),p={state:r,dispatch:null,action:s,pending:null},u.queue=p,o=BA.bind(null,Dt,p,g,o),p.dispatch=o,u.memoizedState=s,[r,o,!1]}function G_(s){var r=ze();return Y_(r,ie,s)}function Y_(s,r,o){if(r=_f(s,r,H_)[0],s=uu(yi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=vl(r)}catch(b){throw b===Va?tu:b}else u=r;r=ze();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Dt.flags|=2048,Wa(9,{destroy:void 0},IA.bind(null,p,o),null)),[u,g,s]}function IA(s,r){s.action=r}function W_(s){var r=ze(),o=ie;if(o!==null)return Y_(r,o,s);ze(),r=r.memoizedState,o=ze();var u=o.queue.dispatch;return o.memoizedState=s,[r,u,!1]}function Wa(s,r,o,u){return s={tag:s,create:o,deps:u,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=lu(),Dt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=s.next=s:(u=o.next,o.next=s,s.next=u,r.lastEffect=s),s}function X_(){return ze().memoizedState}function hu(s,r,o,u){var p=An();Dt.flags|=s,p.memoizedState=Wa(1|r,{destroy:void 0},o,u===void 0?null:u)}function du(s,r,o,u){var p=ze();u=u===void 0?null:u;var g=p.memoizedState.inst;ie!==null&&u!==null&&df(u,ie.memoizedState.deps)?p.memoizedState=Wa(r,g,o,u):(Dt.flags|=s,p.memoizedState=Wa(1|r,g,o,u))}function $_(s,r){hu(8390656,8,s,r)}function xf(s,r){du(2048,8,s,r)}function zA(s){Dt.flags|=4;var r=Dt.updateQueue;if(r===null)r=lu(),Dt.updateQueue=r,r.events=[s];else{var o=r.events;o===null?r.events=[s]:o.push(s)}}function Z_(s){var r=ze().memoizedState;return zA({ref:r,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function Q_(s,r){return du(4,2,s,r)}function K_(s,r){return du(4,4,s,r)}function J_(s,r){if(typeof r=="function"){s=s();var o=r(s);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function t0(s,r,o){o=o!=null?o.concat([s]):null,du(4,4,J_.bind(null,r,s),o)}function Sf(){}function e0(s,r){var o=ze();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&df(r,u[1])?u[0]:(o.memoizedState=[s,r],s)}function n0(s,r){var o=ze();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&df(r,u[1]))return u[0];if(u=s(),qr){lt(!0);try{s()}finally{lt(!1)}}return o.memoizedState=[u,r],u}function Af(s,r,o){return o===void 0||(gi&1073741824)!==0&&(Ut&261930)===0?s.memoizedState=r:(s.memoizedState=o,s=sv(),Dt.lanes|=s,sr|=s,o)}function s0(s,r,o,u){return Wn(o,r)?o:qa.current!==null?(s=Af(s,o,u),Wn(s,r)||(He=!0),s):(gi&42)===0||(gi&1073741824)!==0&&(Ut&261930)===0?(He=!0,s.memoizedState=o):(s=sv(),Dt.lanes|=s,sr|=s,r)}function i0(s,r,o,u,p){var g=E.p;E.p=g!==0&&8>g?g:8;var b=A.T,M={};A.T=M,Ef(s,!1,r,o);try{var F=p(),tt=A.S;if(tt!==null&&tt(M,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ct=RA(F,u);wl(s,r,ct,Jn(s))}else wl(s,r,u,Jn(s))}catch(pt){wl(s,r,{then:function(){},status:"rejected",reason:pt},Jn())}finally{E.p=g,b!==null&&M.types!==null&&(b.types=M.types),A.T=b}}function LA(){}function Tf(s,r,o,u){if(s.tag!==5)throw Error(i(476));var p=r0(s).queue;i0(s,p,r,N,o===null?LA:function(){return a0(s),o(u)})}function r0(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:N},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:o},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function a0(s){var r=r0(s);r.next===null&&(r=s.alternate.memoizedState),wl(s,r.next.queue,{},Jn())}function Cf(){return ln(Ll)}function o0(){return ze().memoizedState}function l0(){return ze().memoizedState}function PA(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var o=Jn();s=Qi(o);var u=Ki(r,s,o);u!==null&&(In(u,r,o),ml(u,r,o)),r={cache:tf()},s.payload=r;return}r=r.return}}function jA(s,r,o){var u=Jn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},fu(s)?u0(r,o):(o=Hd(s,r,o,u),o!==null&&(In(o,s,u),h0(o,r,u)))}function c0(s,r,o){var u=Jn();wl(s,r,o,u)}function wl(s,r,o,u){var p={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(fu(s))u0(r,p);else{var g=s.alternate;if(s.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var b=r.lastRenderedState,M=g(b,o);if(p.hasEagerState=!0,p.eagerState=M,Wn(M,b))return Wc(s,r,p,0),de===null&&Yc(),!1}catch{}finally{}if(o=Hd(s,r,p,u),o!==null)return In(o,s,u),h0(o,r,u),!0}return!1}function Ef(s,r,o,u){if(u={lane:2,revertLane:rp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},fu(s)){if(r)throw Error(i(479))}else r=Hd(s,o,u,2),r!==null&&In(r,s,2)}function fu(s){var r=s.alternate;return s===Dt||r!==null&&r===Dt}function u0(s,r){Ga=au=!0;var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}function h0(s,r,o){if((o&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,o|=u,r.lanes=o,gy(s,o)}}var bl={readContext:ln,use:cu,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useInsertionEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useSyncExternalStore:Me,useId:Me,useHostTransitionStatus:Me,useFormState:Me,useActionState:Me,useOptimistic:Me,useMemoCache:Me,useCacheRefresh:Me};bl.useEffectEvent=Me;var d0={readContext:ln,use:cu,useCallback:function(s,r){return An().memoizedState=[s,r===void 0?null:r],s},useContext:ln,useEffect:$_,useImperativeHandle:function(s,r,o){o=o!=null?o.concat([s]):null,hu(4194308,4,J_.bind(null,r,s),o)},useLayoutEffect:function(s,r){return hu(4194308,4,s,r)},useInsertionEffect:function(s,r){hu(4,2,s,r)},useMemo:function(s,r){var o=An();r=r===void 0?null:r;var u=s();if(qr){lt(!0);try{s()}finally{lt(!1)}}return o.memoizedState=[u,r],u},useReducer:function(s,r,o){var u=An();if(o!==void 0){var p=o(r);if(qr){lt(!0);try{o(r)}finally{lt(!1)}}}else p=r;return u.memoizedState=u.baseState=p,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:p},u.queue=s,s=s.dispatch=jA.bind(null,Dt,s),[u.memoizedState,s]},useRef:function(s){var r=An();return s={current:s},r.memoizedState=s},useState:function(s){s=wf(s);var r=s.queue,o=c0.bind(null,Dt,r);return r.dispatch=o,[s.memoizedState,o]},useDebugValue:Sf,useDeferredValue:function(s,r){var o=An();return Af(o,s,r)},useTransition:function(){var s=wf(!1);return s=i0.bind(null,Dt,s.queue,!0,!1),An().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,o){var u=Dt,p=An();if(Gt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=r(),de===null)throw Error(i(349));(Ut&127)!==0||O_(u,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,$_(I_.bind(null,u,g,s),[s]),u.flags|=2048,Wa(9,{destroy:void 0},B_.bind(null,u,g,o,r),null),o},useId:function(){var s=An(),r=de.identifierPrefix;if(Gt){var o=Vs,u=Fs;o=(u&~(1<<32-_t(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=ou++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=DA++,r="_"+r+"r_"+o.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Cf,useFormState:q_,useActionState:q_,useOptimistic:function(s){var r=An();r.memoizedState=r.baseState=s;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Ef.bind(null,Dt,!0,o),o.dispatch=r,[s,r]},useMemoCache:yf,useCacheRefresh:function(){return An().memoizedState=PA.bind(null,Dt)},useEffectEvent:function(s){var r=An(),o={impl:s};return r.memoizedState=o,function(){if((Kt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Mf={readContext:ln,use:cu,useCallback:e0,useContext:ln,useEffect:xf,useImperativeHandle:t0,useInsertionEffect:Q_,useLayoutEffect:K_,useMemo:n0,useReducer:uu,useRef:X_,useState:function(){return uu(yi)},useDebugValue:Sf,useDeferredValue:function(s,r){var o=ze();return s0(o,ie.memoizedState,s,r)},useTransition:function(){var s=uu(yi)[0],r=ze().memoizedState;return[typeof s=="boolean"?s:vl(s),r]},useSyncExternalStore:D_,useId:o0,useHostTransitionStatus:Cf,useFormState:G_,useActionState:G_,useOptimistic:function(s,r){var o=ze();return P_(o,ie,s,r)},useMemoCache:yf,useCacheRefresh:l0};Mf.useEffectEvent=Z_;var f0={readContext:ln,use:cu,useCallback:e0,useContext:ln,useEffect:xf,useImperativeHandle:t0,useInsertionEffect:Q_,useLayoutEffect:K_,useMemo:n0,useReducer:vf,useRef:X_,useState:function(){return vf(yi)},useDebugValue:Sf,useDeferredValue:function(s,r){var o=ze();return ie===null?Af(o,s,r):s0(o,ie.memoizedState,s,r)},useTransition:function(){var s=vf(yi)[0],r=ze().memoizedState;return[typeof s=="boolean"?s:vl(s),r]},useSyncExternalStore:D_,useId:o0,useHostTransitionStatus:Cf,useFormState:W_,useActionState:W_,useOptimistic:function(s,r){var o=ze();return ie!==null?P_(o,ie,s,r):(o.baseState=s,[s,o.queue.dispatch])},useMemoCache:yf,useCacheRefresh:l0};f0.useEffectEvent=Z_;function kf(s,r,o,u){r=s.memoizedState,o=o(u,r),o=o==null?r:y({},r,o),s.memoizedState=o,s.lanes===0&&(s.updateQueue.baseState=o)}var Nf={enqueueSetState:function(s,r,o){s=s._reactInternals;var u=Jn(),p=Qi(u);p.payload=r,o!=null&&(p.callback=o),r=Ki(s,p,u),r!==null&&(In(r,s,u),ml(r,s,u))},enqueueReplaceState:function(s,r,o){s=s._reactInternals;var u=Jn(),p=Qi(u);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ki(s,p,u),r!==null&&(In(r,s,u),ml(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var o=Jn(),u=Qi(o);u.tag=2,r!=null&&(u.callback=r),r=Ki(s,u,o),r!==null&&(In(r,s,o),ml(r,s,o))}};function p0(s,r,o,u,p,g,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,g,b):r.prototype&&r.prototype.isPureReactComponent?!ol(o,u)||!ol(p,g):!0}function m0(s,r,o,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==s&&Nf.enqueueReplaceState(r,r.state,null)}function Gr(s,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(s=s.defaultProps){o===r&&(o=y({},o));for(var p in s)o[p]===void 0&&(o[p]=s[p])}return o}function g0(s){Gc(s)}function y0(s){console.error(s)}function _0(s){Gc(s)}function pu(s,r){try{var o=s.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function v0(s,r,o){try{var u=s.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Rf(s,r,o){return o=Qi(o),o.tag=3,o.payload={element:null},o.callback=function(){pu(s,r)},o}function w0(s){return s=Qi(s),s.tag=3,s}function b0(s,r,o,u){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=u.value;s.payload=function(){return p(g)},s.callback=function(){v0(r,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(s.callback=function(){v0(r,o,u),typeof p!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var M=u.stack;this.componentDidCatch(u.value,{componentStack:M!==null?M:""})})}function UA(s,r,o,u,p){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ja(r,o,p,!0),o=$n.current,o!==null){switch(o.tag){case 31:case 13:return ms===null?Cu():o.alternate===null&&ke===0&&(ke=3),o.flags&=-257,o.flags|=65536,o.lanes=p,u===eu?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),np(s,u,p)),!1;case 22:return o.flags|=65536,u===eu?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),np(s,u,p)),!1}throw Error(i(435,o.tag))}return np(s,u,p),Cu(),!1}if(Gt)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,u!==$d&&(s=Error(i(422),{cause:u}),ul(hs(s,o)))):(u!==$d&&(r=Error(i(423),{cause:u}),ul(hs(r,o))),s=s.current.alternate,s.flags|=65536,p&=-p,s.lanes|=p,u=hs(u,o),p=Rf(s.stateNode,u,p),of(s,p),ke!==4&&(ke=2)),!1;var g=Error(i(520),{cause:u});if(g=hs(g,o),kl===null?kl=[g]:kl.push(g),ke!==4&&(ke=2),r===null)return!0;u=hs(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,s=p&-p,o.lanes|=s,s=Rf(o.stateNode,u,s),of(o,s),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ir===null||!ir.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=w0(p),b0(p,s,o,u),of(o,p),!1}o=o.return}while(o!==null);return!1}var Df=Error(i(461)),He=!1;function cn(s,r,o,u){r.child=s===null?T_(r,null,o,u):Hr(r,s.child,o,u)}function x0(s,r,o,u,p){o=o.render;var g=r.ref;if("ref"in u){var b={};for(var M in u)M!=="ref"&&(b[M]=u[M])}else b=u;return jr(r),u=ff(s,r,o,b,g,p),M=pf(),s!==null&&!He?(mf(s,r,p),_i(s,r,p)):(Gt&&M&&Wd(r),r.flags|=1,cn(s,r,u,p),r.child)}function S0(s,r,o,u,p){if(s===null){var g=o.type;return typeof g=="function"&&!qd(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,A0(s,r,g,u,p)):(s=$c(o.type,null,u,r,r.mode,p),s.ref=r.ref,s.return=r,r.child=s)}if(g=s.child,!Uf(s,p)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:ol,o(b,u)&&s.ref===r.ref)return _i(s,r,p)}return r.flags|=1,s=di(g,u),s.ref=r.ref,s.return=r,r.child=s}function A0(s,r,o,u,p){if(s!==null){var g=s.memoizedProps;if(ol(g,u)&&s.ref===r.ref)if(He=!1,r.pendingProps=u=g,Uf(s,p))(s.flags&131072)!==0&&(He=!0);else return r.lanes=s.lanes,_i(s,r,p)}return Of(s,r,o,u,p)}function T0(s,r,o,u){var p=u.children,g=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,s!==null){for(u=r.child=s.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~g}else u=0,r.child=null;return C0(s,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Jc(r,g!==null?g.cachePool:null),g!==null?M_(r,g):cf(),k_(r);else return u=r.lanes=536870912,C0(s,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(Jc(r,g.cachePool),M_(r,g),tr(),r.memoizedState=null):(s!==null&&Jc(r,null),cf(),tr());return cn(s,r,p,o),r.child}function xl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function C0(s,r,o,u,p){var g=nf();return g=g===null?null:{parent:Fe._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},s!==null&&Jc(r,null),cf(),k_(r),s!==null&&ja(s,r,u,!0),r.childLanes=p,null}function mu(s,r){return r=yu({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function E0(s,r,o){return Hr(r,s.child,null,o),s=mu(r,r.pendingProps),s.flags|=2,Zn(r),r.memoizedState=null,s}function FA(s,r,o){var u=r.pendingProps,p=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Gt){if(u.mode==="hidden")return s=mu(r,u),r.lanes=536870912,xl(null,s);if(hf(r),(s=ge)?(s=jv(s,ps),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Yi!==null?{id:Fs,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},o=u_(s),o.return=r,r.child=o,on=r,ge=null)):s=null,s===null)throw Xi(r);return r.lanes=536870912,null}return mu(r,u)}var g=s.memoizedState;if(g!==null){var b=g.dehydrated;if(hf(r),p)if(r.flags&256)r.flags&=-257,r=E0(s,r,o);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(He||ja(s,r,o,!1),p=(o&s.childLanes)!==0,He||p){if(u=de,u!==null&&(b=yy(u,o),b!==0&&b!==g.retryLane))throw g.retryLane=b,Ir(s,b),In(u,s,b),Df;Cu(),r=E0(s,r,o)}else s=g.treeContext,ge=gs(b.nextSibling),on=r,Gt=!0,Wi=null,ps=!1,s!==null&&f_(r,s),r=mu(r,u),r.flags|=4096;return r}return s=di(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function gu(s,r){var o=r.ref;if(o===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(s===null||s.ref!==o)&&(r.flags|=4194816)}}function Of(s,r,o,u,p){return jr(r),o=ff(s,r,o,u,void 0,p),u=pf(),s!==null&&!He?(mf(s,r,p),_i(s,r,p)):(Gt&&u&&Wd(r),r.flags|=1,cn(s,r,o,p),r.child)}function M0(s,r,o,u,p,g){return jr(r),r.updateQueue=null,o=R_(r,u,o,p),N_(s),u=pf(),s!==null&&!He?(mf(s,r,g),_i(s,r,g)):(Gt&&u&&Wd(r),r.flags|=1,cn(s,r,o,g),r.child)}function k0(s,r,o,u,p){if(jr(r),r.stateNode===null){var g=Ia,b=o.contextType;typeof b=="object"&&b!==null&&(g=ln(b)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nf,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},rf(r),b=o.contextType,g.context=typeof b=="object"&&b!==null?ln(b):Ia,g.state=r.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(kf(r,o,b,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&Nf.enqueueReplaceState(g,g.state,null),yl(r,u,g,p),gl(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){g=r.stateNode;var M=r.memoizedProps,F=Gr(o,M);g.props=F;var tt=g.context,ct=o.contextType;b=Ia,typeof ct=="object"&&ct!==null&&(b=ln(ct));var pt=o.getDerivedStateFromProps;ct=typeof pt=="function"||typeof g.getSnapshotBeforeUpdate=="function",M=r.pendingProps!==M,ct||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(M||tt!==b)&&m0(r,g,u,b),Zi=!1;var nt=r.memoizedState;g.state=nt,yl(r,u,g,p),gl(),tt=r.memoizedState,M||nt!==tt||Zi?(typeof pt=="function"&&(kf(r,o,pt,u),tt=r.memoizedState),(F=Zi||p0(r,o,F,u,nt,tt,b))?(ct||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=tt),g.props=u,g.state=tt,g.context=b,u=F):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,af(s,r),b=r.memoizedProps,ct=Gr(o,b),g.props=ct,pt=r.pendingProps,nt=g.context,tt=o.contextType,F=Ia,typeof tt=="object"&&tt!==null&&(F=ln(tt)),M=o.getDerivedStateFromProps,(tt=typeof M=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==pt||nt!==F)&&m0(r,g,u,F),Zi=!1,nt=r.memoizedState,g.state=nt,yl(r,u,g,p),gl();var rt=r.memoizedState;b!==pt||nt!==rt||Zi||s!==null&&s.dependencies!==null&&Qc(s.dependencies)?(typeof M=="function"&&(kf(r,o,M,u),rt=r.memoizedState),(ct=Zi||p0(r,o,ct,u,nt,rt,F)||s!==null&&s.dependencies!==null&&Qc(s.dependencies))?(tt||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,rt,F),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,rt,F)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&nt===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&nt===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=rt),g.props=u,g.state=rt,g.context=F,u=ct):(typeof g.componentDidUpdate!="function"||b===s.memoizedProps&&nt===s.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===s.memoizedProps&&nt===s.memoizedState||(r.flags|=1024),u=!1)}return g=u,gu(s,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,s!==null&&u?(r.child=Hr(r,s.child,null,p),r.child=Hr(r,null,o,p)):cn(s,r,o,p),r.memoizedState=g.state,s=r.child):s=_i(s,r,p),s}function N0(s,r,o,u){return Lr(),r.flags|=256,cn(s,r,o,u),r.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(s){return{baseLanes:s,cachePool:v_()}}function zf(s,r,o){return s=s!==null?s.childLanes&~o:0,r&&(s|=Kn),s}function R0(s,r,o){var u=r.pendingProps,p=!1,g=(r.flags&128)!==0,b;if((b=g)||(b=s!==null&&s.memoizedState===null?!1:(Ie.current&2)!==0),b&&(p=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,s===null){if(Gt){if(p?Ji(r):tr(),(s=ge)?(s=jv(s,ps),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Yi!==null?{id:Fs,overflow:Vs}:null,retryLane:536870912,hydrationErrors:null},o=u_(s),o.return=r,r.child=o,on=r,ge=null)):s=null,s===null)throw Xi(r);return _p(s)?r.lanes=32:r.lanes=536870912,null}var M=u.children;return u=u.fallback,p?(tr(),p=r.mode,M=yu({mode:"hidden",children:M},p),u=zr(u,p,o,null),M.return=r,u.return=r,M.sibling=u,r.child=M,u=r.child,u.memoizedState=If(o),u.childLanes=zf(s,b,o),r.memoizedState=Bf,xl(null,u)):(Ji(r),Lf(r,M))}var F=s.memoizedState;if(F!==null&&(M=F.dehydrated,M!==null)){if(g)r.flags&256?(Ji(r),r.flags&=-257,r=Pf(s,r,o)):r.memoizedState!==null?(tr(),r.child=s.child,r.flags|=128,r=null):(tr(),M=u.fallback,p=r.mode,u=yu({mode:"visible",children:u.children},p),M=zr(M,p,o,null),M.flags|=2,u.return=r,M.return=r,u.sibling=M,r.child=u,Hr(r,s.child,null,o),u=r.child,u.memoizedState=If(o),u.childLanes=zf(s,b,o),r.memoizedState=Bf,r=xl(null,u));else if(Ji(r),_p(M)){if(b=M.nextSibling&&M.nextSibling.dataset,b)var tt=b.dgst;b=tt,u=Error(i(419)),u.stack="",u.digest=b,ul({value:u,source:null,stack:null}),r=Pf(s,r,o)}else if(He||ja(s,r,o,!1),b=(o&s.childLanes)!==0,He||b){if(b=de,b!==null&&(u=yy(b,o),u!==0&&u!==F.retryLane))throw F.retryLane=u,Ir(s,u),In(b,s,u),Df;yp(M)||Cu(),r=Pf(s,r,o)}else yp(M)?(r.flags|=192,r.child=s.child,r=null):(s=F.treeContext,ge=gs(M.nextSibling),on=r,Gt=!0,Wi=null,ps=!1,s!==null&&f_(r,s),r=Lf(r,u.children),r.flags|=4096);return r}return p?(tr(),M=u.fallback,p=r.mode,F=s.child,tt=F.sibling,u=di(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,tt!==null?M=di(tt,M):(M=zr(M,p,o,null),M.flags|=2),M.return=r,u.return=r,u.sibling=M,r.child=u,xl(null,u),u=r.child,M=s.child.memoizedState,M===null?M=If(o):(p=M.cachePool,p!==null?(F=Fe._currentValue,p=p.parent!==F?{parent:F,pool:F}:p):p=v_(),M={baseLanes:M.baseLanes|o,cachePool:p}),u.memoizedState=M,u.childLanes=zf(s,b,o),r.memoizedState=Bf,xl(s.child,u)):(Ji(r),o=s.child,s=o.sibling,o=di(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,s!==null&&(b=r.deletions,b===null?(r.deletions=[s],r.flags|=16):b.push(s)),r.child=o,r.memoizedState=null,o)}function Lf(s,r){return r=yu({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function yu(s,r){return s=Xn(22,s,null,r),s.lanes=0,s}function Pf(s,r,o){return Hr(r,s.child,null,o),s=Lf(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function D0(s,r,o){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),Kd(s.return,r,o)}function jf(s,r,o,u,p,g){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:p,treeForkCount:g}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=u,b.tail=o,b.tailMode=p,b.treeForkCount=g)}function O0(s,r,o){var u=r.pendingProps,p=u.revealOrder,g=u.tail;u=u.children;var b=Ie.current,M=(b&2)!==0;if(M?(b=b&1|2,r.flags|=128):b&=1,Y(Ie,b),cn(s,r,u,o),u=Gt?cl:0,!M&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&D0(s,o,r);else if(s.tag===19)D0(s,o,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(p){case"forwards":for(o=r.child,p=null;o!==null;)s=o.alternate,s!==null&&ru(s)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),jf(r,!1,p,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(s=p.alternate,s!==null&&ru(s)===null){r.child=p;break}s=p.sibling,p.sibling=o,o=p,p=s}jf(r,!0,o,null,g,u);break;case"together":jf(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function _i(s,r,o){if(s!==null&&(r.dependencies=s.dependencies),sr|=r.lanes,(o&r.childLanes)===0)if(s!==null){if(ja(s,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,o=di(s,s.pendingProps),r.child=o,o.return=r;s.sibling!==null;)s=s.sibling,o=o.sibling=di(s,s.pendingProps),o.return=r;o.sibling=null}return r.child}function Uf(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Qc(s)))}function VA(s,r,o){switch(r.tag){case 3:ot(r,r.stateNode.containerInfo),$i(r,Fe,s.memoizedState.cache),Lr();break;case 27:case 5:xt(r);break;case 4:ot(r,r.stateNode.containerInfo);break;case 10:$i(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,hf(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Ji(r),r.flags|=128,null):(o&r.child.childLanes)!==0?R0(s,r,o):(Ji(r),s=_i(s,r,o),s!==null?s.sibling:null);Ji(r);break;case 19:var p=(s.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ja(s,r,o,!1),u=(o&r.childLanes)!==0),p){if(u)return O0(s,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Y(Ie,Ie.current),u)break;return null;case 22:return r.lanes=0,T0(s,r,o,r.pendingProps);case 24:$i(r,Fe,s.memoizedState.cache)}return _i(s,r,o)}function B0(s,r,o){if(s!==null)if(s.memoizedProps!==r.pendingProps)He=!0;else{if(!Uf(s,o)&&(r.flags&128)===0)return He=!1,VA(s,r,o);He=(s.flags&131072)!==0}else He=!1,Gt&&(r.flags&1048576)!==0&&d_(r,cl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=Fr(r.elementType),r.type=s,typeof s=="function")qd(s)?(u=Gr(s,u),r.tag=1,r=k0(null,r,s,u,o)):(r.tag=0,r=Of(null,r,s,u,o));else{if(s!=null){var p=s.$$typeof;if(p===U){r.tag=11,r=x0(null,r,s,u,o);break t}else if(p===z){r.tag=14,r=S0(null,r,s,u,o);break t}}throw r=$(s)||s,Error(i(306,r,""))}}return r;case 0:return Of(s,r,r.type,r.pendingProps,o);case 1:return u=r.type,p=Gr(u,r.pendingProps),k0(s,r,u,p,o);case 3:t:{if(ot(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var g=r.memoizedState;p=g.element,af(s,r),yl(r,u,null,o);var b=r.memoizedState;if(u=b.cache,$i(r,Fe,u),u!==g.cache&&Jd(r,[Fe],o,!0),gl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=N0(s,r,u,o);break t}else if(u!==p){p=hs(Error(i(424)),r),ul(p),r=N0(s,r,u,o);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ge=gs(s.firstChild),on=r,Gt=!0,Wi=null,ps=!0,o=T_(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Lr(),u===p){r=_i(s,r,o);break t}cn(s,r,u,o)}r=r.child}return r;case 26:return gu(s,r),s===null?(o=Gv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Gt||(o=r.type,s=r.pendingProps,u=Ou(mt.current).createElement(o),u[an]=r,u[kn]=s,un(u,o,s),Qe(u),r.stateNode=u):r.memoizedState=Gv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return xt(r),s===null&&Gt&&(u=r.stateNode=Vv(r.type,r.pendingProps,mt.current),on=r,ps=!0,p=ge,lr(r.type)?(vp=p,ge=gs(u.firstChild)):ge=p),cn(s,r,r.pendingProps.children,o),gu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Gt&&((p=u=ge)&&(u=_T(u,r.type,r.pendingProps,ps),u!==null?(r.stateNode=u,on=r,ge=gs(u.firstChild),ps=!1,p=!0):p=!1),p||Xi(r)),xt(r),p=r.type,g=r.pendingProps,b=s!==null?s.memoizedProps:null,u=g.children,pp(p,g)?u=null:b!==null&&pp(p,b)&&(r.flags|=32),r.memoizedState!==null&&(p=ff(s,r,OA,null,null,o),Ll._currentValue=p),gu(s,r),cn(s,r,u,o),r.child;case 6:return s===null&&Gt&&((s=o=ge)&&(o=vT(o,r.pendingProps,ps),o!==null?(r.stateNode=o,on=r,ge=null,s=!0):s=!1),s||Xi(r)),null;case 13:return R0(s,r,o);case 4:return ot(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Hr(r,null,u,o):cn(s,r,u,o),r.child;case 11:return x0(s,r,r.type,r.pendingProps,o);case 7:return cn(s,r,r.pendingProps,o),r.child;case 8:return cn(s,r,r.pendingProps.children,o),r.child;case 12:return cn(s,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,$i(r,r.type,u.value),cn(s,r,u.children,o),r.child;case 9:return p=r.type._context,u=r.pendingProps.children,jr(r),p=ln(p),u=u(p),r.flags|=1,cn(s,r,u,o),r.child;case 14:return S0(s,r,r.type,r.pendingProps,o);case 15:return A0(s,r,r.type,r.pendingProps,o);case 19:return O0(s,r,o);case 31:return FA(s,r,o);case 22:return T0(s,r,o,r.pendingProps);case 24:return jr(r),u=ln(Fe),s===null?(p=nf(),p===null&&(p=de,g=tf(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:u,cache:p},rf(r),$i(r,Fe,p)):((s.lanes&o)!==0&&(af(s,r),yl(r,null,null,o),gl()),p=s.memoizedState,g=r.memoizedState,p.parent!==u?(p={parent:u,cache:u},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),$i(r,Fe,u)):(u=g.cache,$i(r,Fe,u),u!==p.cache&&Jd(r,[Fe],o,!0))),cn(s,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function vi(s){s.flags|=4}function Ff(s,r,o,u,p){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(p&335544128)===p)if(s.stateNode.complete)s.flags|=8192;else if(ov())s.flags|=8192;else throw Vr=eu,sf}else s.flags&=-16777217}function I0(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Zv(r))if(ov())s.flags|=8192;else throw Vr=eu,sf}function _u(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?py():536870912,s.lanes|=r,Qa|=r)}function Sl(s,r){if(!Gt)switch(s.tailMode){case"hidden":r=s.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?s.tail=null:o.sibling=null;break;case"collapsed":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ye(s){var r=s.alternate!==null&&s.alternate.child===s.child,o=0,u=0;if(r)for(var p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)o|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=u,s.childLanes=o,r}function HA(s,r,o){var u=r.pendingProps;switch(Xd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(r),null;case 1:return ye(r),null;case 3:return o=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),mi(Fe),vt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(s===null||s.child===null)&&(Pa(r)?vi(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zd())),ye(r),null;case 26:var p=r.type,g=r.memoizedState;return s===null?(vi(r),g!==null?(ye(r),I0(r,g)):(ye(r),Ff(r,p,null,u,o))):g?g!==s.memoizedState?(vi(r),ye(r),I0(r,g)):(ye(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&vi(r),ye(r),Ff(r,p,s,u,o)),null;case 27:if(Wt(r),o=mt.current,p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&vi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ye(r),null}s=st.current,Pa(r)?p_(r):(s=Vv(p,u,o),r.stateNode=s,vi(r))}return ye(r),null;case 5:if(Wt(r),p=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&vi(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ye(r),null}if(g=st.current,Pa(r))p_(r);else{var b=Ou(mt.current);switch(g){case 1:g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=b.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=b.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=b.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?b.createElement("select",{is:u.is}):b.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?b.createElement(p,{is:u.is}):b.createElement(p)}}g[an]=r,g[kn]=u;t:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)g.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break t;for(;b.sibling===null;){if(b.return===null||b.return===r)break t;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=g;t:switch(un(g,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&vi(r)}}return ye(r),Ff(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,o),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&vi(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=mt.current,Pa(r)){if(s=r.stateNode,o=r.memoizedProps,u=null,p=on,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}s[an]=r,s=!!(s.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||Rv(s.nodeValue,o)),s||Xi(r,!0)}else s=Ou(s).createTextNode(u),s[an]=r,r.stateNode=s}return ye(r),null;case 31:if(o=r.memoizedState,s===null||s.memoizedState!==null){if(u=Pa(r),o!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[an]=r}else Lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ye(r),s=!1}else o=Zd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=o),s=!0;if(!s)return r.flags&256?(Zn(r),r):(Zn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ye(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(p=Pa(r),u!==null&&u.dehydrated!==null){if(s===null){if(!p)throw Error(i(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[an]=r}else Lr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ye(r),p=!1}else p=Zd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Zn(r),r):(Zn(r),null)}return Zn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,s=s!==null&&s.memoizedState!==null,o&&(u=r.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==p&&(u.flags|=2048)),o!==s&&o&&(r.child.flags|=8192),_u(r,r.updateQueue),ye(r),null);case 4:return vt(),s===null&&cp(r.stateNode.containerInfo),ye(r),null;case 10:return mi(r.type),ye(r),null;case 19:if(D(Ie),u=r.memoizedState,u===null)return ye(r),null;if(p=(r.flags&128)!==0,g=u.rendering,g===null)if(p)Sl(u,!1);else{if(ke!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(g=ru(s),g!==null){for(r.flags|=128,Sl(u,!1),s=g.updateQueue,r.updateQueue=s,_u(r,s),r.subtreeFlags=0,s=o,o=r.child;o!==null;)c_(o,s),o=o.sibling;return Y(Ie,Ie.current&1|2),Gt&&fi(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&Be()>Su&&(r.flags|=128,p=!0,Sl(u,!1),r.lanes=4194304)}else{if(!p)if(s=ru(g),s!==null){if(r.flags|=128,p=!0,s=s.updateQueue,r.updateQueue=s,_u(r,s),Sl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Gt)return ye(r),null}else 2*Be()-u.renderingStartTime>Su&&o!==536870912&&(r.flags|=128,p=!0,Sl(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(s=u.last,s!==null?s.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Be(),s.sibling=null,o=Ie.current,Y(Ie,p?o&1|2:o&1),Gt&&fi(r,u.treeForkCount),s):(ye(r),null);case 22:case 23:return Zn(r),uf(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(ye(r),r.subtreeFlags&6&&(r.flags|=8192)):ye(r),o=r.updateQueue,o!==null&&_u(r,o.retryQueue),o=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),s!==null&&D(Ur),null;case 24:return o=null,s!==null&&(o=s.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),mi(Fe),ye(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function qA(s,r){switch(Xd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return mi(Fe),vt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Wt(r),null;case 31:if(r.memoizedState!==null){if(Zn(r),r.alternate===null)throw Error(i(340));Lr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Zn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Lr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return D(Ie),null;case 4:return vt(),null;case 10:return mi(r.type),null;case 22:case 23:return Zn(r),uf(),s!==null&&D(Ur),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return mi(Fe),null;case 25:return null;default:return null}}function z0(s,r){switch(Xd(r),r.tag){case 3:mi(Fe),vt();break;case 26:case 27:case 5:Wt(r);break;case 4:vt();break;case 31:r.memoizedState!==null&&Zn(r);break;case 13:Zn(r);break;case 19:D(Ie);break;case 10:mi(r.type);break;case 22:case 23:Zn(r),uf(),s!==null&&D(Ur);break;case 24:mi(Fe)}}function Al(s,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var p=u.next;o=p;do{if((o.tag&s)===s){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==p)}}catch(M){ne(r,r.return,M)}}function er(s,r,o){try{var u=r.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var g=p.next;u=g;do{if((u.tag&s)===s){var b=u.inst,M=b.destroy;if(M!==void 0){b.destroy=void 0,p=r;var F=o,tt=M;try{tt()}catch(ct){ne(p,F,ct)}}}u=u.next}while(u!==g)}}catch(ct){ne(r,r.return,ct)}}function L0(s){var r=s.updateQueue;if(r!==null){var o=s.stateNode;try{E_(r,o)}catch(u){ne(s,s.return,u)}}}function P0(s,r,o){o.props=Gr(s.type,s.memoizedProps),o.state=s.memoizedState;try{o.componentWillUnmount()}catch(u){ne(s,r,u)}}function Tl(s,r){try{var o=s.ref;if(o!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof o=="function"?s.refCleanup=o(u):o.current=u}}catch(p){ne(s,r,p)}}function Hs(s,r){var o=s.ref,u=s.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(p){ne(s,r,p)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){ne(s,r,p)}else o.current=null}function j0(s){var r=s.type,o=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break t;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(p){ne(s,s.return,p)}}function Vf(s,r,o){try{var u=s.stateNode;dT(u,s.type,o,r),u[kn]=r}catch(p){ne(s,s.return,p)}}function U0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&lr(s.type)||s.tag===4}function Hf(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||U0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&lr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qf(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(s,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(s),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=ui));else if(u!==4&&(u===27&&lr(s.type)&&(o=s.stateNode,r=null),s=s.child,s!==null))for(qf(s,r,o),s=s.sibling;s!==null;)qf(s,r,o),s=s.sibling}function vu(s,r,o){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?o.insertBefore(s,r):o.appendChild(s);else if(u!==4&&(u===27&&lr(s.type)&&(o=s.stateNode),s=s.child,s!==null))for(vu(s,r,o),s=s.sibling;s!==null;)vu(s,r,o),s=s.sibling}function F0(s){var r=s.stateNode,o=s.memoizedProps;try{for(var u=s.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);un(r,u,o),r[an]=s,r[kn]=o}catch(g){ne(s,s.return,g)}}var wi=!1,qe=!1,Gf=!1,V0=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function GA(s,r){if(s=s.containerInfo,dp=Uu,s=t_(s),Ld(s)){if("selectionStart"in s)var o={start:s.selectionStart,end:s.selectionEnd};else t:{o=(o=s.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var p=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var b=0,M=-1,F=-1,tt=0,ct=0,pt=s,nt=null;e:for(;;){for(var rt;pt!==o||p!==0&&pt.nodeType!==3||(M=b+p),pt!==g||u!==0&&pt.nodeType!==3||(F=b+u),pt.nodeType===3&&(b+=pt.nodeValue.length),(rt=pt.firstChild)!==null;)nt=pt,pt=rt;for(;;){if(pt===s)break e;if(nt===o&&++tt===p&&(M=b),nt===g&&++ct===u&&(F=b),(rt=pt.nextSibling)!==null)break;pt=nt,nt=pt.parentNode}pt=rt}o=M===-1||F===-1?null:{start:M,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(fp={focusedElem:s,selectionRange:o},Uu=!1,Ke=r;Ke!==null;)if(r=Ke,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ke=s;else for(;Ke!==null;){switch(r=Ke,g=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(o=0;o<s.length;o++)p=s[o],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&g!==null){s=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var wt=Gr(o.type,p);s=u.getSnapshotBeforeUpdate(wt,g),u.__reactInternalSnapshotBeforeUpdate=s}catch(Et){ne(o,o.return,Et)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,o=s.nodeType,o===9)gp(s);else if(o===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":gp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ke=s;break}Ke=r.return}}function H0(s,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:xi(s,o),u&4&&Al(5,o);break;case 1:if(xi(s,o),u&4)if(s=o.stateNode,r===null)try{s.componentDidMount()}catch(b){ne(o,o.return,b)}else{var p=Gr(o.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(p,r,s.__reactInternalSnapshotBeforeUpdate)}catch(b){ne(o,o.return,b)}}u&64&&L0(o),u&512&&Tl(o,o.return);break;case 3:if(xi(s,o),u&64&&(s=o.updateQueue,s!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{E_(s,r)}catch(b){ne(o,o.return,b)}}break;case 27:r===null&&u&4&&F0(o);case 26:case 5:xi(s,o),r===null&&u&4&&j0(o),u&512&&Tl(o,o.return);break;case 12:xi(s,o);break;case 31:xi(s,o),u&4&&Y0(s,o);break;case 13:xi(s,o),u&4&&W0(s,o),u&64&&(s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(o=tT.bind(null,o),wT(s,o))));break;case 22:if(u=o.memoizedState!==null||wi,!u){r=r!==null&&r.memoizedState!==null||qe,p=wi;var g=qe;wi=u,(qe=r)&&!g?Si(s,o,(o.subtreeFlags&8772)!==0):xi(s,o),wi=p,qe=g}break;case 30:break;default:xi(s,o)}}function q0(s){var r=s.alternate;r!==null&&(s.alternate=null,q0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&wd(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xe=null,Rn=!1;function bi(s,r,o){for(o=o.child;o!==null;)G0(s,r,o),o=o.sibling}function G0(s,r,o){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(G,o)}catch{}switch(o.tag){case 26:qe||Hs(o,r),bi(s,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:qe||Hs(o,r);var u=xe,p=Rn;lr(o.type)&&(xe=o.stateNode,Rn=!1),bi(s,r,o),Bl(o.stateNode),xe=u,Rn=p;break;case 5:qe||Hs(o,r);case 6:if(u=xe,p=Rn,xe=null,bi(s,r,o),xe=u,Rn=p,xe!==null)if(Rn)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(o.stateNode)}catch(g){ne(o,r,g)}else try{xe.removeChild(o.stateNode)}catch(g){ne(o,r,g)}break;case 18:xe!==null&&(Rn?(s=xe,Lv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,o.stateNode),ro(s)):Lv(xe,o.stateNode));break;case 4:u=xe,p=Rn,xe=o.stateNode.containerInfo,Rn=!0,bi(s,r,o),xe=u,Rn=p;break;case 0:case 11:case 14:case 15:er(2,o,r),qe||er(4,o,r),bi(s,r,o);break;case 1:qe||(Hs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&P0(o,r,u)),bi(s,r,o);break;case 21:bi(s,r,o);break;case 22:qe=(u=qe)||o.memoizedState!==null,bi(s,r,o),qe=u;break;default:bi(s,r,o)}}function Y0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ro(s)}catch(o){ne(r,r.return,o)}}}function W0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ro(s)}catch(o){ne(r,r.return,o)}}function YA(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new V0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new V0),r;default:throw Error(i(435,s.tag))}}function wu(s,r){var o=YA(s);r.forEach(function(u){if(!o.has(u)){o.add(u);var p=eT.bind(null,s,u);u.then(p,p)}})}function Dn(s,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var p=o[u],g=s,b=r,M=b;t:for(;M!==null;){switch(M.tag){case 27:if(lr(M.type)){xe=M.stateNode,Rn=!1;break t}break;case 5:xe=M.stateNode,Rn=!1;break t;case 3:case 4:xe=M.stateNode.containerInfo,Rn=!0;break t}M=M.return}if(xe===null)throw Error(i(160));G0(g,b,p),xe=null,Rn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)X0(r,s),r=r.sibling}var Es=null;function X0(s,r){var o=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Dn(r,s),On(s),u&4&&(er(3,s,s.return),Al(3,s),er(5,s,s.return));break;case 1:Dn(r,s),On(s),u&512&&(qe||o===null||Hs(o,o.return)),u&64&&wi&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(o=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var p=Es;if(Dn(r,s),On(s),u&512&&(qe||o===null||Hs(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=s.memoizedState,o===null)if(u===null)if(s.stateNode===null){t:{u=s.type,o=s.memoizedProps,p=p.ownerDocument||p;e:switch(u){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ko]||g[an]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(u),p.head.insertBefore(g,p.querySelector("head > title"))),un(g,u,o),g[an]=s,Qe(g),u=g;break t;case"link":var b=Xv("link","href",p).get(u+(o.href||""));if(b){for(var M=0;M<b.length;M++)if(g=b[M],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(M,1);break e}}g=p.createElement(u),un(g,u,o),p.head.appendChild(g);break;case"meta":if(b=Xv("meta","content",p).get(u+(o.content||""))){for(M=0;M<b.length;M++)if(g=b[M],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(M,1);break e}}g=p.createElement(u),un(g,u,o),p.head.appendChild(g);break;default:throw Error(i(468,u))}g[an]=s,Qe(g),u=g}s.stateNode=u}else $v(p,s.type,s.stateNode);else s.stateNode=Wv(p,u,s.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?$v(p,s.type,s.stateNode):Wv(p,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Vf(s,s.memoizedProps,o.memoizedProps)}break;case 27:Dn(r,s),On(s),u&512&&(qe||o===null||Hs(o,o.return)),o!==null&&u&4&&Vf(s,s.memoizedProps,o.memoizedProps);break;case 5:if(Dn(r,s),On(s),u&512&&(qe||o===null||Hs(o,o.return)),s.flags&32){p=s.stateNode;try{Ma(p,"")}catch(wt){ne(s,s.return,wt)}}u&4&&s.stateNode!=null&&(p=s.memoizedProps,Vf(s,p,o!==null?o.memoizedProps:p)),u&1024&&(Gf=!0);break;case 6:if(Dn(r,s),On(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,o=s.stateNode;try{o.nodeValue=u}catch(wt){ne(s,s.return,wt)}}break;case 3:if(zu=null,p=Es,Es=Bu(r.containerInfo),Dn(r,s),Es=p,On(s),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ro(r.containerInfo)}catch(wt){ne(s,s.return,wt)}Gf&&(Gf=!1,$0(s));break;case 4:u=Es,Es=Bu(s.stateNode.containerInfo),Dn(r,s),On(s),Es=u;break;case 12:Dn(r,s),On(s);break;case 31:Dn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,wu(s,u)));break;case 13:Dn(r,s),On(s),s.child.flags&8192&&s.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(xu=Be()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,wu(s,u)));break;case 22:p=s.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,tt=wi,ct=qe;if(wi=tt||p,qe=ct||F,Dn(r,s),qe=ct,wi=tt,On(s),u&8192)t:for(r=s.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||F||wi||qe||Yr(s)),o=null,r=s;;){if(r.tag===5||r.tag===26){if(o===null){F=o=r;try{if(g=F.stateNode,p)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{M=F.stateNode;var pt=F.memoizedProps.style,nt=pt!=null&&pt.hasOwnProperty("display")?pt.display:null;M.style.display=nt==null||typeof nt=="boolean"?"":(""+nt).trim()}}catch(wt){ne(F,F.return,wt)}}}else if(r.tag===6){if(o===null){F=r;try{F.stateNode.nodeValue=p?"":F.memoizedProps}catch(wt){ne(F,F.return,wt)}}}else if(r.tag===18){if(o===null){F=r;try{var rt=F.stateNode;p?Pv(rt,!0):Pv(F.stateNode,!1)}catch(wt){ne(F,F.return,wt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,wu(s,o))));break;case 19:Dn(r,s),On(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,wu(s,u)));break;case 30:break;case 21:break;default:Dn(r,s),On(s)}}function On(s){var r=s.flags;if(r&2){try{for(var o,u=s.return;u!==null;){if(U0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,g=Hf(s);vu(s,g,p);break;case 5:var b=o.stateNode;o.flags&32&&(Ma(b,""),o.flags&=-33);var M=Hf(s);vu(s,M,b);break;case 3:case 4:var F=o.stateNode.containerInfo,tt=Hf(s);qf(s,tt,F);break;default:throw Error(i(161))}}catch(ct){ne(s,s.return,ct)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function $0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;$0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function xi(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)H0(s,r.alternate,r),r=r.sibling}function Yr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:er(4,r,r.return),Yr(r);break;case 1:Hs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&P0(r,r.return,o),Yr(r);break;case 27:Bl(r.stateNode);case 26:case 5:Hs(r,r.return),Yr(r);break;case 22:r.memoizedState===null&&Yr(r);break;case 30:Yr(r);break;default:Yr(r)}s=s.sibling}}function Si(s,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,p=s,g=r,b=g.flags;switch(g.tag){case 0:case 11:case 15:Si(p,g,o),Al(4,g);break;case 1:if(Si(p,g,o),u=g,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(tt){ne(u,u.return,tt)}if(u=g,p=u.updateQueue,p!==null){var M=u.stateNode;try{var F=p.shared.hiddenCallbacks;if(F!==null)for(p.shared.hiddenCallbacks=null,p=0;p<F.length;p++)C_(F[p],M)}catch(tt){ne(u,u.return,tt)}}o&&b&64&&L0(g),Tl(g,g.return);break;case 27:F0(g);case 26:case 5:Si(p,g,o),o&&u===null&&b&4&&j0(g),Tl(g,g.return);break;case 12:Si(p,g,o);break;case 31:Si(p,g,o),o&&b&4&&Y0(p,g);break;case 13:Si(p,g,o),o&&b&4&&W0(p,g);break;case 22:g.memoizedState===null&&Si(p,g,o),Tl(g,g.return);break;case 30:break;default:Si(p,g,o)}r=r.sibling}}function Yf(s,r){var o=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==o&&(s!=null&&s.refCount++,o!=null&&hl(o))}function Wf(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&hl(s))}function Ms(s,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Z0(s,r,o,u),r=r.sibling}function Z0(s,r,o,u){var p=r.flags;switch(r.tag){case 0:case 11:case 15:Ms(s,r,o,u),p&2048&&Al(9,r);break;case 1:Ms(s,r,o,u);break;case 3:Ms(s,r,o,u),p&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&hl(s)));break;case 12:if(p&2048){Ms(s,r,o,u),s=r.stateNode;try{var g=r.memoizedProps,b=g.id,M=g.onPostCommit;typeof M=="function"&&M(b,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){ne(r,r.return,F)}}else Ms(s,r,o,u);break;case 31:Ms(s,r,o,u);break;case 13:Ms(s,r,o,u);break;case 23:break;case 22:g=r.stateNode,b=r.alternate,r.memoizedState!==null?g._visibility&2?Ms(s,r,o,u):Cl(s,r):g._visibility&2?Ms(s,r,o,u):(g._visibility|=2,Xa(s,r,o,u,(r.subtreeFlags&10256)!==0||!1)),p&2048&&Yf(b,r);break;case 24:Ms(s,r,o,u),p&2048&&Wf(r.alternate,r);break;default:Ms(s,r,o,u)}}function Xa(s,r,o,u,p){for(p=p&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=s,b=r,M=o,F=u,tt=b.flags;switch(b.tag){case 0:case 11:case 15:Xa(g,b,M,F,p),Al(8,b);break;case 23:break;case 22:var ct=b.stateNode;b.memoizedState!==null?ct._visibility&2?Xa(g,b,M,F,p):Cl(g,b):(ct._visibility|=2,Xa(g,b,M,F,p)),p&&tt&2048&&Yf(b.alternate,b);break;case 24:Xa(g,b,M,F,p),p&&tt&2048&&Wf(b.alternate,b);break;default:Xa(g,b,M,F,p)}r=r.sibling}}function Cl(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=s,u=r,p=u.flags;switch(u.tag){case 22:Cl(o,u),p&2048&&Yf(u.alternate,u);break;case 24:Cl(o,u),p&2048&&Wf(u.alternate,u);break;default:Cl(o,u)}r=r.sibling}}var El=8192;function $a(s,r,o){if(s.subtreeFlags&El)for(s=s.child;s!==null;)Q0(s,r,o),s=s.sibling}function Q0(s,r,o){switch(s.tag){case 26:$a(s,r,o),s.flags&El&&s.memoizedState!==null&&DT(o,Es,s.memoizedState,s.memoizedProps);break;case 5:$a(s,r,o);break;case 3:case 4:var u=Es;Es=Bu(s.stateNode.containerInfo),$a(s,r,o),Es=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=El,El=16777216,$a(s,r,o),El=u):$a(s,r,o));break;default:$a(s,r,o)}}function K0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Ml(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ke=u,tv(u,s)}K0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)J0(s),s=s.sibling}function J0(s){switch(s.tag){case 0:case 11:case 15:Ml(s),s.flags&2048&&er(9,s,s.return);break;case 3:Ml(s);break;case 12:Ml(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,bu(s)):Ml(s);break;default:Ml(s)}}function bu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];Ke=u,tv(u,s)}K0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:er(8,r,r.return),bu(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,bu(r));break;default:bu(r)}s=s.sibling}}function tv(s,r){for(;Ke!==null;){var o=Ke;switch(o.tag){case 0:case 11:case 15:er(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ke=u;else t:for(o=s;Ke!==null;){u=Ke;var p=u.sibling,g=u.return;if(q0(u),u===o){Ke=null;break t}if(p!==null){p.return=g,Ke=p;break t}Ke=g}}}var WA={getCacheForType:function(s){var r=ln(Fe),o=r.data.get(s);return o===void 0&&(o=s(),r.data.set(s,o)),o},cacheSignal:function(){return ln(Fe).controller.signal}},XA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,de=null,Lt=null,Ut=0,ee=0,Qn=null,nr=!1,Za=!1,Xf=!1,Ai=0,ke=0,sr=0,Wr=0,$f=0,Kn=0,Qa=0,kl=null,Bn=null,Zf=!1,xu=0,ev=0,Su=1/0,Au=null,ir=null,Xe=0,rr=null,Ka=null,Ti=0,Qf=0,Kf=null,nv=null,Nl=0,Jf=null;function Jn(){return(Kt&2)!==0&&Ut!==0?Ut&-Ut:A.T!==null?rp():_y()}function sv(){if(Kn===0)if((Ut&536870912)===0||Gt){var s=ue;ue<<=1,(ue&3932160)===0&&(ue=262144),Kn=s}else Kn=536870912;return s=$n.current,s!==null&&(s.flags|=32),Kn}function In(s,r,o){(s===de&&(ee===2||ee===9)||s.cancelPendingCommit!==null)&&(Ja(s,0),ar(s,Ut,Kn,!1)),Qo(s,o),((Kt&2)===0||s!==de)&&(s===de&&((Kt&2)===0&&(Wr|=o),ke===4&&ar(s,Ut,Kn,!1)),qs(s))}function iv(s,r,o){if((Kt&6)!==0)throw Error(i(327));var u=!o&&(r&127)===0&&(r&s.expiredLanes)===0||os(s,r),p=u?QA(s,r):ep(s,r,!0),g=u;do{if(p===0){Za&&!u&&ar(s,r,0,!1);break}else{if(o=s.current.alternate,g&&!$A(o)){p=ep(s,r,!1),g=!1;continue}if(p===2){if(g=r,s.errorRecoveryDisabledLanes&g)var b=0;else b=s.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;t:{var M=s;p=kl;var F=M.current.memoizedState.isDehydrated;if(F&&(Ja(M,b).flags|=256),b=ep(M,b,!1),b!==2){if(Xf&&!F){M.errorRecoveryDisabledLanes|=g,Wr|=g,p=4;break t}g=Bn,Bn=p,g!==null&&(Bn===null?Bn=g:Bn.push.apply(Bn,g))}p=b}if(g=!1,p!==2)continue}}if(p===1){Ja(s,0),ar(s,r,0,!0);break}t:{switch(u=s,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ar(u,r,Kn,!nr);break t;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(p=xu+300-Be(),10<p)){if(ar(u,r,Kn,!nr),yn(u,0,!0)!==0)break t;Ti=r,u.timeoutHandle=Iv(rv.bind(null,u,o,Bn,Au,Zf,r,Kn,Wr,Qa,nr,g,"Throttled",-0,0),p);break t}rv(u,o,Bn,Au,Zf,r,Kn,Wr,Qa,nr,g,null,-0,0)}}break}while(!0);qs(s)}function rv(s,r,o,u,p,g,b,M,F,tt,ct,pt,nt,rt){if(s.timeoutHandle=-1,pt=r.subtreeFlags,pt&8192||(pt&16785408)===16785408){pt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},Q0(r,g,pt);var wt=(g&62914560)===g?xu-Be():(g&4194048)===g?ev-Be():0;if(wt=OT(pt,wt),wt!==null){Ti=g,s.cancelPendingCommit=wt(fv.bind(null,s,r,g,o,u,p,b,M,F,ct,pt,null,nt,rt)),ar(s,g,b,!tt);return}}fv(s,r,g,o,u,p,b,M,F)}function $A(s){for(var r=s;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var p=o[u],g=p.getSnapshot;p=p.value;try{if(!Wn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ar(s,r,o,u){r&=~$f,r&=~Wr,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var p=r;0<p;){var g=31-_t(p),b=1<<g;u[g]=-1,p&=~b}o!==0&&my(s,o,r)}function Tu(){return(Kt&6)===0?(Rl(0),!1):!0}function tp(){if(Lt!==null){if(ee===0)var s=Lt.return;else s=Lt,pi=Pr=null,gf(s),Ha=null,fl=0,s=Lt;for(;s!==null;)z0(s.alternate,s),s=s.return;Lt=null}}function Ja(s,r){var o=s.timeoutHandle;o!==-1&&(s.timeoutHandle=-1,mT(o)),o=s.cancelPendingCommit,o!==null&&(s.cancelPendingCommit=null,o()),Ti=0,tp(),de=s,Lt=o=di(s.current,null),Ut=r,ee=0,Qn=null,nr=!1,Za=os(s,r),Xf=!1,Qa=Kn=$f=Wr=sr=ke=0,Bn=kl=null,Zf=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var p=31-_t(u),g=1<<p;r|=s[p],u&=~g}return Ai=r,Yc(),o}function av(s,r){Dt=null,A.H=bl,r===Va||r===tu?(r=x_(),ee=3):r===sf?(r=x_(),ee=4):ee=r===Df?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Qn=r,Lt===null&&(ke=1,pu(s,hs(r,s.current)))}function ov(){var s=$n.current;return s===null?!0:(Ut&4194048)===Ut?ms===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?s===ms:!1}function lv(){var s=A.H;return A.H=bl,s===null?bl:s}function cv(){var s=A.A;return A.A=WA,s}function Cu(){ke=4,nr||(Ut&4194048)!==Ut&&$n.current!==null||(Za=!0),(sr&134217727)===0&&(Wr&134217727)===0||de===null||ar(de,Ut,Kn,!1)}function ep(s,r,o){var u=Kt;Kt|=2;var p=lv(),g=cv();(de!==s||Ut!==r)&&(Au=null,Ja(s,r)),r=!1;var b=ke;t:do try{if(ee!==0&&Lt!==null){var M=Lt,F=Qn;switch(ee){case 8:tp(),b=6;break t;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var tt=ee;if(ee=0,Qn=null,to(s,M,F,tt),o&&Za){b=0;break t}break;default:tt=ee,ee=0,Qn=null,to(s,M,F,tt)}}ZA(),b=ke;break}catch(ct){av(s,ct)}while(!0);return r&&s.shellSuspendCounter++,pi=Pr=null,Kt=u,A.H=p,A.A=g,Lt===null&&(de=null,Ut=0,Yc()),b}function ZA(){for(;Lt!==null;)uv(Lt)}function QA(s,r){var o=Kt;Kt|=2;var u=lv(),p=cv();de!==s||Ut!==r?(Au=null,Su=Be()+500,Ja(s,r)):Za=os(s,r);t:do try{if(ee!==0&&Lt!==null){r=Lt;var g=Qn;e:switch(ee){case 1:ee=0,Qn=null,to(s,r,g,1);break;case 2:case 9:if(w_(g)){ee=0,Qn=null,hv(r);break}r=function(){ee!==2&&ee!==9||de!==s||(ee=7),qs(s)},g.then(r,r);break t;case 3:ee=7;break t;case 4:ee=5;break t;case 7:w_(g)?(ee=0,Qn=null,hv(r)):(ee=0,Qn=null,to(s,r,g,7));break;case 5:var b=null;switch(Lt.tag){case 26:b=Lt.memoizedState;case 5:case 27:var M=Lt;if(b?Zv(b):M.stateNode.complete){ee=0,Qn=null;var F=M.sibling;if(F!==null)Lt=F;else{var tt=M.return;tt!==null?(Lt=tt,Eu(tt)):Lt=null}break e}}ee=0,Qn=null,to(s,r,g,5);break;case 6:ee=0,Qn=null,to(s,r,g,6);break;case 8:tp(),ke=6;break t;default:throw Error(i(462))}}KA();break}catch(ct){av(s,ct)}while(!0);return pi=Pr=null,A.H=u,A.A=p,Kt=o,Lt!==null?0:(de=null,Ut=0,Yc(),ke)}function KA(){for(;Lt!==null&&!Sn();)uv(Lt)}function uv(s){var r=B0(s.alternate,s,Ai);s.memoizedProps=s.pendingProps,r===null?Eu(s):Lt=r}function hv(s){var r=s,o=r.alternate;switch(r.tag){case 15:case 0:r=M0(o,r,r.pendingProps,r.type,void 0,Ut);break;case 11:r=M0(o,r,r.pendingProps,r.type.render,r.ref,Ut);break;case 5:gf(r);default:z0(o,r),r=Lt=c_(r,Ai),r=B0(o,r,Ai)}s.memoizedProps=s.pendingProps,r===null?Eu(s):Lt=r}function to(s,r,o,u){pi=Pr=null,gf(r),Ha=null,fl=0;var p=r.return;try{if(UA(s,p,r,o,Ut)){ke=1,pu(s,hs(o,s.current)),Lt=null;return}}catch(g){if(p!==null)throw Lt=p,g;ke=1,pu(s,hs(o,s.current)),Lt=null;return}r.flags&32768?(Gt||u===1?s=!0:Za||(Ut&536870912)!==0?s=!1:(nr=s=!0,(u===2||u===9||u===3||u===6)&&(u=$n.current,u!==null&&u.tag===13&&(u.flags|=16384))),dv(r,s)):Eu(r)}function Eu(s){var r=s;do{if((r.flags&32768)!==0){dv(r,nr);return}s=r.return;var o=HA(r.alternate,r,Ai);if(o!==null){Lt=o;return}if(r=r.sibling,r!==null){Lt=r;return}Lt=r=s}while(r!==null);ke===0&&(ke=5)}function dv(s,r){do{var o=qA(s.alternate,s);if(o!==null){o.flags&=32767,Lt=o;return}if(o=s.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(s=s.sibling,s!==null)){Lt=s;return}Lt=s=o}while(s!==null);ke=6,Lt=null}function fv(s,r,o,u,p,g,b,M,F){s.cancelPendingCommit=null;do Mu();while(Xe!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(g=r.lanes|r.childLanes,g|=Vd,R2(s,o,g,b,M,F),s===de&&(Lt=de=null,Ut=0),Ka=r,rr=s,Ti=o,Qf=g,Kf=p,nv=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,nT(li,function(){return _v(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=A.T,A.T=null,p=E.p,E.p=2,b=Kt,Kt|=4;try{GA(s,r,o)}finally{Kt=b,E.p=p,A.T=u}}Xe=1,pv(),mv(),gv()}}function pv(){if(Xe===1){Xe=0;var s=rr,r=Ka,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=A.T,A.T=null;var u=E.p;E.p=2;var p=Kt;Kt|=4;try{X0(r,s);var g=fp,b=t_(s.containerInfo),M=g.focusedElem,F=g.selectionRange;if(b!==M&&M&&M.ownerDocument&&Jy(M.ownerDocument.documentElement,M)){if(F!==null&&Ld(M)){var tt=F.start,ct=F.end;if(ct===void 0&&(ct=tt),"selectionStart"in M)M.selectionStart=tt,M.selectionEnd=Math.min(ct,M.value.length);else{var pt=M.ownerDocument||document,nt=pt&&pt.defaultView||window;if(nt.getSelection){var rt=nt.getSelection(),wt=M.textContent.length,Et=Math.min(F.start,wt),ae=F.end===void 0?Et:Math.min(F.end,wt);!rt.extend&&Et>ae&&(b=ae,ae=Et,Et=b);var X=Ky(M,Et),q=Ky(M,ae);if(X&&q&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==q.node||rt.focusOffset!==q.offset)){var J=pt.createRange();J.setStart(X.node,X.offset),rt.removeAllRanges(),Et>ae?(rt.addRange(J),rt.extend(q.node,q.offset)):(J.setEnd(q.node,q.offset),rt.addRange(J))}}}}for(pt=[],rt=M;rt=rt.parentNode;)rt.nodeType===1&&pt.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<pt.length;M++){var dt=pt[M];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}Uu=!!dp,fp=dp=null}finally{Kt=p,E.p=u,A.T=o}}s.current=r,Xe=2}}function mv(){if(Xe===2){Xe=0;var s=rr,r=Ka,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=A.T,A.T=null;var u=E.p;E.p=2;var p=Kt;Kt|=4;try{H0(s,r.alternate,r)}finally{Kt=p,E.p=u,A.T=o}}Xe=3}}function gv(){if(Xe===4||Xe===3){Xe=0,Ts();var s=rr,r=Ka,o=Ti,u=nv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xe=5:(Xe=0,Ka=rr=null,yv(s,s.pendingLanes));var p=s.pendingLanes;if(p===0&&(ir=null),_d(o),r=r.stateNode,ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(G,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=A.T,p=E.p,E.p=2,A.T=null;try{for(var g=s.onRecoverableError,b=0;b<u.length;b++){var M=u[b];g(M.value,{componentStack:M.stack})}}finally{A.T=r,E.p=p}}(Ti&3)!==0&&Mu(),qs(s),p=s.pendingLanes,(o&261930)!==0&&(p&42)!==0?s===Jf?Nl++:(Nl=0,Jf=s):Nl=0,Rl(0)}}function yv(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,hl(r)))}function Mu(){return pv(),mv(),gv(),_v()}function _v(){if(Xe!==5)return!1;var s=rr,r=Qf;Qf=0;var o=_d(Ti),u=A.T,p=E.p;try{E.p=32>o?32:o,A.T=null,o=Kf,Kf=null;var g=rr,b=Ti;if(Xe=0,Ka=rr=null,Ti=0,(Kt&6)!==0)throw Error(i(331));var M=Kt;if(Kt|=4,J0(g.current),Z0(g,g.current,b,o),Kt=M,Rl(0,!1),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(G,g)}catch{}return!0}finally{E.p=p,A.T=u,yv(s,r)}}function vv(s,r,o){r=hs(o,r),r=Rf(s.stateNode,r,2),s=Ki(s,r,2),s!==null&&(Qo(s,2),qs(s))}function ne(s,r,o){if(s.tag===3)vv(s,s,o);else for(;r!==null;){if(r.tag===3){vv(r,s,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ir===null||!ir.has(u))){s=hs(o,s),o=w0(2),u=Ki(r,o,2),u!==null&&(b0(o,u,r,s),Qo(u,2),qs(u));break}}r=r.return}}function np(s,r,o){var u=s.pingCache;if(u===null){u=s.pingCache=new XA;var p=new Set;u.set(r,p)}else p=u.get(r),p===void 0&&(p=new Set,u.set(r,p));p.has(o)||(Xf=!0,p.add(o),s=JA.bind(null,s,r,o),r.then(s,s))}function JA(s,r,o){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&o,s.warmLanes&=~o,de===s&&(Ut&o)===o&&(ke===4||ke===3&&(Ut&62914560)===Ut&&300>Be()-xu?(Kt&2)===0&&Ja(s,0):$f|=o,Qa===Ut&&(Qa=0)),qs(s)}function wv(s,r){r===0&&(r=py()),s=Ir(s,r),s!==null&&(Qo(s,r),qs(s))}function tT(s){var r=s.memoizedState,o=0;r!==null&&(o=r.retryLane),wv(s,o)}function eT(s,r){var o=0;switch(s.tag){case 31:case 13:var u=s.stateNode,p=s.memoizedState;p!==null&&(o=p.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),wv(s,o)}function nT(s,r){return qt(s,r)}var ku=null,eo=null,sp=!1,Nu=!1,ip=!1,or=0;function qs(s){s!==eo&&s.next===null&&(eo===null?ku=eo=s:eo=eo.next=s),Nu=!0,sp||(sp=!0,iT())}function Rl(s,r){if(!ip&&Nu){ip=!0;do for(var o=!1,u=ku;u!==null;){if(s!==0){var p=u.pendingLanes;if(p===0)var g=0;else{var b=u.suspendedLanes,M=u.pingedLanes;g=(1<<31-_t(42|s)+1)-1,g&=p&~(b&~M),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Av(u,g))}else g=Ut,g=yn(u,u===de?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||os(u,g)||(o=!0,Av(u,g));u=u.next}while(o);ip=!1}}function sT(){bv()}function bv(){Nu=sp=!1;var s=0;or!==0&&pT()&&(s=or);for(var r=Be(),o=null,u=ku;u!==null;){var p=u.next,g=xv(u,r);g===0?(u.next=null,o===null?ku=p:o.next=p,p===null&&(eo=o)):(o=u,(s!==0||(g&3)!==0)&&(Nu=!0)),u=p}Xe!==0&&Xe!==5||Rl(s),or!==0&&(or=0)}function xv(s,r){for(var o=s.suspendedLanes,u=s.pingedLanes,p=s.expirationTimes,g=s.pendingLanes&-62914561;0<g;){var b=31-_t(g),M=1<<b,F=p[b];F===-1?((M&o)===0||(M&u)!==0)&&(p[b]=md(M,r)):F<=r&&(s.expiredLanes|=M),g&=~M}if(r=de,o=Ut,o=yn(s,s===r?o:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,o===0||s===r&&(ee===2||ee===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&me(u),s.callbackNode=null,s.callbackPriority=0;if((o&3)===0||os(s,o)){if(r=o&-o,r===s.callbackPriority)return r;switch(u!==null&&me(u),_d(o)){case 2:case 8:o=va;break;case 32:o=li;break;case 268435456:o=Yn;break;default:o=li}return u=Sv.bind(null,s),o=qt(o,u),s.callbackPriority=r,s.callbackNode=o,r}return u!==null&&u!==null&&me(u),s.callbackPriority=2,s.callbackNode=null,2}function Sv(s,r){if(Xe!==0&&Xe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var o=s.callbackNode;if(Mu()&&s.callbackNode!==o)return null;var u=Ut;return u=yn(s,s===de?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(iv(s,u,r),xv(s,Be()),s.callbackNode!=null&&s.callbackNode===o?Sv.bind(null,s):null)}function Av(s,r){if(Mu())return null;iv(s,r,!0)}function iT(){gT(function(){(Kt&6)!==0?qt(oi,sT):bv()})}function rp(){if(or===0){var s=Ua;s===0&&(s=Yt,Yt<<=1,(Yt&261888)===0&&(Yt=256)),or=s}return or}function Tv(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Pc(""+s)}function Cv(s,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,s.id&&o.setAttribute("form",s.id),r.parentNode.insertBefore(o,r),s=new FormData(s),o.parentNode.removeChild(o),s}function rT(s,r,o,u,p){if(r==="submit"&&o&&o.stateNode===p){var g=Tv((p[kn]||null).action),b=u.submitter;b&&(r=(r=b[kn]||null)?Tv(r.formAction):b.getAttribute("formAction"),r!==null&&(g=r,b=null));var M=new Vc("action","action",null,u,p);s.push({event:M,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(or!==0){var F=b?Cv(p,b):new FormData(p);Tf(o,{pending:!0,data:F,method:p.method,action:g},null,F)}}else typeof g=="function"&&(M.preventDefault(),F=b?Cv(p,b):new FormData(p),Tf(o,{pending:!0,data:F,method:p.method,action:g},g,F))},currentTarget:p}]})}}for(var ap=0;ap<Fd.length;ap++){var op=Fd[ap],aT=op.toLowerCase(),oT=op[0].toUpperCase()+op.slice(1);Cs(aT,"on"+oT)}Cs(s_,"onAnimationEnd"),Cs(i_,"onAnimationIteration"),Cs(r_,"onAnimationStart"),Cs("dblclick","onDoubleClick"),Cs("focusin","onFocus"),Cs("focusout","onBlur"),Cs(SA,"onTransitionRun"),Cs(AA,"onTransitionStart"),Cs(TA,"onTransitionCancel"),Cs(a_,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Ev(s,r){r=(r&4)!==0;for(var o=0;o<s.length;o++){var u=s[o],p=u.event;u=u.listeners;t:{var g=void 0;if(r)for(var b=u.length-1;0<=b;b--){var M=u[b],F=M.instance,tt=M.currentTarget;if(M=M.listener,F!==g&&p.isPropagationStopped())break t;g=M,p.currentTarget=tt;try{g(p)}catch(ct){Gc(ct)}p.currentTarget=null,g=F}else for(b=0;b<u.length;b++){if(M=u[b],F=M.instance,tt=M.currentTarget,M=M.listener,F!==g&&p.isPropagationStopped())break t;g=M,p.currentTarget=tt;try{g(p)}catch(ct){Gc(ct)}p.currentTarget=null,g=F}}}}function Pt(s,r){var o=r[vd];o===void 0&&(o=r[vd]=new Set);var u=s+"__bubble";o.has(u)||(Mv(r,s,2,!1),o.add(u))}function lp(s,r,o){var u=0;r&&(u|=4),Mv(o,s,u,r)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function cp(s){if(!s[Ru]){s[Ru]=!0,by.forEach(function(o){o!=="selectionchange"&&(lT.has(o)||lp(o,!1,s),lp(o,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ru]||(r[Ru]=!0,lp("selectionchange",!1,r))}}function Mv(s,r,o,u){switch(sw(r)){case 2:var p=zT;break;case 8:p=LT;break;default:p=Ap}o=p.bind(null,r,o,s),p=void 0,!Md||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),u?p!==void 0?s.addEventListener(r,o,{capture:!0,passive:p}):s.addEventListener(r,o,!0):p!==void 0?s.addEventListener(r,o,{passive:p}):s.addEventListener(r,o,!1)}function up(s,r,o,u,p){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var M=u.stateNode.containerInfo;if(M===p)break;if(b===4)for(b=u.return;b!==null;){var F=b.tag;if((F===3||F===4)&&b.stateNode.containerInfo===p)return;b=b.return}for(;M!==null;){if(b=Sa(M),b===null)return;if(F=b.tag,F===5||F===6||F===26||F===27){u=g=b;continue t}M=M.parentNode}}u=u.return}Oy(function(){var tt=g,ct=Cd(o),pt=[];t:{var nt=o_.get(s);if(nt!==void 0){var rt=Vc,wt=s;switch(s){case"keypress":if(Uc(o)===0)break t;case"keydown":case"keyup":rt=eA;break;case"focusin":wt="focus",rt=Dd;break;case"focusout":wt="blur",rt=Dd;break;case"beforeblur":case"afterblur":rt=Dd;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=H2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=iA;break;case s_:case i_:case r_:rt=Y2;break;case a_:rt=aA;break;case"scroll":case"scrollend":rt=F2;break;case"wheel":rt=lA;break;case"copy":case"cut":case"paste":rt=X2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Py;break;case"toggle":case"beforetoggle":rt=uA}var Et=(r&4)!==0,ae=!Et&&(s==="scroll"||s==="scrollend"),X=Et?nt!==null?nt+"Capture":null:nt;Et=[];for(var q=tt,J;q!==null;){var dt=q;if(J=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||J===null||X===null||(dt=tl(q,X),dt!=null&&Et.push(Ol(q,dt,J))),ae)break;q=q.return}0<Et.length&&(nt=new rt(nt,wt,null,o,ct),pt.push({event:nt,listeners:Et}))}}if((r&7)===0){t:{if(nt=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",nt&&o!==Td&&(wt=o.relatedTarget||o.fromElement)&&(Sa(wt)||wt[xa]))break t;if((rt||nt)&&(nt=ct.window===ct?ct:(nt=ct.ownerDocument)?nt.defaultView||nt.parentWindow:window,rt?(wt=o.relatedTarget||o.toElement,rt=tt,wt=wt?Sa(wt):null,wt!==null&&(ae=l(wt),Et=wt.tag,wt!==ae||Et!==5&&Et!==27&&Et!==6)&&(wt=null)):(rt=null,wt=tt),rt!==wt)){if(Et=zy,dt="onMouseLeave",X="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Et=Py,dt="onPointerLeave",X="onPointerEnter",q="pointer"),ae=rt==null?nt:Jo(rt),J=wt==null?nt:Jo(wt),nt=new Et(dt,q+"leave",rt,o,ct),nt.target=ae,nt.relatedTarget=J,dt=null,Sa(ct)===tt&&(Et=new Et(X,q+"enter",wt,o,ct),Et.target=J,Et.relatedTarget=ae,dt=Et),ae=dt,rt&&wt)e:{for(Et=cT,X=rt,q=wt,J=0,dt=X;dt;dt=Et(dt))J++;dt=0;for(var Tt=q;Tt;Tt=Et(Tt))dt++;for(;0<J-dt;)X=Et(X),J--;for(;0<dt-J;)q=Et(q),dt--;for(;J--;){if(X===q||q!==null&&X===q.alternate){Et=X;break e}X=Et(X),q=Et(q)}Et=null}else Et=null;rt!==null&&kv(pt,nt,rt,Et,!1),wt!==null&&ae!==null&&kv(pt,ae,wt,Et,!0)}}t:{if(nt=tt?Jo(tt):window,rt=nt.nodeName&&nt.nodeName.toLowerCase(),rt==="select"||rt==="input"&&nt.type==="file")var $t=Yy;else if(qy(nt))if(Wy)$t=wA;else{$t=_A;var bt=yA}else rt=nt.nodeName,!rt||rt.toLowerCase()!=="input"||nt.type!=="checkbox"&&nt.type!=="radio"?tt&&Ad(tt.elementType)&&($t=Yy):$t=vA;if($t&&($t=$t(s,tt))){Gy(pt,$t,o,ct);break t}bt&&bt(s,nt,tt),s==="focusout"&&tt&&nt.type==="number"&&tt.memoizedProps.value!=null&&Sd(nt,"number",nt.value)}switch(bt=tt?Jo(tt):window,s){case"focusin":(qy(bt)||bt.contentEditable==="true")&&(Da=bt,Pd=tt,ll=null);break;case"focusout":ll=Pd=Da=null;break;case"mousedown":jd=!0;break;case"contextmenu":case"mouseup":case"dragend":jd=!1,e_(pt,o,ct);break;case"selectionchange":if(xA)break;case"keydown":case"keyup":e_(pt,o,ct)}var Ot;if(Bd)t:{switch(s){case"compositionstart":var Ft="onCompositionStart";break t;case"compositionend":Ft="onCompositionEnd";break t;case"compositionupdate":Ft="onCompositionUpdate";break t}Ft=void 0}else Ra?Vy(s,o)&&(Ft="onCompositionEnd"):s==="keydown"&&o.keyCode===229&&(Ft="onCompositionStart");Ft&&(jy&&o.locale!=="ko"&&(Ra||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&Ra&&(Ot=By()):(Gi=ct,kd="value"in Gi?Gi.value:Gi.textContent,Ra=!0)),bt=Du(tt,Ft),0<bt.length&&(Ft=new Ly(Ft,s,null,o,ct),pt.push({event:Ft,listeners:bt}),Ot?Ft.data=Ot:(Ot=Hy(o),Ot!==null&&(Ft.data=Ot)))),(Ot=dA?fA(s,o):pA(s,o))&&(Ft=Du(tt,"onBeforeInput"),0<Ft.length&&(bt=new Ly("onBeforeInput","beforeinput",null,o,ct),pt.push({event:bt,listeners:Ft}),bt.data=Ot)),rT(pt,s,tt,o,ct)}Ev(pt,r)})}function Ol(s,r,o){return{instance:s,listener:r,currentTarget:o}}function Du(s,r){for(var o=r+"Capture",u=[];s!==null;){var p=s,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=tl(s,o),p!=null&&u.unshift(Ol(s,p,g)),p=tl(s,r),p!=null&&u.push(Ol(s,p,g))),s.tag===3)return u;s=s.return}return[]}function cT(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function kv(s,r,o,u,p){for(var g=r._reactName,b=[];o!==null&&o!==u;){var M=o,F=M.alternate,tt=M.stateNode;if(M=M.tag,F!==null&&F===u)break;M!==5&&M!==26&&M!==27||tt===null||(F=tt,p?(tt=tl(o,g),tt!=null&&b.unshift(Ol(o,tt,F))):p||(tt=tl(o,g),tt!=null&&b.push(Ol(o,tt,F)))),o=o.return}b.length!==0&&s.push({event:r,listeners:b})}var uT=/\r\n?/g,hT=/\u0000|\uFFFD/g;function Nv(s){return(typeof s=="string"?s:""+s).replace(uT,`
`).replace(hT,"")}function Rv(s,r){return r=Nv(r),Nv(s)===r}function re(s,r,o,u,p,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Ma(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Ma(s,""+u);break;case"className":zc(s,"class",u);break;case"tabIndex":zc(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":zc(s,o,u);break;case"style":Ry(s,u,g);break;case"data":if(r!=="object"){zc(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){s.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Pc(""+u),s.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&re(s,r,"name",p.name,p,null),re(s,r,"formEncType",p.formEncType,p,null),re(s,r,"formMethod",p.formMethod,p,null),re(s,r,"formTarget",p.formTarget,p,null)):(re(s,r,"encType",p.encType,p,null),re(s,r,"method",p.method,p,null),re(s,r,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(o);break}u=Pc(""+u),s.setAttribute(o,u);break;case"onClick":u!=null&&(s.onclick=ui);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}o=Pc(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""+u):s.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,""):s.removeAttribute(o);break;case"capture":case"download":u===!0?s.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(o,u):s.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(o,u):s.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(o):s.setAttribute(o,u);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),Ic(s,"popover",u);break;case"xlinkActuate":ci(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ci(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ci(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ci(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ci(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ci(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ci(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ci(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ci(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ic(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=j2.get(o)||o,Ic(s,o,u))}}function hp(s,r,o,u,p,g){switch(o){case"style":Ry(s,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(p.children!=null)throw Error(i(60));s.innerHTML=o}}break;case"children":typeof u=="string"?Ma(s,u):(typeof u=="number"||typeof u=="bigint")&&Ma(s,""+u);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xy.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=s[kn]||null,g=g!=null?g[o]:null,typeof g=="function"&&s.removeEventListener(r,g,p),typeof u=="function")){typeof g!="function"&&g!==null&&(o in s?s[o]=null:s.hasAttribute(o)&&s.removeAttribute(o)),s.addEventListener(r,u,p);break t}o in s?s[o]=u:u===!0?s.setAttribute(o,""):Ic(s,o,u)}}}function un(s,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var u=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:re(s,r,g,b,o,null)}}p&&re(s,r,"srcSet",o.srcSet,o,null),u&&re(s,r,"src",o.src,o,null);return;case"input":Pt("invalid",s);var M=g=b=p=null,F=null,tt=null;for(u in o)if(o.hasOwnProperty(u)){var ct=o[u];if(ct!=null)switch(u){case"name":p=ct;break;case"type":b=ct;break;case"checked":F=ct;break;case"defaultChecked":tt=ct;break;case"value":g=ct;break;case"defaultValue":M=ct;break;case"children":case"dangerouslySetInnerHTML":if(ct!=null)throw Error(i(137,r));break;default:re(s,r,u,ct,o,null)}}Ey(s,g,M,F,tt,b,p,!1);return;case"select":Pt("invalid",s),u=b=g=null;for(p in o)if(o.hasOwnProperty(p)&&(M=o[p],M!=null))switch(p){case"value":g=M;break;case"defaultValue":b=M;break;case"multiple":u=M;default:re(s,r,p,M,o,null)}r=g,o=b,s.multiple=!!u,r!=null?Ea(s,!!u,r,!1):o!=null&&Ea(s,!!u,o,!0);return;case"textarea":Pt("invalid",s),g=p=u=null;for(b in o)if(o.hasOwnProperty(b)&&(M=o[b],M!=null))switch(b){case"value":u=M;break;case"defaultValue":p=M;break;case"children":g=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(91));break;default:re(s,r,b,M,o,null)}ky(s,u,p,g);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:re(s,r,F,u,o,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(u=0;u<Dl.length;u++)Pt(Dl[u],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(tt in o)if(o.hasOwnProperty(tt)&&(u=o[tt],u!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:re(s,r,tt,u,o,null)}return;default:if(Ad(r)){for(ct in o)o.hasOwnProperty(ct)&&(u=o[ct],u!==void 0&&hp(s,r,ct,u,o,void 0));return}}for(M in o)o.hasOwnProperty(M)&&(u=o[M],u!=null&&re(s,r,M,u,o,null))}function dT(s,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,b=null,M=null,F=null,tt=null,ct=null;for(rt in o){var pt=o[rt];if(o.hasOwnProperty(rt)&&pt!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":F=pt;default:u.hasOwnProperty(rt)||re(s,r,rt,null,u,pt)}}for(var nt in u){var rt=u[nt];if(pt=o[nt],u.hasOwnProperty(nt)&&(rt!=null||pt!=null))switch(nt){case"type":g=rt;break;case"name":p=rt;break;case"checked":tt=rt;break;case"defaultChecked":ct=rt;break;case"value":b=rt;break;case"defaultValue":M=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,r));break;default:rt!==pt&&re(s,r,nt,rt,u,pt)}}xd(s,b,M,F,tt,ct,g,p);return;case"select":rt=b=M=nt=null;for(g in o)if(F=o[g],o.hasOwnProperty(g)&&F!=null)switch(g){case"value":break;case"multiple":rt=F;default:u.hasOwnProperty(g)||re(s,r,g,null,u,F)}for(p in u)if(g=u[p],F=o[p],u.hasOwnProperty(p)&&(g!=null||F!=null))switch(p){case"value":nt=g;break;case"defaultValue":M=g;break;case"multiple":b=g;default:g!==F&&re(s,r,p,g,u,F)}r=M,o=b,u=rt,nt!=null?Ea(s,!!o,nt,!1):!!u!=!!o&&(r!=null?Ea(s,!!o,r,!0):Ea(s,!!o,o?[]:"",!1));return;case"textarea":rt=nt=null;for(M in o)if(p=o[M],o.hasOwnProperty(M)&&p!=null&&!u.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:re(s,r,M,null,u,p)}for(b in u)if(p=u[b],g=o[b],u.hasOwnProperty(b)&&(p!=null||g!=null))switch(b){case"value":nt=p;break;case"defaultValue":rt=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&re(s,r,b,p,u,g)}My(s,nt,rt);return;case"option":for(var wt in o)if(nt=o[wt],o.hasOwnProperty(wt)&&nt!=null&&!u.hasOwnProperty(wt))switch(wt){case"selected":s.selected=!1;break;default:re(s,r,wt,null,u,nt)}for(F in u)if(nt=u[F],rt=o[F],u.hasOwnProperty(F)&&nt!==rt&&(nt!=null||rt!=null))switch(F){case"selected":s.selected=nt&&typeof nt!="function"&&typeof nt!="symbol";break;default:re(s,r,F,nt,u,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in o)nt=o[Et],o.hasOwnProperty(Et)&&nt!=null&&!u.hasOwnProperty(Et)&&re(s,r,Et,null,u,nt);for(tt in u)if(nt=u[tt],rt=o[tt],u.hasOwnProperty(tt)&&nt!==rt&&(nt!=null||rt!=null))switch(tt){case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,r));break;default:re(s,r,tt,nt,u,rt)}return;default:if(Ad(r)){for(var ae in o)nt=o[ae],o.hasOwnProperty(ae)&&nt!==void 0&&!u.hasOwnProperty(ae)&&hp(s,r,ae,void 0,u,nt);for(ct in u)nt=u[ct],rt=o[ct],!u.hasOwnProperty(ct)||nt===rt||nt===void 0&&rt===void 0||hp(s,r,ct,nt,u,rt);return}}for(var X in o)nt=o[X],o.hasOwnProperty(X)&&nt!=null&&!u.hasOwnProperty(X)&&re(s,r,X,null,u,nt);for(pt in u)nt=u[pt],rt=o[pt],!u.hasOwnProperty(pt)||nt===rt||nt==null&&rt==null||re(s,r,pt,nt,u,rt)}function Dv(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fT(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var p=o[u],g=p.transferSize,b=p.initiatorType,M=p.duration;if(g&&M&&Dv(b)){for(b=0,M=p.responseEnd,u+=1;u<o.length;u++){var F=o[u],tt=F.startTime;if(tt>M)break;var ct=F.transferSize,pt=F.initiatorType;ct&&Dv(pt)&&(F=F.responseEnd,b+=ct*(F<M?1:(M-tt)/(F-tt)))}if(--u,r+=8*(g+b)/(p.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var dp=null,fp=null;function Ou(s){return s.nodeType===9?s:s.ownerDocument}function Ov(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function pp(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var mp=null;function pT(){var s=window.event;return s&&s.type==="popstate"?s===mp?!1:(mp=s,!0):(mp=null,!1)}var Iv=typeof setTimeout=="function"?setTimeout:void 0,mT=typeof clearTimeout=="function"?clearTimeout:void 0,zv=typeof Promise=="function"?Promise:void 0,gT=typeof queueMicrotask=="function"?queueMicrotask:typeof zv<"u"?function(s){return zv.resolve(null).then(s).catch(yT)}:Iv;function yT(s){setTimeout(function(){throw s})}function lr(s){return s==="head"}function Lv(s,r){var o=r,u=0;do{var p=o.nextSibling;if(s.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"||o==="/&"){if(u===0){s.removeChild(p),ro(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Bl(s.ownerDocument.documentElement);else if(o==="head"){o=s.ownerDocument.head,Bl(o);for(var g=o.firstChild;g;){var b=g.nextSibling,M=g.nodeName;g[Ko]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=b}}else o==="body"&&Bl(s.ownerDocument.body);o=p}while(o);ro(r)}function Pv(s,r){var o=s;s=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(s===0)break;s--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||s++;o=u}while(o)}function gp(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":gp(o),wd(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}s.removeChild(o)}}function _T(s,r,o,u){for(;s.nodeType===1;){var p=o;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Ko])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(g=s.getAttribute("rel"),g==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(g!==p.rel||s.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||s.getAttribute("title")!==(p.title==null?null:p.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(g=s.getAttribute("src"),(g!==(p.src==null?null:p.src)||s.getAttribute("type")!==(p.type==null?null:p.type)||s.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&s.getAttribute("name")===g)return s}else return s;if(s=gs(s.nextSibling),s===null)break}return null}function vT(s,r,o){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=gs(s.nextSibling),s===null))return null;return s}function jv(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=gs(s.nextSibling),s===null))return null;return s}function yp(s){return s.data==="$?"||s.data==="$~"}function _p(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function wT(s,r){var o=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function gs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var vp=null;function Uv(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="/$"||o==="/&"){if(r===0)return gs(s.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}s=s.nextSibling}return null}function Fv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var o=s.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return s;r--}else o!=="/$"&&o!=="/&"||r++}s=s.previousSibling}return null}function Vv(s,r,o){switch(r=Ou(o),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Bl(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);wd(s)}var ys=new Map,Hv=new Set;function Bu(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ci=E.d;E.d={f:bT,r:xT,D:ST,C:AT,L:TT,m:CT,X:MT,S:ET,M:kT};function bT(){var s=Ci.f(),r=Tu();return s||r}function xT(s){var r=Aa(s);r!==null&&r.tag===5&&r.type==="form"?a0(r):Ci.r(s)}var no=typeof document>"u"?null:document;function qv(s,r,o){var u=no;if(u&&typeof r=="string"&&r){var p=cs(r);p='link[rel="'+s+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Hv.has(p)||(Hv.add(p),s={rel:s,crossOrigin:o,href:r},u.querySelector(p)===null&&(r=u.createElement("link"),un(r,"link",s),Qe(r),u.head.appendChild(r)))}}function ST(s){Ci.D(s),qv("dns-prefetch",s,null)}function AT(s,r){Ci.C(s,r),qv("preconnect",s,r)}function TT(s,r,o){Ci.L(s,r,o);var u=no;if(u&&s&&r){var p='link[rel="preload"][as="'+cs(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+cs(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+cs(o.imageSizes)+'"]')):p+='[href="'+cs(s)+'"]';var g=p;switch(r){case"style":g=so(s);break;case"script":g=io(s)}ys.has(g)||(s=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:s,as:r},o),ys.set(g,s),u.querySelector(p)!==null||r==="style"&&u.querySelector(Il(g))||r==="script"&&u.querySelector(zl(g))||(r=u.createElement("link"),un(r,"link",s),Qe(r),u.head.appendChild(r)))}}function CT(s,r){Ci.m(s,r);var o=no;if(o&&s){var u=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+cs(u)+'"][href="'+cs(s)+'"]',g=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=io(s)}if(!ys.has(g)&&(s=y({rel:"modulepreload",href:s},r),ys.set(g,s),o.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(zl(g)))return}u=o.createElement("link"),un(u,"link",s),Qe(u),o.head.appendChild(u)}}}function ET(s,r,o){Ci.S(s,r,o);var u=no;if(u&&s){var p=Ta(u).hoistableStyles,g=so(s);r=r||"default";var b=p.get(g);if(!b){var M={loading:0,preload:null};if(b=u.querySelector(Il(g)))M.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":r},o),(o=ys.get(g))&&wp(s,o);var F=b=u.createElement("link");Qe(F),un(F,"link",s),F._p=new Promise(function(tt,ct){F.onload=tt,F.onerror=ct}),F.addEventListener("load",function(){M.loading|=1}),F.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Iu(b,r,u)}b={type:"stylesheet",instance:b,count:1,state:M},p.set(g,b)}}}function MT(s,r){Ci.X(s,r);var o=no;if(o&&s){var u=Ta(o).hoistableScripts,p=io(s),g=u.get(p);g||(g=o.querySelector(zl(p)),g||(s=y({src:s,async:!0},r),(r=ys.get(p))&&bp(s,r),g=o.createElement("script"),Qe(g),un(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function kT(s,r){Ci.M(s,r);var o=no;if(o&&s){var u=Ta(o).hoistableScripts,p=io(s),g=u.get(p);g||(g=o.querySelector(zl(p)),g||(s=y({src:s,async:!0,type:"module"},r),(r=ys.get(p))&&bp(s,r),g=o.createElement("script"),Qe(g),un(g,"link",s),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(p,g))}}function Gv(s,r,o,u){var p=(p=mt.current)?Bu(p):null;if(!p)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=so(o.href),o=Ta(p).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){s=so(o.href);var g=Ta(p).hoistableStyles,b=g.get(s);if(b||(p=p.ownerDocument||p,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(s,b),(g=p.querySelector(Il(s)))&&!g._p&&(b.instance=g,b.state.loading=5),ys.has(s)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ys.set(s,o),g||NT(p,s,o,b.state))),r&&u===null)throw Error(i(528,""));return b}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(o),o=Ta(p).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function so(s){return'href="'+cs(s)+'"'}function Il(s){return'link[rel="stylesheet"]['+s+"]"}function Yv(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function NT(s,r,o,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),un(r,"link",o),Qe(r),s.head.appendChild(r))}function io(s){return'[src="'+cs(s)+'"]'}function zl(s){return"script[async]"+s}function Wv(s,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+cs(o.href)+'"]');if(u)return r.instance=u,Qe(u),u;var p=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Qe(u),un(u,"style",p),Iu(u,o.precedence,s),r.instance=u;case"stylesheet":p=so(o.href);var g=s.querySelector(Il(p));if(g)return r.state.loading|=4,r.instance=g,Qe(g),g;u=Yv(o),(p=ys.get(p))&&wp(u,p),g=(s.ownerDocument||s).createElement("link"),Qe(g);var b=g;return b._p=new Promise(function(M,F){b.onload=M,b.onerror=F}),un(g,"link",u),r.state.loading|=4,Iu(g,o.precedence,s),r.instance=g;case"script":return g=io(o.src),(p=s.querySelector(zl(g)))?(r.instance=p,Qe(p),p):(u=o,(p=ys.get(g))&&(u=y({},o),bp(u,p)),s=s.ownerDocument||s,p=s.createElement("script"),Qe(p),un(p,"link",u),s.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Iu(u,o.precedence,s));return r.instance}function Iu(s,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,g=p,b=0;b<u.length;b++){var M=u[b];if(M.dataset.precedence===r)g=M;else if(g!==p)break}g?g.parentNode.insertBefore(s,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(s,r.firstChild))}function wp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function bp(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var zu=null;function Xv(s,r,o){if(zu===null){var u=new Map,p=zu=new Map;p.set(o,u)}else p=zu,u=p.get(o),u||(u=new Map,p.set(o,u));if(u.has(s))return u;for(u.set(s,null),o=o.getElementsByTagName(s),p=0;p<o.length;p++){var g=o[p];if(!(g[Ko]||g[an]||s==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(r)||"";b=s+b;var M=u.get(b);M?M.push(g):u.set(b,[g])}}return u}function $v(s,r,o){s=s.ownerDocument||s,s.head.insertBefore(o,r==="title"?s.querySelector("head > title"):null)}function RT(s,r,o){if(o===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function DT(s,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var p=so(u.href),g=r.querySelector(Il(p));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Lu.bind(s),r.then(s,s)),o.state.loading|=4,o.instance=g,Qe(g);return}g=r.ownerDocument||r,u=Yv(u),(p=ys.get(p))&&wp(u,p),g=g.createElement("link"),Qe(g);var b=g;b._p=new Promise(function(M,F){b.onload=M,b.onerror=F}),un(g,"link",u),o.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(s.count++,o=Lu.bind(s),r.addEventListener("load",o),r.addEventListener("error",o))}}var xp=0;function OT(s,r){return s.stylesheets&&s.count===0&&ju(s,s.stylesheets),0<s.count||0<s.imgCount?function(o){var u=setTimeout(function(){if(s.stylesheets&&ju(s,s.stylesheets),s.unsuspend){var g=s.unsuspend;s.unsuspend=null,g()}},6e4+r);0<s.imgBytes&&xp===0&&(xp=62500*fT());var p=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ju(s,s.stylesheets),s.unsuspend)){var g=s.unsuspend;s.unsuspend=null,g()}},(s.imgBytes>xp?50:800)+r);return s.unsuspend=o,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Lu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ju(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Pu=null;function ju(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Pu=new Map,r.forEach(BT,s),Pu=null,Lu.call(s))}function BT(s,r){if(!(r.state.loading&4)){var o=Pu.get(s);if(o)var u=o.get(null);else{o=new Map,Pu.set(s,o);for(var p=s.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var b=p[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}p=r.instance,b=p.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,p),o.set(b,p),this.count++,u=Lu.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),g?g.parentNode.insertBefore(p,g.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(p,s.firstChild)),r.state.loading|=4}}var Ll={$$typeof:R,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function IT(s,r,o,u,p,g,b,M,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.hiddenUpdates=gd(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function Qv(s,r,o,u,p,g,b,M,F,tt,ct,pt){return s=new IT(s,r,o,b,F,tt,ct,pt,M),r=1,g===!0&&(r|=24),g=Xn(3,null,null,r),s.current=g,g.stateNode=s,r=tf(),r.refCount++,s.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},rf(g),s}function Kv(s){return s?(s=Ia,s):Ia}function Jv(s,r,o,u,p,g){p=Kv(p),u.context===null?u.context=p:u.pendingContext=p,u=Qi(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Ki(s,u,r),o!==null&&(In(o,s,r),ml(o,s,r))}function tw(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var o=s.retryLane;s.retryLane=o!==0&&o<r?o:r}}function Sp(s,r){tw(s,r),(s=s.alternate)&&tw(s,r)}function ew(s){if(s.tag===13||s.tag===31){var r=Ir(s,67108864);r!==null&&In(r,s,67108864),Sp(s,67108864)}}function nw(s){if(s.tag===13||s.tag===31){var r=Jn();r=yd(r);var o=Ir(s,r);o!==null&&In(o,s,r),Sp(s,r)}}var Uu=!0;function zT(s,r,o,u){var p=A.T;A.T=null;var g=E.p;try{E.p=2,Ap(s,r,o,u)}finally{E.p=g,A.T=p}}function LT(s,r,o,u){var p=A.T;A.T=null;var g=E.p;try{E.p=8,Ap(s,r,o,u)}finally{E.p=g,A.T=p}}function Ap(s,r,o,u){if(Uu){var p=Tp(u);if(p===null)up(s,r,u,Fu,o),iw(s,u);else if(jT(p,s,r,o,u))u.stopPropagation();else if(iw(s,u),r&4&&-1<PT.indexOf(s)){for(;p!==null;){var g=Aa(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=Ae(g.pendingLanes);if(b!==0){var M=g;for(M.pendingLanes|=2,M.entangledLanes|=2;b;){var F=1<<31-_t(b);M.entanglements[1]|=F,b&=~F}qs(g),(Kt&6)===0&&(Su=Be()+500,Rl(0))}}break;case 31:case 13:M=Ir(g,2),M!==null&&In(M,g,2),Tu(),Sp(g,2)}if(g=Tp(u),g===null&&up(s,r,u,Fu,o),g===p)break;p=g}p!==null&&u.stopPropagation()}else up(s,r,u,null,o)}}function Tp(s){return s=Cd(s),Cp(s)}var Fu=null;function Cp(s){if(Fu=null,s=Sa(s),s!==null){var r=l(s);if(r===null)s=null;else{var o=r.tag;if(o===13){if(s=c(r),s!==null)return s;s=null}else if(o===31){if(s=h(r),s!==null)return s;s=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Fu=s,null}function sw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case oi:return 2;case va:return 8;case li:case wa:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var Ep=!1,cr=null,ur=null,hr=null,Pl=new Map,jl=new Map,dr=[],PT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iw(s,r){switch(s){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":ur=null;break;case"mouseover":case"mouseout":hr=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(r.pointerId)}}function Ul(s,r,o,u,p,g){return s===null||s.nativeEvent!==g?(s={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[p]},r!==null&&(r=Aa(r),r!==null&&ew(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),s)}function jT(s,r,o,u,p){switch(r){case"focusin":return cr=Ul(cr,s,r,o,u,p),!0;case"dragenter":return ur=Ul(ur,s,r,o,u,p),!0;case"mouseover":return hr=Ul(hr,s,r,o,u,p),!0;case"pointerover":var g=p.pointerId;return Pl.set(g,Ul(Pl.get(g)||null,s,r,o,u,p)),!0;case"gotpointercapture":return g=p.pointerId,jl.set(g,Ul(jl.get(g)||null,s,r,o,u,p)),!0}return!1}function rw(s){var r=Sa(s.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){s.blockedOn=r,vy(s.priority,function(){nw(o)});return}}else if(r===31){if(r=h(o),r!==null){s.blockedOn=r,vy(s.priority,function(){nw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){s.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vu(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var o=Tp(s.nativeEvent);if(o===null){o=s.nativeEvent;var u=new o.constructor(o.type,o);Td=u,o.target.dispatchEvent(u),Td=null}else return r=Aa(o),r!==null&&ew(r),s.blockedOn=o,!1;r.shift()}return!0}function aw(s,r,o){Vu(s)&&o.delete(r)}function UT(){Ep=!1,cr!==null&&Vu(cr)&&(cr=null),ur!==null&&Vu(ur)&&(ur=null),hr!==null&&Vu(hr)&&(hr=null),Pl.forEach(aw),jl.forEach(aw)}function Hu(s,r){s.blockedOn===r&&(s.blockedOn=null,Ep||(Ep=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,UT)))}var qu=null;function ow(s){qu!==s&&(qu=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qu===s&&(qu=null);for(var r=0;r<s.length;r+=3){var o=s[r],u=s[r+1],p=s[r+2];if(typeof u!="function"){if(Cp(u||o)===null)continue;break}var g=Aa(o);g!==null&&(s.splice(r,3),r-=3,Tf(g,{pending:!0,data:p,method:o.method,action:u},u,p))}}))}function ro(s){function r(F){return Hu(F,s)}cr!==null&&Hu(cr,s),ur!==null&&Hu(ur,s),hr!==null&&Hu(hr,s),Pl.forEach(r),jl.forEach(r);for(var o=0;o<dr.length;o++){var u=dr[o];u.blockedOn===s&&(u.blockedOn=null)}for(;0<dr.length&&(o=dr[0],o.blockedOn===null);)rw(o),o.blockedOn===null&&dr.shift();if(o=(s.ownerDocument||s).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var p=o[u],g=o[u+1],b=p[kn]||null;if(typeof g=="function")b||ow(o);else if(b){var M=null;if(g&&g.hasAttribute("formAction")){if(p=g,b=g[kn]||null)M=b.formAction;else if(Cp(p)!==null)continue}else M=b.action;typeof M=="function"?o[u+1]=M:(o.splice(u,3),u-=3),ow(o)}}}function lw(){function s(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(b){return p=b})},focusReset:"manual",scroll:"manual"})}function r(){p!==null&&(p(),p=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),p!==null&&(p(),p=null)}}}function Mp(s){this._internalRoot=s}Gu.prototype.render=Mp.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var o=r.current,u=Jn();Jv(o,u,s,r,null,null)},Gu.prototype.unmount=Mp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Jv(s.current,2,null,s,null,null),Tu(),r[xa]=null}};function Gu(s){this._internalRoot=s}Gu.prototype.unstable_scheduleHydration=function(s){if(s){var r=_y();s={blockedOn:null,target:s,priority:r};for(var o=0;o<dr.length&&r!==0&&r<dr[o].priority;o++);dr.splice(o,0,s),o===0&&rw(s)}};var cw=t.version;if(cw!=="19.2.0")throw Error(i(527,cw,"19.2.0"));E.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(r),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var FT={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yu.isDisabled&&Yu.supportsFiber)try{G=Yu.inject(FT),ht=Yu}catch{}}return Vl.createRoot=function(s,r){if(!a(s))throw Error(i(299));var o=!1,u="",p=g0,g=y0,b=_0;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=Qv(s,1,!1,null,null,o,u,null,p,g,b,lw),s[xa]=r.current,cp(s),new Mp(r)},Vl.hydrateRoot=function(s,r,o){if(!a(s))throw Error(i(299));var u=!1,p="",g=g0,b=y0,M=_0,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError),o.formState!==void 0&&(F=o.formState)),r=Qv(s,1,!0,r,o??null,u,p,F,g,b,M,lw),r.context=Kv(null),o=r.current,u=Jn(),u=yd(u),p=Qi(u),p.callback=null,Ki(o,p,u),o=u,r.current.lanes=o,Qo(r,o),qs(r),s[xa]=r.current,cp(s),new Gu(r)},Vl.version="19.2.0",Vl}var vw;function QT(){if(vw)return Np.exports;vw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Np.exports=ZT(),Np.exports}var KT=QT();const JT=ha(KT);var it=$m();const tC=ha(it);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ww="popstate";function eC(n={}){function t(i,a){let{pathname:l,search:c,hash:h}=i.location;return pm("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){return typeof a=="string"?a:nc(a)}return sC(t,e,null,n)}function Ee(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function $s(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nC(){return Math.random().toString(36).substring(2,10)}function bw(n,t){return{usr:n.state,key:n.key,idx:t}}function pm(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Io(t):t,state:e,key:t&&t.key||i||nC()}}function nc({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Io(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function sC(n,t,e,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h="POP",d=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let x=m(),T=x==null?null:x-f;f=x,d&&d({action:h,location:S.location,delta:T})}function _(x,T){h="PUSH";let k=pm(S.location,x,T);f=m()+1;let R=bw(k,f),U=S.createHref(k);try{c.pushState(R,"",U)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;a.location.assign(U)}l&&d&&d({action:h,location:S.location,delta:1})}function v(x,T){h="REPLACE";let k=pm(S.location,x,T);f=m();let R=bw(k,f),U=S.createHref(k);c.replaceState(R,"",U),l&&d&&d({action:h,location:S.location,delta:0})}function w(x){return iC(x)}let S={get action(){return h},get location(){return n(a,c)},listen(x){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ww,y),d=x,()=>{a.removeEventListener(ww,y),d=null}},createHref(x){return t(a,x)},createURL:w,encodeLocation(x){let T=w(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:_,replace:v,go(x){return c.go(x)}};return S}function iC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ee(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:nc(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function c1(n,t,e="/"){return rC(n,t,e,!1)}function rC(n,t,e,i){let a=typeof t=="string"?Io(t):t,l=Li(a.pathname||"/",e);if(l==null)return null;let c=u1(n);aC(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let f=yC(l);h=mC(c[d],f,i)}return h}function u1(n,t=[],e=[],i="",a=!1){let l=(c,h,d=a,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(i)&&d)return;Ee(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length)}let y=Oi([i,m.relativePath]),_=e.concat(m);c.children&&c.children.length>0&&(Ee(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),u1(c.children,t,_,y,d)),!(c.path==null&&!c.index)&&t.push({path:y,score:fC(y,c.index),routesMeta:_})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))l(c,h);else for(let d of h1(c.path))l(c,h,!0,d)}),t}function h1(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),l=e.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=h1(i.join("/")),h=[];return h.push(...c.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function aC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:pC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var oC=/^:[\w-]+$/,lC=3,cC=2,uC=1,hC=10,dC=-2,xw=n=>n==="*";function fC(n,t){let e=n.split("/"),i=e.length;return e.some(xw)&&(i+=dC),t&&(i+=cC),e.filter(a=>!xw(a)).reduce((a,l)=>a+(oC.test(l)?lC:l===""?uC:hC),i)}function pC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,a)=>i===t[a])?n[n.length-1]-t[t.length-1]:0}function mC(n,t,e=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let h=0;h<i.length;++h){let d=i[h],f=h===i.length-1,m=l==="/"?t:t.slice(l.length)||"/",y=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),_=d.route;if(!y&&f&&e&&!i[i.length-1].route.index&&(y=_h({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Oi([l,y.pathname]),pathnameBase:bC(Oi([l,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(l=Oi([l,y.pathnameBase]))}return c}function _h(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=gC(n.path,n.caseSensitive,n.end),a=t.match(e);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((f,{paramName:m,isOptional:y},_)=>{if(m==="*"){let w=h[_]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const v=h[_];return y&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:n}}function gC(n,t=!1,e=!0){$s(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function yC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $s(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function Li(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function _C(n,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof n=="string"?Io(n):n;return{pathname:e?e.startsWith("/")?e:vC(e,t):t,search:xC(i),hash:SC(a)}}function vC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function Ip(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function wC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function d1(n){let t=wC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function f1(n,t,e,i=!1){let a;typeof n=="string"?a=Io(n):(a={...n},Ee(!a.pathname||!a.pathname.includes("?"),Ip("?","pathname","search",a)),Ee(!a.pathname||!a.pathname.includes("#"),Ip("#","pathname","hash",a)),Ee(!a.search||!a.search.includes("#"),Ip("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=e;else{let y=t.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}h=y>=0?t[y]:"/"}let d=_C(a,h),f=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),bC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),xC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,SC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function AC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p1=["POST","PUT","PATCH","DELETE"];new Set(p1);var TC=["GET",...p1];new Set(TC);var zo=it.createContext(null);zo.displayName="DataRouter";var qh=it.createContext(null);qh.displayName="DataRouterState";it.createContext(!1);var m1=it.createContext({isTransitioning:!1});m1.displayName="ViewTransition";var CC=it.createContext(new Map);CC.displayName="Fetchers";var EC=it.createContext(null);EC.displayName="Await";var ni=it.createContext(null);ni.displayName="Navigation";var cc=it.createContext(null);cc.displayName="Location";var ji=it.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var Zm=it.createContext(null);Zm.displayName="RouteError";function MC(n,{relative:t}={}){Ee(uc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=it.useContext(ni),{hash:a,pathname:l,search:c}=hc(n,{relative:t}),h=l;return e!=="/"&&(h=l==="/"?e:Oi([e,l])),i.createHref({pathname:h,search:c,hash:a})}function uc(){return it.useContext(cc)!=null}function da(){return Ee(uc(),"useLocation() may be used only in the context of a <Router> component."),it.useContext(cc).location}var g1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function y1(n){it.useContext(ni).static||it.useLayoutEffect(n)}function _1(){let{isDataRoute:n}=it.useContext(ji);return n?FC():kC()}function kC(){Ee(uc(),"useNavigate() may be used only in the context of a <Router> component.");let n=it.useContext(zo),{basename:t,navigator:e}=it.useContext(ni),{matches:i}=it.useContext(ji),{pathname:a}=da(),l=JSON.stringify(d1(i)),c=it.useRef(!1);return y1(()=>{c.current=!0}),it.useCallback((d,f={})=>{if($s(c.current,g1),!c.current)return;if(typeof d=="number"){e.go(d);return}let m=f1(d,JSON.parse(l),a,f.relative==="path");n==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Oi([t,m.pathname])),(f.replace?e.replace:e.push)(m,f.state,f)},[t,e,l,a,n])}it.createContext(null);function hc(n,{relative:t}={}){let{matches:e}=it.useContext(ji),{pathname:i}=da(),a=JSON.stringify(d1(e));return it.useMemo(()=>f1(n,JSON.parse(a),i,t==="path"),[n,a,i,t])}function NC(n,t){return v1(n,t)}function v1(n,t,e,i,a){Ee(uc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=it.useContext(ni),{matches:c}=it.useContext(ji),h=c[c.length-1],d=h?h.params:{},f=h?h.pathname:"/",m=h?h.pathnameBase:"/",y=h&&h.route;{let k=y&&y.path||"";w1(f,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let _=da(),v;if(t){let k=typeof t=="string"?Io(t):t;Ee(m==="/"||k.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=_;let w=v.pathname||"/",S=w;if(m!=="/"){let k=m.replace(/^\//,"").split("/");S="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=c1(n,{pathname:S});$s(y||x!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),$s(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=IC(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},d,k.params),pathname:Oi([m,l.encodeLocation?l.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:Oi([m,l.encodeLocation?l.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),c,e,i,a);return t&&T?it.createElement(cc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function RC(){let n=UC(),t=AC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=it.createElement(it.Fragment,null,it.createElement("p",null," Hey developer "),it.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",it.createElement("code",{style:l},"ErrorBoundary")," or"," ",it.createElement("code",{style:l},"errorElement")," prop on your route.")),it.createElement(it.Fragment,null,it.createElement("h2",null,"Unexpected Application Error!"),it.createElement("h3",{style:{fontStyle:"italic"}},t),e?it.createElement("pre",{style:a},e):null,c)}var DC=it.createElement(RC,null),OC=class extends it.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.unstable_onError?this.props.unstable_onError(n,t):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?it.createElement(ji.Provider,{value:this.props.routeContext},it.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BC({routeContext:n,match:t,children:e}){let i=it.useContext(zo);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),it.createElement(ji.Provider,{value:n},e)}function IC(n,t=[],e=null,i=null,a=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let l=n,c=e?.errors;if(c!=null){let f=l.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);Ee(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let h=!1,d=-1;if(e)for(let f=0;f<l.length;f++){let m=l[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:_}=e,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!_||_[m.route.id]===void 0);if(m.route.lazy||v){h=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((f,m,y)=>{let _,v=!1,w=null,S=null;e&&(_=c&&m.route.id?c[m.route.id]:void 0,w=m.route.errorElement||DC,h&&(d<0&&y===0?(w1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,S=null):d===y&&(v=!0,S=m.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,y+1)),T=()=>{let k;return _?k=w:v?k=S:m.route.Component?k=it.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,it.createElement(BC,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:e!=null},children:k})};return e&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?it.createElement(OC,{location:e.location,revalidation:e.revalidation,component:w,error:_,children:T(),routeContext:{outlet:null,matches:x,isDataRoute:!0},unstable_onError:i}):T()},null)}function Qm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zC(n){let t=it.useContext(zo);return Ee(t,Qm(n)),t}function LC(n){let t=it.useContext(qh);return Ee(t,Qm(n)),t}function PC(n){let t=it.useContext(ji);return Ee(t,Qm(n)),t}function Km(n){let t=PC(n),e=t.matches[t.matches.length-1];return Ee(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function jC(){return Km("useRouteId")}function UC(){let n=it.useContext(Zm),t=LC("useRouteError"),e=Km("useRouteError");return n!==void 0?n:t.errors?.[e]}function FC(){let{router:n}=zC("useNavigate"),t=Km("useNavigate"),e=it.useRef(!1);return y1(()=>{e.current=!0}),it.useCallback(async(a,l={})=>{$s(e.current,g1),e.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:t,...l}))},[n,t])}var Sw={};function w1(n,t,e){!t&&!Sw[n]&&(Sw[n]=!0,$s(!1,e))}it.memo(VC);function VC({routes:n,future:t,state:e,unstable_onError:i}){return v1(n,void 0,e,i,t)}function _s(n){Ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HC({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:l=!1}){Ee(!uc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=it.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof e=="string"&&(e=Io(e));let{pathname:d="/",search:f="",hash:m="",state:y=null,key:_="default"}=e,v=it.useMemo(()=>{let w=Li(d,c);return w==null?null:{location:{pathname:w,search:f,hash:m,state:y,key:_},navigationType:i}},[c,d,f,m,y,_,i]);return $s(v!=null,`<Router basename="${c}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:it.createElement(ni.Provider,{value:h},it.createElement(cc.Provider,{children:t,value:v}))}function qC({children:n,location:t}){return NC(mm(n),t)}function mm(n,t=[]){let e=[];return it.Children.forEach(n,(i,a)=>{if(!it.isValidElement(i))return;let l=[...t,a];if(i.type===it.Fragment){e.push.apply(e,mm(i.props.children,l));return}Ee(i.type===_s,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ee(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=mm(i.props.children,l)),e.push(c)}),e}var dh="get",fh="application/x-www-form-urlencoded";function Gh(n){return n!=null&&typeof n.tagName=="string"}function GC(n){return Gh(n)&&n.tagName.toLowerCase()==="button"}function YC(n){return Gh(n)&&n.tagName.toLowerCase()==="form"}function WC(n){return Gh(n)&&n.tagName.toLowerCase()==="input"}function XC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function $C(n,t){return n.button===0&&(!t||t==="_self")&&!XC(n)}var Wu=null;function ZC(){if(Wu===null)try{new FormData(document.createElement("form"),0),Wu=!1}catch{Wu=!0}return Wu}var QC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(n){return n!=null&&!QC.has(n)?($s(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):n}function KC(n,t){let e,i,a,l,c;if(YC(n)){let h=n.getAttribute("action");i=h?Li(h,t):null,e=n.getAttribute("method")||dh,a=zp(n.getAttribute("enctype"))||fh,l=new FormData(n)}else if(GC(n)||WC(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?Li(d,t):null,e=n.getAttribute("formmethod")||h.getAttribute("method")||dh,a=zp(n.getAttribute("formenctype"))||zp(h.getAttribute("enctype"))||fh,l=new FormData(h,n),!ZC()){let{name:f,type:m,value:y}=n;if(m==="image"){let _=f?`${f}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else f&&l.append(f,y)}}else{if(Gh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=dh,i=null,a=fh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Jm(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function JC(n,t,e){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${e}`:t&&Li(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${e}`,i}async function tE(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eE(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function nE(n,t,e){let i=await Promise.all(n.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await tE(l,e);return c.links?c.links():[]}return[]}));return aE(i.flat(1).filter(eE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Aw(n,t,e,i,a,l){let c=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,h=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return l==="assets"?t.filter((d,f)=>c(d,f)||h(d,f)):l==="data"?t.filter((d,f)=>{let m=i.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(c(d,f)||h(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function sE(n,t,{includeHydrateFallback:e}={}){return iE(n.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function iE(n){return[...new Set(n)]}function rE(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function aE(n,t){let e=new Set;return new Set(t),n.reduce((i,a)=>{let l=JSON.stringify(rE(a));return e.has(l)||(e.add(l),i.push({key:l,link:a})),i},[])}function b1(){let n=it.useContext(zo);return Jm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function oE(){let n=it.useContext(qh);return Jm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tg=it.createContext(void 0);tg.displayName="FrameworkContext";function x1(){let n=it.useContext(tg);return Jm(n,"You must render this element inside a <HydratedRouter> element"),n}function lE(n,t){let e=it.useContext(tg),[i,a]=it.useState(!1),[l,c]=it.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:f,onMouseLeave:m,onTouchStart:y}=t,_=it.useRef(null);it.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let S=T=>{T.forEach(k=>{c(k.isIntersecting)})},x=new IntersectionObserver(S,{threshold:.5});return _.current&&x.observe(_.current),()=>{x.disconnect()}}},[n]),it.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let v=()=>{a(!0)},w=()=>{a(!1),c(!1)};return e?n!=="intent"?[l,_,{}]:[l,_,{onFocus:Hl(h,v),onBlur:Hl(d,w),onMouseEnter:Hl(f,v),onMouseLeave:Hl(m,w),onTouchStart:Hl(y,v)}]:[!1,_,{}]}function Hl(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function cE({page:n,...t}){let{router:e}=b1(),i=it.useMemo(()=>c1(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?it.createElement(hE,{page:n,matches:i,...t}):null}function uE(n){let{manifest:t,routeModules:e}=x1(),[i,a]=it.useState([]);return it.useEffect(()=>{let l=!1;return nE(n,t,e).then(c=>{l||a(c)}),()=>{l=!0}},[n,t,e]),i}function hE({page:n,matches:t,...e}){let i=da(),{manifest:a,routeModules:l}=x1(),{basename:c}=b1(),{loaderData:h,matches:d}=oE(),f=it.useMemo(()=>Aw(n,t,d,a,i,"data"),[n,t,d,a,i]),m=it.useMemo(()=>Aw(n,t,d,a,i,"assets"),[n,t,d,a,i]),y=it.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,S=!1;if(t.forEach(T=>{let k=a.routes[T.route.id];!k||!k.hasLoader||(!f.some(R=>R.route.id===T.route.id)&&T.route.id in h&&l[T.route.id]?.shouldRevalidate||k.hasClientLoader?S=!0:w.add(T.route.id))}),w.size===0)return[];let x=JC(n,c,"data");return S&&w.size>0&&x.searchParams.set("_routes",t.filter(T=>w.has(T.route.id)).map(T=>T.route.id).join(",")),[x.pathname+x.search]},[c,h,i,a,f,t,n,l]),_=it.useMemo(()=>sE(m,a),[m,a]),v=uE(m);return it.createElement(it.Fragment,null,y.map(w=>it.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),_.map(w=>it.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),v.map(({key:w,link:S})=>it.createElement("link",{key:w,nonce:e.nonce,...S})))}function dE(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var S1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{S1&&(window.__reactRouterVersion="7.9.5")}catch{}function fE({basename:n,children:t,window:e}){let i=it.useRef();i.current==null&&(i.current=eC({window:e,v5Compat:!0}));let a=i.current,[l,c]=it.useState({action:a.action,location:a.location}),h=it.useCallback(d=>{it.startTransition(()=>c(d))},[c]);return it.useLayoutEffect(()=>a.listen(h),[a,h]),it.createElement(HC,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:a})}var A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sc=it.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:h,target:d,to:f,preventScrollReset:m,viewTransition:y,..._},v){let{basename:w}=it.useContext(ni),S=typeof f=="string"&&A1.test(f),x,T=!1;if(typeof f=="string"&&S&&(x=f,S1))try{let V=new URL(window.location.href),H=f.startsWith("//")?new URL(V.protocol+f):new URL(f),K=Li(H.pathname,w);H.origin===V.origin&&K!=null?f=K+H.search+H.hash:T=!0}catch{$s(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=MC(f,{relative:a}),[R,U,O]=lE(i,_),j=gE(f,{replace:c,state:h,target:d,preventScrollReset:m,relative:a,viewTransition:y});function z(V){t&&t(V),V.defaultPrevented||j(V)}let L=it.createElement("a",{..._,...O,href:x||k,onClick:T||l?t:z,ref:dE(v,U),target:d,"data-discover":!S&&e==="render"?"true":void 0});return R&&!S?it.createElement(it.Fragment,null,L,it.createElement(cE,{page:k})):L});sc.displayName="Link";var mr=it.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:h,children:d,...f},m){let y=hc(c,{relative:f.relative}),_=da(),v=it.useContext(qh),{navigator:w,basename:S}=it.useContext(ni),x=v!=null&&bE(y)&&h===!0,T=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,k=_.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;e||(k=k.toLowerCase(),R=R?R.toLowerCase():null,T=T.toLowerCase()),R&&S&&(R=Li(R,S)||R);const U=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=k===T||!a&&k.startsWith(T)&&k.charAt(U)==="/",j=R!=null&&(R===T||!a&&R.startsWith(T)&&R.charAt(T.length)==="/"),z={isActive:O,isPending:j,isTransitioning:x},L=O?t:void 0,V;typeof i=="function"?V=i(z):V=[i,O?"active":null,j?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(z):l;return it.createElement(sc,{...f,"aria-current":L,className:V,ref:m,style:H,to:c,viewTransition:h},typeof d=="function"?d(z):d)});mr.displayName="NavLink";var pE=it.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:l,method:c=dh,action:h,onSubmit:d,relative:f,preventScrollReset:m,viewTransition:y,..._},v)=>{let w=vE(),S=wE(h,{relative:f}),x=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&A1.test(h),k=R=>{if(d&&d(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,O=U?.getAttribute("formmethod")||c;w(U||R.currentTarget,{fetcherKey:t,method:O,navigate:e,replace:a,state:l,relative:f,preventScrollReset:m,viewTransition:y})};return it.createElement("form",{ref:v,method:x,action:S,onSubmit:i?d:k,..._,"data-discover":!T&&n==="render"?"true":void 0})});pE.displayName="Form";function mE(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(n){let t=it.useContext(zo);return Ee(t,mE(n)),t}function gE(n,{target:t,replace:e,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let h=_1(),d=da(),f=hc(n,{relative:l});return it.useCallback(m=>{if($C(m,t)){m.preventDefault();let y=e!==void 0?e:nc(d)===nc(f);h(n,{replace:y,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[d,h,f,e,i,t,n,a,l,c])}var yE=0,_E=()=>`__${String(++yE)}__`;function vE(){let{router:n}=T1("useSubmit"),{basename:t}=it.useContext(ni),e=jC();return it.useCallback(async(i,a={})=>{let{action:l,method:c,encType:h,formData:d,body:f}=KC(i,t);if(a.navigate===!1){let m=a.fetcherKey||_E();await n.fetch(m,e,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:f,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,t,e])}function wE(n,{relative:t}={}){let{basename:e}=it.useContext(ni),i=it.useContext(ji);Ee(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...hc(n||".",{relative:t})},c=da();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(m=>m==="")){h.delete("index"),d.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();l.search=m?`?${m}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(l.pathname=l.pathname==="/"?e:Oi([e,l.pathname])),nc(l)}function bE(n,{relative:t}={}){let e=it.useContext(m1);Ee(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=T1("useViewTransitionState"),a=hc(n,{relative:t});if(!e.isTransitioning)return!1;let l=Li(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Li(e.nextLocation.pathname,i)||e.nextLocation.pathname;return _h(a.pathname,c)!=null||_h(a.pathname,l)!=null}const Lo="https://mickeyf-org-j7yuum4tiq-uc.a.run.app";async function xE(n){const t=await fetch(`${Lo}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({type:"login",user_name:n.user_name,user_password:n.user_password})});if(!t.ok)throw new Error(`HTTP error ${t.status}`);return t.json()}async function SE(){const n=await fetch(`${Lo}/auth/verify-token`,{method:"GET",credentials:"include"});if(!n.ok)throw new Error(`HTTP error ${n.status}`);return n.json()}/*!
* sweetalert2 v11.14.3
* Released under the MIT License.
*/function C1(n,t,e){if(typeof n=="function"?n===t:n.has(t))return arguments.length<3?t:e;throw new TypeError("Private element is not present on this object")}function AE(n,t){if(t.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tw(n,t){return n.get(C1(n,t))}function TE(n,t,e){AE(n,t),t.set(n,e)}function CE(n,t,e){return n.set(C1(n,t),e),e}const EE=100,Mt={},ME=()=>{Mt.previousActiveElement instanceof HTMLElement?(Mt.previousActiveElement.focus(),Mt.previousActiveElement=null):document.body&&document.body.focus()},kE=n=>new Promise(t=>{if(!n)return t();const e=window.scrollX,i=window.scrollY;Mt.restoreFocusTimeout=setTimeout(()=>{ME(),t()},EE),window.scrollTo(e,i)}),E1="swal2-",NE=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],at=NE.reduce((n,t)=>(n[t]=E1+t,n),{}),RE=["success","warning","info","question","error"],vh=RE.reduce((n,t)=>(n[t]=E1+t,n),{}),M1="SweetAlert2:",eg=n=>n.charAt(0).toUpperCase()+n.slice(1),qn=n=>{console.warn(`${M1} ${typeof n=="object"?n.join(" "):n}`)},fa=n=>{console.error(`${M1} ${n}`)},Cw=[],DE=n=>{Cw.includes(n)||(Cw.push(n),qn(n))},k1=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;DE(`"${n}" is deprecated and will be removed in the next major release.${t?` Use "${t}" instead.`:""}`)},Yh=n=>typeof n=="function"?n():n,ng=n=>n&&typeof n.toPromise=="function",dc=n=>ng(n)?n.toPromise():Promise.resolve(n),sg=n=>n&&Promise.resolve(n)===n,Gn=()=>document.body.querySelector(`.${at.container}`),fc=n=>{const t=Gn();return t?t.querySelector(n):null},rs=n=>fc(`.${n}`),se=()=>rs(at.popup),pc=()=>rs(at.icon),OE=()=>rs(at["icon-content"]),N1=()=>rs(at.title),ig=()=>rs(at["html-container"]),R1=()=>rs(at.image),rg=()=>rs(at["progress-steps"]),Wh=()=>rs(at["validation-message"]),Zs=()=>fc(`.${at.actions} .${at.confirm}`),Po=()=>fc(`.${at.actions} .${at.cancel}`),pa=()=>fc(`.${at.actions} .${at.deny}`),BE=()=>rs(at["input-label"]),jo=()=>fc(`.${at.loader}`),mc=()=>rs(at.actions),D1=()=>rs(at.footer),Xh=()=>rs(at["timer-progress-bar"]),ag=()=>rs(at.close),IE=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,og=()=>{const n=se();if(!n)return[];const t=n.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),e=Array.from(t).sort((l,c)=>{const h=parseInt(l.getAttribute("tabindex")||"0"),d=parseInt(c.getAttribute("tabindex")||"0");return h>d?1:h<d?-1:0}),i=n.querySelectorAll(IE),a=Array.from(i).filter(l=>l.getAttribute("tabindex")!=="-1");return[...new Set(e.concat(a))].filter(l=>Fn(l))},lg=()=>Bi(document.body,at.shown)&&!Bi(document.body,at["toast-shown"])&&!Bi(document.body,at["no-backdrop"]),$h=()=>{const n=se();return n?Bi(n,at.toast):!1},zE=()=>{const n=se();return n?n.hasAttribute("data-loading"):!1},as=(n,t)=>{if(n.textContent="",t){const i=new DOMParser().parseFromString(t,"text/html"),a=i.querySelector("head");a&&Array.from(a.childNodes).forEach(c=>{n.appendChild(c)});const l=i.querySelector("body");l&&Array.from(l.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?n.appendChild(c.cloneNode(!0)):n.appendChild(c)})}},Bi=(n,t)=>{if(!t)return!1;const e=t.split(/\s+/);for(let i=0;i<e.length;i++)if(!n.classList.contains(e[i]))return!1;return!0},LE=(n,t)=>{Array.from(n.classList).forEach(e=>{!Object.values(at).includes(e)&&!Object.values(vh).includes(e)&&!Object.values(t.showClass||{}).includes(e)&&n.classList.remove(e)})},ss=(n,t,e)=>{if(LE(n,t),!t.customClass)return;const i=t.customClass[e];if(i){if(typeof i!="string"&&!i.forEach){qn(`Invalid type of customClass.${e}! Expected string or iterable object, got "${typeof i}"`);return}Qt(n,i)}},Zh=(n,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return n.querySelector(`.${at.popup} > .${at[t]}`);case"checkbox":return n.querySelector(`.${at.popup} > .${at.checkbox} input`);case"radio":return n.querySelector(`.${at.popup} > .${at.radio} input:checked`)||n.querySelector(`.${at.popup} > .${at.radio} input:first-child`);case"range":return n.querySelector(`.${at.popup} > .${at.range} input`);default:return n.querySelector(`.${at.popup} > .${at.input}`)}},O1=n=>{if(n.focus(),n.type!=="file"){const t=n.value;n.value="",n.value=t}},B1=(n,t,e)=>{!n||!t||(typeof t=="string"&&(t=t.split(/\s+/).filter(Boolean)),t.forEach(i=>{Array.isArray(n)?n.forEach(a=>{e?a.classList.add(i):a.classList.remove(i)}):e?n.classList.add(i):n.classList.remove(i)}))},Qt=(n,t)=>{B1(n,t,!0)},Qs=(n,t)=>{B1(n,t,!1)},wr=(n,t)=>{const e=Array.from(n.children);for(let i=0;i<e.length;i++){const a=e[i];if(a instanceof HTMLElement&&Bi(a,t))return a}},na=(n,t,e)=>{e===`${parseInt(e)}`&&(e=parseInt(e)),e||parseInt(e)===0?n.style.setProperty(t,typeof e=="number"?`${e}px`:e):n.style.removeProperty(t)},sn=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";n&&(n.style.display=t)},bn=n=>{n&&(n.style.display="none")},cg=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";n&&new MutationObserver(()=>{gc(n,n.innerHTML,t)}).observe(n,{childList:!0,subtree:!0})},Ew=(n,t,e,i)=>{const a=n.querySelector(t);a&&a.style.setProperty(e,i)},gc=function(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";t?sn(n,e):bn(n)},Fn=n=>!!(n&&(n.offsetWidth||n.offsetHeight||n.getClientRects().length)),PE=()=>!Fn(Zs())&&!Fn(pa())&&!Fn(Po()),Mw=n=>n.scrollHeight>n.clientHeight,I1=n=>{const t=window.getComputedStyle(n),e=parseFloat(t.getPropertyValue("animation-duration")||"0"),i=parseFloat(t.getPropertyValue("transition-duration")||"0");return e>0||i>0},ug=function(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const e=Xh();e&&Fn(e)&&(t&&(e.style.transition="none",e.style.width="100%"),setTimeout(()=>{e.style.transition=`width ${n/1e3}s linear`,e.style.width="0%"},10))},jE=()=>{const n=Xh();if(!n)return;const t=parseInt(window.getComputedStyle(n).width);n.style.removeProperty("transition"),n.style.width="100%";const e=parseInt(window.getComputedStyle(n).width),i=t/e*100;n.style.width=`${i}%`},UE=()=>typeof window>"u"||typeof document>"u",FE=`
 <div aria-labelledby="${at.title}" aria-describedby="${at["html-container"]}" class="${at.popup}" tabindex="-1">
   <button type="button" class="${at.close}"></button>
   <ul class="${at["progress-steps"]}"></ul>
   <div class="${at.icon}"></div>
   <img class="${at.image}" />
   <h2 class="${at.title}" id="${at.title}"></h2>
   <div class="${at["html-container"]}" id="${at["html-container"]}"></div>
   <input class="${at.input}" id="${at.input}" />
   <input type="file" class="${at.file}" />
   <div class="${at.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${at.select}" id="${at.select}"></select>
   <div class="${at.radio}"></div>
   <label class="${at.checkbox}">
     <input type="checkbox" id="${at.checkbox}" />
     <span class="${at.label}"></span>
   </label>
   <textarea class="${at.textarea}" id="${at.textarea}"></textarea>
   <div class="${at["validation-message"]}" id="${at["validation-message"]}"></div>
   <div class="${at.actions}">
     <div class="${at.loader}"></div>
     <button type="button" class="${at.confirm}"></button>
     <button type="button" class="${at.deny}"></button>
     <button type="button" class="${at.cancel}"></button>
   </div>
   <div class="${at.footer}"></div>
   <div class="${at["timer-progress-bar-container"]}">
     <div class="${at["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),VE=()=>{const n=Gn();return n?(n.remove(),Qs([document.documentElement,document.body],[at["no-backdrop"],at["toast-shown"],at["has-column"]]),!0):!1},Xr=()=>{Mt.currentInstance.resetValidationMessage()},HE=()=>{const n=se(),t=wr(n,at.input),e=wr(n,at.file),i=n.querySelector(`.${at.range} input`),a=n.querySelector(`.${at.range} output`),l=wr(n,at.select),c=n.querySelector(`.${at.checkbox} input`),h=wr(n,at.textarea);t.oninput=Xr,e.onchange=Xr,l.onchange=Xr,c.onchange=Xr,h.oninput=Xr,i.oninput=()=>{Xr(),a.value=i.value},i.onchange=()=>{Xr(),a.value=i.value}},qE=n=>typeof n=="string"?document.querySelector(n):n,GE=n=>{const t=se();t.setAttribute("role",n.toast?"alert":"dialog"),t.setAttribute("aria-live",n.toast?"polite":"assertive"),n.toast||t.setAttribute("aria-modal","true")},YE=n=>{window.getComputedStyle(n).direction==="rtl"&&Qt(Gn(),at.rtl)},WE=n=>{const t=VE();if(UE()){fa("SweetAlert2 requires document to initialize");return}const e=document.createElement("div");e.className=at.container,t&&Qt(e,at["no-transition"]),as(e,FE);const i=qE(n.target);i.appendChild(e),GE(n),YE(i),HE()},hg=(n,t)=>{n instanceof HTMLElement?t.appendChild(n):typeof n=="object"?XE(n,t):n&&as(t,n)},XE=(n,t)=>{n.jquery?$E(t,n):as(t,n.toString())},$E=(n,t)=>{if(n.textContent="",0 in t)for(let e=0;e in t;e++)n.appendChild(t[e].cloneNode(!0));else n.appendChild(t.cloneNode(!0))},ZE=(n,t)=>{const e=mc(),i=jo();!e||!i||(!t.showConfirmButton&&!t.showDenyButton&&!t.showCancelButton?bn(e):sn(e),ss(e,t,"actions"),QE(e,i,t),as(i,t.loaderHtml||""),ss(i,t,"loader"))};function QE(n,t,e){const i=Zs(),a=pa(),l=Po();!i||!a||!l||(Lp(i,"confirm",e),Lp(a,"deny",e),Lp(l,"cancel",e),KE(i,a,l,e),e.reverseButtons&&(e.toast?(n.insertBefore(l,i),n.insertBefore(a,i)):(n.insertBefore(l,t),n.insertBefore(a,t),n.insertBefore(i,t))))}function KE(n,t,e,i){if(!i.buttonsStyling){Qs([n,t,e],at.styled);return}Qt([n,t,e],at.styled),i.confirmButtonColor&&(n.style.backgroundColor=i.confirmButtonColor,Qt(n,at["default-outline"])),i.denyButtonColor&&(t.style.backgroundColor=i.denyButtonColor,Qt(t,at["default-outline"])),i.cancelButtonColor&&(e.style.backgroundColor=i.cancelButtonColor,Qt(e,at["default-outline"]))}function Lp(n,t,e){const i=eg(t);gc(n,e[`show${i}Button`],"inline-block"),as(n,e[`${t}ButtonText`]||""),n.setAttribute("aria-label",e[`${t}ButtonAriaLabel`]||""),n.className=at[t],ss(n,e,`${t}Button`)}const JE=(n,t)=>{const e=ag();e&&(as(e,t.closeButtonHtml||""),ss(e,t,"closeButton"),gc(e,t.showCloseButton),e.setAttribute("aria-label",t.closeButtonAriaLabel||""))},tM=(n,t)=>{const e=Gn();e&&(eM(e,t.backdrop),nM(e,t.position),sM(e,t.grow),ss(e,t,"container"))};function eM(n,t){typeof t=="string"?n.style.background=t:t||Qt([document.documentElement,document.body],at["no-backdrop"])}function nM(n,t){t&&(t in at?Qt(n,at[t]):(qn('The "position" parameter is not valid, defaulting to "center"'),Qt(n,at.center)))}function sM(n,t){t&&Qt(n,at[`grow-${t}`])}var fe={innerParams:new WeakMap,domCache:new WeakMap};const iM=["input","file","range","select","radio","checkbox","textarea"],rM=(n,t)=>{const e=se();if(!e)return;const i=fe.innerParams.get(n),a=!i||t.input!==i.input;iM.forEach(l=>{const c=wr(e,at[l]);c&&(lM(l,t.inputAttributes),c.className=at[l],a&&bn(c))}),t.input&&(a&&aM(t),cM(t))},aM=n=>{if(!n.input)return;if(!Le[n.input]){fa(`Unexpected type of input! Expected ${Object.keys(Le).join(" | ")}, got "${n.input}"`);return}const t=z1(n.input);if(!t)return;const e=Le[n.input](t,n);sn(t),n.inputAutoFocus&&setTimeout(()=>{O1(e)})},oM=n=>{for(let t=0;t<n.attributes.length;t++){const e=n.attributes[t].name;["id","type","value","style"].includes(e)||n.removeAttribute(e)}},lM=(n,t)=>{const e=se();if(!e)return;const i=Zh(e,n);if(i){oM(i);for(const a in t)i.setAttribute(a,t[a])}},cM=n=>{if(!n.input)return;const t=z1(n.input);t&&ss(t,n,"input")},dg=(n,t)=>{!n.placeholder&&t.inputPlaceholder&&(n.placeholder=t.inputPlaceholder)},yc=(n,t,e)=>{if(e.inputLabel){const i=document.createElement("label"),a=at["input-label"];i.setAttribute("for",n.id),i.className=a,typeof e.customClass=="object"&&Qt(i,e.customClass.inputLabel),i.innerText=e.inputLabel,t.insertAdjacentElement("beforebegin",i)}},z1=n=>{const t=se();if(t)return wr(t,at[n]||at.input)},wh=(n,t)=>{["string","number"].includes(typeof t)?n.value=`${t}`:sg(t)||qn(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof t}"`)},Le={};Le.text=Le.email=Le.password=Le.number=Le.tel=Le.url=Le.search=Le.date=Le["datetime-local"]=Le.time=Le.week=Le.month=(n,t)=>(wh(n,t.inputValue),yc(n,n,t),dg(n,t),n.type=t.input,n);Le.file=(n,t)=>(yc(n,n,t),dg(n,t),n);Le.range=(n,t)=>{const e=n.querySelector("input"),i=n.querySelector("output");return wh(e,t.inputValue),e.type=t.input,wh(i,t.inputValue),yc(e,n,t),n};Le.select=(n,t)=>{if(n.textContent="",t.inputPlaceholder){const e=document.createElement("option");as(e,t.inputPlaceholder),e.value="",e.disabled=!0,e.selected=!0,n.appendChild(e)}return yc(n,n,t),n};Le.radio=n=>(n.textContent="",n);Le.checkbox=(n,t)=>{const e=Zh(se(),"checkbox");e.value="1",e.checked=!!t.inputValue;const i=n.querySelector("span");return as(i,t.inputPlaceholder||t.inputLabel),e};Le.textarea=(n,t)=>{wh(n,t.inputValue),dg(n,t),yc(n,n,t);const e=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(se()).width),a=()=>{if(!document.body.contains(n))return;const l=n.offsetWidth+e(n);l>i?se().style.width=`${l}px`:na(se(),"width",t.width)};new MutationObserver(a).observe(n,{attributes:!0,attributeFilter:["style"]})}}),n};const uM=(n,t)=>{const e=ig();e&&(cg(e),ss(e,t,"htmlContainer"),t.html?(hg(t.html,e),sn(e,"block")):t.text?(e.textContent=t.text,sn(e,"block")):bn(e),rM(n,t))},hM=(n,t)=>{const e=D1();e&&(cg(e),gc(e,t.footer,"block"),t.footer&&hg(t.footer,e),ss(e,t,"footer"))},dM=(n,t)=>{const e=fe.innerParams.get(n),i=pc();if(i){if(e&&t.icon===e.icon){Nw(i,t),kw(i,t);return}if(!t.icon&&!t.iconHtml){bn(i);return}if(t.icon&&Object.keys(vh).indexOf(t.icon)===-1){fa(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${t.icon}"`),bn(i);return}sn(i),Nw(i,t),kw(i,t),Qt(i,t.showClass&&t.showClass.icon)}},kw=(n,t)=>{for(const[e,i]of Object.entries(vh))t.icon!==e&&Qs(n,i);Qt(n,t.icon&&vh[t.icon]),gM(n,t),fM(),ss(n,t,"icon")},fM=()=>{const n=se();if(!n)return;const t=window.getComputedStyle(n).getPropertyValue("background-color"),e=n.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<e.length;i++)e[i].style.backgroundColor=t},pM=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,mM=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Nw=(n,t)=>{if(!t.icon&&!t.iconHtml)return;let e=n.innerHTML,i="";t.iconHtml?i=Rw(t.iconHtml):t.icon==="success"?(i=pM,e=e.replace(/ style=".*?"/g,"")):t.icon==="error"?i=mM:t.icon&&(i=Rw({question:"?",warning:"!",info:"i"}[t.icon])),e.trim()!==i.trim()&&as(n,i)},gM=(n,t)=>{if(t.iconColor){n.style.color=t.iconColor,n.style.borderColor=t.iconColor;for(const e of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Ew(n,e,"background-color",t.iconColor);Ew(n,".swal2-success-ring","border-color",t.iconColor)}},Rw=n=>`<div class="${at["icon-content"]}">${n}</div>`,yM=(n,t)=>{const e=R1();if(e){if(!t.imageUrl){bn(e);return}sn(e,""),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt||""),na(e,"width",t.imageWidth),na(e,"height",t.imageHeight),e.className=at.image,ss(e,t,"image")}},_M=(n,t)=>{const e=Gn(),i=se();if(!(!e||!i)){if(t.toast){na(e,"width",t.width),i.style.width="100%";const a=jo();a&&i.insertBefore(a,pc())}else na(i,"width",t.width);na(i,"padding",t.padding),t.color&&(i.style.color=t.color),t.background&&(i.style.background=t.background),bn(Wh()),vM(i,t)}},vM=(n,t)=>{const e=t.showClass||{};n.className=`${at.popup} ${Fn(n)?e.popup:""}`,t.toast?(Qt([document.documentElement,document.body],at["toast-shown"]),Qt(n,at.toast)):Qt(n,at.modal),ss(n,t,"popup"),typeof t.customClass=="string"&&Qt(n,t.customClass),t.icon&&Qt(n,at[`icon-${t.icon}`])},wM=(n,t)=>{const e=rg();if(!e)return;const{progressSteps:i,currentProgressStep:a}=t;if(!i||i.length===0||a===void 0){bn(e);return}sn(e),e.textContent="",a>=i.length&&qn("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((l,c)=>{const h=bM(l);if(e.appendChild(h),c===a&&Qt(h,at["active-progress-step"]),c!==i.length-1){const d=xM(t);e.appendChild(d)}})},bM=n=>{const t=document.createElement("li");return Qt(t,at["progress-step"]),as(t,n),t},xM=n=>{const t=document.createElement("li");return Qt(t,at["progress-step-line"]),n.progressStepsDistance&&na(t,"width",n.progressStepsDistance),t},SM=(n,t)=>{const e=N1();e&&(cg(e),gc(e,t.title||t.titleText,"block"),t.title&&hg(t.title,e),t.titleText&&(e.innerText=t.titleText),ss(e,t,"title"))},L1=(n,t)=>{_M(n,t),tM(n,t),wM(n,t),dM(n,t),yM(n,t),SM(n,t),JE(n,t),uM(n,t),ZE(n,t),hM(n,t);const e=se();typeof t.didRender=="function"&&e&&t.didRender(e),Mt.eventEmitter.emit("didRender",e)},AM=()=>Fn(se()),P1=()=>{var n;return(n=Zs())===null||n===void 0?void 0:n.click()},TM=()=>{var n;return(n=pa())===null||n===void 0?void 0:n.click()},CM=()=>{var n;return(n=Po())===null||n===void 0?void 0:n.click()},Uo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),j1=n=>{n.keydownTarget&&n.keydownHandlerAdded&&(n.keydownTarget.removeEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!1)},EM=(n,t,e)=>{j1(n),t.toast||(n.keydownHandler=i=>kM(t,i,e),n.keydownTarget=t.keydownListenerCapture?window:se(),n.keydownListenerCapture=t.keydownListenerCapture,n.keydownTarget.addEventListener("keydown",n.keydownHandler,{capture:n.keydownListenerCapture}),n.keydownHandlerAdded=!0)},gm=(n,t)=>{var e;const i=og();if(i.length){n=n+t,n===i.length?n=0:n===-1&&(n=i.length-1),i[n].focus();return}(e=se())===null||e===void 0||e.focus()},U1=["ArrowRight","ArrowDown"],MM=["ArrowLeft","ArrowUp"],kM=(n,t,e)=>{n&&(t.isComposing||t.keyCode===229||(n.stopKeydownPropagation&&t.stopPropagation(),t.key==="Enter"?NM(t,n):t.key==="Tab"?RM(t):[...U1,...MM].includes(t.key)?DM(t.key):t.key==="Escape"&&OM(t,n,e)))},NM=(n,t)=>{if(!Yh(t.allowEnterKey))return;const e=Zh(se(),t.input);if(n.target&&e&&n.target instanceof HTMLElement&&n.target.outerHTML===e.outerHTML){if(["textarea","file"].includes(t.input))return;P1(),n.preventDefault()}},RM=n=>{const t=n.target,e=og();let i=-1;for(let a=0;a<e.length;a++)if(t===e[a]){i=a;break}n.shiftKey?gm(i,-1):gm(i,1),n.stopPropagation(),n.preventDefault()},DM=n=>{const t=mc(),e=Zs(),i=pa(),a=Po();if(!t||!e||!i||!a)return;const l=[e,i,a];if(document.activeElement instanceof HTMLElement&&!l.includes(document.activeElement))return;const c=U1.includes(n)?"nextElementSibling":"previousElementSibling";let h=document.activeElement;if(h){for(let d=0;d<t.children.length;d++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&Fn(h))break}h instanceof HTMLButtonElement&&h.focus()}},OM=(n,t,e)=>{Yh(t.allowEscapeKey)&&(n.preventDefault(),e(Uo.esc))};var vo={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const BM=()=>{const n=Gn();Array.from(document.body.children).forEach(e=>{e.contains(n)||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")||""),e.setAttribute("aria-hidden","true"))})},F1=()=>{Array.from(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")||""),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})},V1=typeof window<"u"&&!!window.GestureEvent,IM=()=>{if(V1&&!Bi(document.body,at.iosfix)){const n=document.body.scrollTop;document.body.style.top=`${n*-1}px`,Qt(document.body,at.iosfix),zM()}},zM=()=>{const n=Gn();if(!n)return;let t;n.ontouchstart=e=>{t=LM(e)},n.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},LM=n=>{const t=n.target,e=Gn(),i=ig();return!e||!i||PM(n)||jM(n)?!1:t===e||!Mw(e)&&t instanceof HTMLElement&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"&&!(Mw(i)&&i.contains(t))},PM=n=>n.touches&&n.touches.length&&n.touches[0].touchType==="stylus",jM=n=>n.touches&&n.touches.length>1,UM=()=>{if(Bi(document.body,at.iosfix)){const n=parseInt(document.body.style.top,10);Qs(document.body,at.iosfix),document.body.style.top="",document.body.scrollTop=n*-1}},FM=()=>{const n=document.createElement("div");n.className=at["scrollbar-measure"],document.body.appendChild(n);const t=n.getBoundingClientRect().width-n.clientWidth;return document.body.removeChild(n),t};let fo=null;const VM=n=>{fo===null&&(document.body.scrollHeight>window.innerHeight||n==="scroll")&&(fo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${fo+FM()}px`)},HM=()=>{fo!==null&&(document.body.style.paddingRight=`${fo}px`,fo=null)};function H1(n,t,e,i){$h()?Dw(n,i):(kE(e).then(()=>Dw(n,i)),j1(Mt)),V1?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),lg()&&(HM(),UM(),F1()),qM()}function qM(){Qs([document.documentElement,document.body],[at.shown,at["height-auto"],at["no-backdrop"],at["toast-shown"]])}function br(n){n=YM(n);const t=vo.swalPromiseResolve.get(this),e=GM(this);this.isAwaitingPromise?n.isDismissed||(_c(this),t(n)):e&&t(n)}const GM=n=>{const t=se();if(!t)return!1;const e=fe.innerParams.get(n);if(!e||Bi(t,e.hideClass.popup))return!1;Qs(t,e.showClass.popup),Qt(t,e.hideClass.popup);const i=Gn();return Qs(i,e.showClass.backdrop),Qt(i,e.hideClass.backdrop),WM(n,t,e),!0};function q1(n){const t=vo.swalPromiseReject.get(this);_c(this),t&&t(n)}const _c=n=>{n.isAwaitingPromise&&(delete n.isAwaitingPromise,fe.innerParams.get(n)||n._destroy())},YM=n=>typeof n>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},n),WM=(n,t,e)=>{const i=Gn(),a=I1(t);typeof e.willClose=="function"&&e.willClose(t),Mt.eventEmitter.emit("willClose",t),a?XM(n,t,i,e.returnFocus,e.didClose):H1(n,i,e.returnFocus,e.didClose)},XM=(n,t,e,i,a)=>{Mt.swalCloseEventFinishedCallback=H1.bind(null,n,e,i,a);const l=function(c){c.target===t&&(Mt.swalCloseEventFinishedCallback(),delete Mt.swalCloseEventFinishedCallback,t.removeEventListener("animationend",l),t.removeEventListener("transitionend",l))};t.addEventListener("animationend",l),t.addEventListener("transitionend",l)},Dw=(n,t)=>{setTimeout(()=>{typeof t=="function"&&t.bind(n.params)(),Mt.eventEmitter.emit("didClose"),n._destroy&&n._destroy()})},wo=n=>{let t=se();if(t||new hn,t=se(),!t)return;const e=jo();$h()?bn(pc()):$M(t,n),sn(e),t.setAttribute("data-loading","true"),t.setAttribute("aria-busy","true"),t.focus()},$M=(n,t)=>{const e=mc(),i=jo();!e||!i||(!t&&Fn(Zs())&&(t=Zs()),sn(e),t&&(bn(t),i.setAttribute("data-button-to-replace",t.className),e.insertBefore(i,t)),Qt([n,e],at.loading))},ZM=(n,t)=>{t.input==="select"||t.input==="radio"?ek(n,t):["text","email","number","tel","textarea"].some(e=>e===t.input)&&(ng(t.inputValue)||sg(t.inputValue))&&(wo(Zs()),nk(n,t))},QM=(n,t)=>{const e=n.getInput();if(!e)return null;switch(t.input){case"checkbox":return KM(e);case"radio":return JM(e);case"file":return tk(e);default:return t.inputAutoTrim?e.value.trim():e.value}},KM=n=>n.checked?1:0,JM=n=>n.checked?n.value:null,tk=n=>n.files&&n.files.length?n.getAttribute("multiple")!==null?n.files:n.files[0]:null,ek=(n,t)=>{const e=se();if(!e)return;const i=a=>{t.input==="select"?sk(e,bh(a),t):t.input==="radio"&&ik(e,bh(a),t)};ng(t.inputOptions)||sg(t.inputOptions)?(wo(Zs()),dc(t.inputOptions).then(a=>{n.hideLoading(),i(a)})):typeof t.inputOptions=="object"?i(t.inputOptions):fa(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof t.inputOptions}`)},nk=(n,t)=>{const e=n.getInput();e&&(bn(e),dc(t.inputValue).then(i=>{e.value=t.input==="number"?`${parseFloat(i)||0}`:`${i}`,sn(e),e.focus(),n.hideLoading()}).catch(i=>{fa(`Error in inputValue promise: ${i}`),e.value="",sn(e),e.focus(),n.hideLoading()}))};function sk(n,t,e){const i=wr(n,at.select);if(!i)return;const a=(l,c,h)=>{const d=document.createElement("option");d.value=h,as(d,c),d.selected=G1(h,e.inputValue),l.appendChild(d)};t.forEach(l=>{const c=l[0],h=l[1];if(Array.isArray(h)){const d=document.createElement("optgroup");d.label=c,d.disabled=!1,i.appendChild(d),h.forEach(f=>a(d,f[1],f[0]))}else a(i,h,c)}),i.focus()}function ik(n,t,e){const i=wr(n,at.radio);if(!i)return;t.forEach(l=>{const c=l[0],h=l[1],d=document.createElement("input"),f=document.createElement("label");d.type="radio",d.name=at.radio,d.value=c,G1(c,e.inputValue)&&(d.checked=!0);const m=document.createElement("span");as(m,h),m.className=at.label,f.appendChild(d),f.appendChild(m),i.appendChild(f)});const a=i.querySelectorAll("input");a.length&&a[0].focus()}const bh=n=>{const t=[];return n instanceof Map?n.forEach((e,i)=>{let a=e;typeof a=="object"&&(a=bh(a)),t.push([i,a])}):Object.keys(n).forEach(e=>{let i=n[e];typeof i=="object"&&(i=bh(i)),t.push([e,i])}),t},G1=(n,t)=>!!t&&t.toString()===n.toString(),rk=n=>{const t=fe.innerParams.get(n);n.disableButtons(),t.input?Y1(n,"confirm"):pg(n,!0)},ak=n=>{const t=fe.innerParams.get(n);n.disableButtons(),t.returnInputValueOnDeny?Y1(n,"deny"):fg(n,!1)},ok=(n,t)=>{n.disableButtons(),t(Uo.cancel)},Y1=(n,t)=>{const e=fe.innerParams.get(n);if(!e.input){fa(`The "input" parameter is needed to be set when using returnInputValueOn${eg(t)}`);return}const i=n.getInput(),a=QM(n,e);e.inputValidator?lk(n,a,t):i&&!i.checkValidity()?(n.enableButtons(),n.showValidationMessage(e.validationMessage||i.validationMessage)):t==="deny"?fg(n,a):pg(n,a)},lk=(n,t,e)=>{const i=fe.innerParams.get(n);n.disableInput(),Promise.resolve().then(()=>dc(i.inputValidator(t,i.validationMessage))).then(l=>{n.enableButtons(),n.enableInput(),l?n.showValidationMessage(l):e==="deny"?fg(n,t):pg(n,t)})},fg=(n,t)=>{const e=fe.innerParams.get(n||void 0);e.showLoaderOnDeny&&wo(pa()),e.preDeny?(n.isAwaitingPromise=!0,Promise.resolve().then(()=>dc(e.preDeny(t,e.validationMessage))).then(a=>{a===!1?(n.hideLoading(),_c(n)):n.close({isDenied:!0,value:typeof a>"u"?t:a})}).catch(a=>W1(n||void 0,a))):n.close({isDenied:!0,value:t})},Ow=(n,t)=>{n.close({isConfirmed:!0,value:t})},W1=(n,t)=>{n.rejectPromise(t)},pg=(n,t)=>{const e=fe.innerParams.get(n||void 0);e.showLoaderOnConfirm&&wo(),e.preConfirm?(n.resetValidationMessage(),n.isAwaitingPromise=!0,Promise.resolve().then(()=>dc(e.preConfirm(t,e.validationMessage))).then(a=>{Fn(Wh())||a===!1?(n.hideLoading(),_c(n)):Ow(n,typeof a>"u"?t:a)}).catch(a=>W1(n||void 0,a))):Ow(n,t)};function xh(){const n=fe.innerParams.get(this);if(!n)return;const t=fe.domCache.get(this);bn(t.loader),$h()?n.icon&&sn(pc()):ck(t),Qs([t.popup,t.actions],at.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const ck=n=>{const t=n.popup.getElementsByClassName(n.loader.getAttribute("data-button-to-replace"));t.length?sn(t[0],"inline-block"):PE()&&bn(n.actions)};function X1(){const n=fe.innerParams.get(this),t=fe.domCache.get(this);return t?Zh(t.popup,n.input):null}function $1(n,t,e){const i=fe.domCache.get(n);t.forEach(a=>{i[a].disabled=e})}function Z1(n,t){const e=se();if(!(!e||!n))if(n.type==="radio"){const i=e.querySelectorAll(`[name="${at.radio}"]`);for(let a=0;a<i.length;a++)i[a].disabled=t}else n.disabled=t}function Q1(){$1(this,["confirmButton","denyButton","cancelButton"],!1)}function K1(){$1(this,["confirmButton","denyButton","cancelButton"],!0)}function J1(){Z1(this.getInput(),!1)}function tx(){Z1(this.getInput(),!0)}function ex(n){const t=fe.domCache.get(this),e=fe.innerParams.get(this);as(t.validationMessage,n),t.validationMessage.className=at["validation-message"],e.customClass&&e.customClass.validationMessage&&Qt(t.validationMessage,e.customClass.validationMessage),sn(t.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",at["validation-message"]),O1(i),Qt(i,at.inputerror))}function nx(){const n=fe.domCache.get(this);n.validationMessage&&bn(n.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Qs(t,at.inputerror))}const po={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},uk=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],hk={allowEnterKey:void 0},dk=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],sx=n=>Object.prototype.hasOwnProperty.call(po,n),ix=n=>uk.indexOf(n)!==-1,rx=n=>hk[n],fk=n=>{sx(n)||qn(`Unknown parameter "${n}"`)},pk=n=>{dk.includes(n)&&qn(`The parameter "${n}" is incompatible with toasts`)},mk=n=>{const t=rx(n);t&&k1(n,t)},gk=n=>{n.backdrop===!1&&n.allowOutsideClick&&qn('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in n)fk(t),n.toast&&pk(t),mk(t)};function ax(n){const t=se(),e=fe.innerParams.get(this);if(!t||Bi(t,e.hideClass.popup)){qn("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=yk(n),a=Object.assign({},e,i);L1(this,a),fe.innerParams.set(this,a),Object.defineProperties(this,{params:{value:Object.assign({},this.params,n),writable:!1,enumerable:!0}})}const yk=n=>{const t={};return Object.keys(n).forEach(e=>{ix(e)?t[e]=n[e]:qn(`Invalid parameter to update: ${e}`)}),t};function ox(){const n=fe.domCache.get(this),t=fe.innerParams.get(this);if(!t){lx(this);return}n.popup&&Mt.swalCloseEventFinishedCallback&&(Mt.swalCloseEventFinishedCallback(),delete Mt.swalCloseEventFinishedCallback),typeof t.didDestroy=="function"&&t.didDestroy(),Mt.eventEmitter.emit("didDestroy"),_k(this)}const _k=n=>{lx(n),delete n.params,delete Mt.keydownHandler,delete Mt.keydownTarget,delete Mt.currentInstance},lx=n=>{n.isAwaitingPromise?(Pp(fe,n),n.isAwaitingPromise=!0):(Pp(vo,n),Pp(fe,n),delete n.isAwaitingPromise,delete n.disableButtons,delete n.enableButtons,delete n.getInput,delete n.disableInput,delete n.enableInput,delete n.hideLoading,delete n.disableLoading,delete n.showValidationMessage,delete n.resetValidationMessage,delete n.close,delete n.closePopup,delete n.closeModal,delete n.closeToast,delete n.rejectPromise,delete n.update,delete n._destroy)},Pp=(n,t)=>{for(const e in n)n[e].delete(t)};var vk=Object.freeze({__proto__:null,_destroy:ox,close:br,closeModal:br,closePopup:br,closeToast:br,disableButtons:K1,disableInput:tx,disableLoading:xh,enableButtons:Q1,enableInput:J1,getInput:X1,handleAwaitingPromise:_c,hideLoading:xh,rejectPromise:q1,resetValidationMessage:nx,showValidationMessage:ex,update:ax});const wk=(n,t,e)=>{n.toast?bk(n,t,e):(Sk(t),Ak(t),Tk(n,t,e))},bk=(n,t,e)=>{t.popup.onclick=()=>{n&&(xk(n)||n.timer||n.input)||e(Uo.close)}},xk=n=>!!(n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton);let Sh=!1;const Sk=n=>{n.popup.onmousedown=()=>{n.container.onmouseup=function(t){n.container.onmouseup=()=>{},t.target===n.container&&(Sh=!0)}}},Ak=n=>{n.container.onmousedown=t=>{t.target===n.container&&t.preventDefault(),n.popup.onmouseup=function(e){n.popup.onmouseup=()=>{},(e.target===n.popup||e.target instanceof HTMLElement&&n.popup.contains(e.target))&&(Sh=!0)}}},Tk=(n,t,e)=>{t.container.onclick=i=>{if(Sh){Sh=!1;return}i.target===t.container&&Yh(n.allowOutsideClick)&&e(Uo.backdrop)}},Ck=n=>typeof n=="object"&&n.jquery,Bw=n=>n instanceof Element||Ck(n),Ek=n=>{const t={};return typeof n[0]=="object"&&!Bw(n[0])?Object.assign(t,n[0]):["title","html","icon"].forEach((e,i)=>{const a=n[i];typeof a=="string"||Bw(a)?t[e]=a:a!==void 0&&fa(`Unexpected type of ${e}! Expected "string" or "Element", got ${typeof a}`)}),t};function Mk(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return new this(...t)}function kk(n){class t extends this{_main(i,a){return super._main(i,Object.assign({},n,a))}}return t}const Nk=()=>Mt.timeout&&Mt.timeout.getTimerLeft(),cx=()=>{if(Mt.timeout)return jE(),Mt.timeout.stop()},ux=()=>{if(Mt.timeout){const n=Mt.timeout.start();return ug(n),n}},Rk=()=>{const n=Mt.timeout;return n&&(n.running?cx():ux())},Dk=n=>{if(Mt.timeout){const t=Mt.timeout.increase(n);return ug(t,!0),t}},Ok=()=>!!(Mt.timeout&&Mt.timeout.isRunning());let Iw=!1;const ym={};function Bk(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ym[n]=this,Iw||(document.body.addEventListener("click",Ik),Iw=!0)}const Ik=n=>{for(let t=n.target;t&&t!==document;t=t.parentNode)for(const e in ym){const i=t.getAttribute(e);if(i){ym[e].fire({template:i});return}}};let zk=class{constructor(){this.events={}}_getHandlersByEventName(t){return typeof this.events[t]>"u"&&(this.events[t]=[]),this.events[t]}on(t,e){const i=this._getHandlersByEventName(t);i.includes(e)||i.push(e)}once(t,e){var i=this;const a=function(){i.removeListener(t,a);for(var l=arguments.length,c=new Array(l),h=0;h<l;h++)c[h]=arguments[h];e.apply(i,c)};this.on(t,a)}emit(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];this._getHandlersByEventName(t).forEach(l=>{try{l.apply(this,i)}catch(c){console.error(c)}})}removeListener(t,e){const i=this._getHandlersByEventName(t),a=i.indexOf(e);a>-1&&i.splice(a,1)}removeAllListeners(t){this.events[t]!==void 0&&(this.events[t].length=0)}reset(){this.events={}}};Mt.eventEmitter=new zk;const Lk=(n,t)=>{Mt.eventEmitter.on(n,t)},Pk=(n,t)=>{Mt.eventEmitter.once(n,t)},jk=(n,t)=>{if(!n){Mt.eventEmitter.reset();return}t?Mt.eventEmitter.removeListener(n,t):Mt.eventEmitter.removeAllListeners(n)};var Uk=Object.freeze({__proto__:null,argsToParams:Ek,bindClickHandler:Bk,clickCancel:CM,clickConfirm:P1,clickDeny:TM,enableLoading:wo,fire:Mk,getActions:mc,getCancelButton:Po,getCloseButton:ag,getConfirmButton:Zs,getContainer:Gn,getDenyButton:pa,getFocusableElements:og,getFooter:D1,getHtmlContainer:ig,getIcon:pc,getIconContent:OE,getImage:R1,getInputLabel:BE,getLoader:jo,getPopup:se,getProgressSteps:rg,getTimerLeft:Nk,getTimerProgressBar:Xh,getTitle:N1,getValidationMessage:Wh,increaseTimer:Dk,isDeprecatedParameter:rx,isLoading:zE,isTimerRunning:Ok,isUpdatableParameter:ix,isValidParameter:sx,isVisible:AM,mixin:kk,off:jk,on:Lk,once:Pk,resumeTimer:ux,showLoading:wo,stopTimer:cx,toggleTimer:Rk});class Fk{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const hx=["swal-title","swal-html","swal-footer"],Vk=n=>{const t=typeof n.template=="string"?document.querySelector(n.template):n.template;if(!t)return{};const e=t.content;return Zk(e),Object.assign(Hk(e),qk(e),Gk(e),Yk(e),Wk(e),Xk(e),$k(e,hx))},Hk=n=>{const t={};return Array.from(n.querySelectorAll("swal-param")).forEach(i=>{aa(i,["name","value"]);const a=i.getAttribute("name"),l=i.getAttribute("value");!a||!l||(typeof po[a]=="boolean"?t[a]=l!=="false":typeof po[a]=="object"?t[a]=JSON.parse(l):t[a]=l)}),t},qk=n=>{const t={};return Array.from(n.querySelectorAll("swal-function-param")).forEach(i=>{const a=i.getAttribute("name"),l=i.getAttribute("value");!a||!l||(t[a]=new Function(`return ${l}`)())}),t},Gk=n=>{const t={};return Array.from(n.querySelectorAll("swal-button")).forEach(i=>{aa(i,["type","color","aria-label"]);const a=i.getAttribute("type");!a||!["confirm","cancel","deny"].includes(a)||(t[`${a}ButtonText`]=i.innerHTML,t[`show${eg(a)}Button`]=!0,i.hasAttribute("color")&&(t[`${a}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(t[`${a}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),t},Yk=n=>{const t={},e=n.querySelector("swal-image");return e&&(aa(e,["src","width","height","alt"]),e.hasAttribute("src")&&(t.imageUrl=e.getAttribute("src")||void 0),e.hasAttribute("width")&&(t.imageWidth=e.getAttribute("width")||void 0),e.hasAttribute("height")&&(t.imageHeight=e.getAttribute("height")||void 0),e.hasAttribute("alt")&&(t.imageAlt=e.getAttribute("alt")||void 0)),t},Wk=n=>{const t={},e=n.querySelector("swal-icon");return e&&(aa(e,["type","color"]),e.hasAttribute("type")&&(t.icon=e.getAttribute("type")),e.hasAttribute("color")&&(t.iconColor=e.getAttribute("color")),t.iconHtml=e.innerHTML),t},Xk=n=>{const t={},e=n.querySelector("swal-input");e&&(aa(e,["type","label","placeholder","value"]),t.input=e.getAttribute("type")||"text",e.hasAttribute("label")&&(t.inputLabel=e.getAttribute("label")),e.hasAttribute("placeholder")&&(t.inputPlaceholder=e.getAttribute("placeholder")),e.hasAttribute("value")&&(t.inputValue=e.getAttribute("value")));const i=Array.from(n.querySelectorAll("swal-input-option"));return i.length&&(t.inputOptions={},i.forEach(a=>{aa(a,["value"]);const l=a.getAttribute("value");if(!l)return;const c=a.innerHTML;t.inputOptions[l]=c})),t},$k=(n,t)=>{const e={};for(const i in t){const a=t[i],l=n.querySelector(a);l&&(aa(l,[]),e[a.replace(/^swal-/,"")]=l.innerHTML.trim())}return e},Zk=n=>{const t=hx.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(n.children).forEach(e=>{const i=e.tagName.toLowerCase();t.includes(i)||qn(`Unrecognized element <${i}>`)})},aa=(n,t)=>{Array.from(n.attributes).forEach(e=>{t.indexOf(e.name)===-1&&qn([`Unrecognized attribute "${e.name}" on <${n.tagName.toLowerCase()}>.`,`${t.length?`Allowed attributes are: ${t.join(", ")}`:"To set the value, use HTML within the element."}`])})},dx=10,Qk=n=>{const t=Gn(),e=se();typeof n.willOpen=="function"&&n.willOpen(e),Mt.eventEmitter.emit("willOpen",e);const a=window.getComputedStyle(document.body).overflowY;tN(t,e,n),setTimeout(()=>{Kk(t,e)},dx),lg()&&(Jk(t,n.scrollbarPadding,a),BM()),!$h()&&!Mt.previousActiveElement&&(Mt.previousActiveElement=document.activeElement),typeof n.didOpen=="function"&&setTimeout(()=>n.didOpen(e)),Mt.eventEmitter.emit("didOpen",e),Qs(t,at["no-transition"])},Ah=n=>{const t=se();if(n.target!==t)return;const e=Gn();t.removeEventListener("animationend",Ah),t.removeEventListener("transitionend",Ah),e.style.overflowY="auto"},Kk=(n,t)=>{I1(t)?(n.style.overflowY="hidden",t.addEventListener("animationend",Ah),t.addEventListener("transitionend",Ah)):n.style.overflowY="auto"},Jk=(n,t,e)=>{IM(),t&&e!=="hidden"&&VM(e),setTimeout(()=>{n.scrollTop=0})},tN=(n,t,e)=>{Qt(n,e.showClass.backdrop),e.animation?(t.style.setProperty("opacity","0","important"),sn(t,"grid"),setTimeout(()=>{Qt(t,e.showClass.popup),t.style.removeProperty("opacity")},dx)):sn(t,"grid"),Qt([document.documentElement,document.body],at.shown),e.heightAuto&&e.backdrop&&!e.toast&&Qt([document.documentElement,document.body],at["height-auto"])};var zw={email:(n,t)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(n,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(n)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function eN(n){n.inputValidator||(n.input==="email"&&(n.inputValidator=zw.email),n.input==="url"&&(n.inputValidator=zw.url))}function nN(n){(!n.target||typeof n.target=="string"&&!document.querySelector(n.target)||typeof n.target!="string"&&!n.target.appendChild)&&(qn('Target parameter is not valid, defaulting to "body"'),n.target="body")}function sN(n){eN(n),n.showLoaderOnConfirm&&!n.preConfirm&&qn(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),nN(n),typeof n.title=="string"&&(n.title=n.title.split(`
`).join("<br />")),WE(n)}let Ws;var Xu=new WeakMap;class Pe{constructor(){if(TE(this,Xu,void 0),typeof window>"u")return;Ws=this;for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const a=Object.freeze(this.constructor.argsToParams(e));this.params=a,this.isAwaitingPromise=!1,CE(Xu,this,this._main(Ws.params))}_main(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(gk(Object.assign({},e,t)),Mt.currentInstance){const l=vo.swalPromiseResolve.get(Mt.currentInstance),{isAwaitingPromise:c}=Mt.currentInstance;Mt.currentInstance._destroy(),c||l({isDismissed:!0}),lg()&&F1()}Mt.currentInstance=Ws;const i=rN(t,e);sN(i),Object.freeze(i),Mt.timeout&&(Mt.timeout.stop(),delete Mt.timeout),clearTimeout(Mt.restoreFocusTimeout);const a=aN(Ws);return L1(Ws,i),fe.innerParams.set(Ws,i),iN(Ws,a,i)}then(t){return Tw(Xu,this).then(t)}finally(t){return Tw(Xu,this).finally(t)}}const iN=(n,t,e)=>new Promise((i,a)=>{const l=c=>{n.close({isDismissed:!0,dismiss:c})};vo.swalPromiseResolve.set(n,i),vo.swalPromiseReject.set(n,a),t.confirmButton.onclick=()=>{rk(n)},t.denyButton.onclick=()=>{ak(n)},t.cancelButton.onclick=()=>{ok(n,l)},t.closeButton.onclick=()=>{l(Uo.close)},wk(e,t,l),EM(Mt,e,l),ZM(n,e),Qk(e),oN(Mt,e,l),lN(t,e),setTimeout(()=>{t.container.scrollTop=0})}),rN=(n,t)=>{const e=Vk(n),i=Object.assign({},po,t,e,n);return i.showClass=Object.assign({},po.showClass,i.showClass),i.hideClass=Object.assign({},po.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},aN=n=>{const t={popup:se(),container:Gn(),actions:mc(),confirmButton:Zs(),denyButton:pa(),cancelButton:Po(),loader:jo(),closeButton:ag(),validationMessage:Wh(),progressSteps:rg()};return fe.domCache.set(n,t),t},oN=(n,t,e)=>{const i=Xh();bn(i),t.timer&&(n.timeout=new Fk(()=>{e("timer"),delete n.timeout},t.timer),t.timerProgressBar&&(sn(i),ss(i,t,"timerProgressBar"),setTimeout(()=>{n.timeout&&n.timeout.running&&ug(t.timer)})))},lN=(n,t)=>{if(!t.toast){if(!Yh(t.allowEnterKey)){k1("allowEnterKey"),hN();return}cN(n)||uN(n,t)||gm(-1,1)}},cN=n=>{const t=n.popup.querySelectorAll("[autofocus]");for(const e of t)if(e instanceof HTMLElement&&Fn(e))return e.focus(),!0;return!1},uN=(n,t)=>t.focusDeny&&Fn(n.denyButton)?(n.denyButton.focus(),!0):t.focusCancel&&Fn(n.cancelButton)?(n.cancelButton.focus(),!0):t.focusConfirm&&Fn(n.confirmButton)?(n.confirmButton.focus(),!0):!1,hN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const n=new Date,t=localStorage.getItem("swal-initiation");t?(n.getTime()-Date.parse(t))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const e=document.createElement("audio");e.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",e.loop=!0,document.body.appendChild(e),setTimeout(()=>{e.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${n}`)}Pe.prototype.disableButtons=K1;Pe.prototype.enableButtons=Q1;Pe.prototype.getInput=X1;Pe.prototype.disableInput=tx;Pe.prototype.enableInput=J1;Pe.prototype.hideLoading=xh;Pe.prototype.disableLoading=xh;Pe.prototype.showValidationMessage=ex;Pe.prototype.resetValidationMessage=nx;Pe.prototype.close=br;Pe.prototype.closePopup=br;Pe.prototype.closeModal=br;Pe.prototype.closeToast=br;Pe.prototype.rejectPromise=q1;Pe.prototype.update=ax;Pe.prototype._destroy=ox;Object.assign(Pe,Uk);Object.keys(vk).forEach(n=>{Pe[n]=function(){return Ws&&Ws[n]?Ws[n](...arguments):null}});Pe.DismissReason=Uo;Pe.version="11.14.3";const hn=Pe;hn.default=hn;typeof document<"u"&&(function(n,t){var e=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(e),e.styleSheet)e.styleSheet.disabled||(e.styleSheet.cssText=t);else try{e.innerHTML=t}catch{e.innerText=t}})(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}');const fx=it.createContext(void 0),dN=({children:n})=>{const[t,e]=it.useState(null),[i,a]=it.useState(!1),[l,c]=it.useState(!0);it.useEffect(()=>{(async()=>{try{const f=await SE();f.loggedIn?(a(!0),e(f.user_name??null)):(a(!1),e(null))}catch(f){console.error("verify on mount failed",f)}finally{c(!1)}})()},[]);const h=async(f,m)=>{try{const y=await xE({user_name:f,user_password:m});return"error"in y?(y.error==="AUTH_FAILED"?await hn.fire({title:"Authentication failed",text:"Please check your username and password",icon:"error"}):await hn.fire({title:"Login failed",text:y.message??"Try again later",icon:"error"}),!1):(a(!0),e(y.user_name),await hn.fire({title:"Welcome back!",icon:"success"}),!0)}catch(y){return console.error(y),await hn.fire({title:"Error",text:"Could not reach the server.",icon:"error"}),!1}},d=async()=>{try{await fetch(`${Lo}/auth/logout`,{method:"POST",credentials:"include"})}catch(f){console.error("logout failed",f)}a(!1),e(null)};return W.jsx(fx.Provider,{value:{userName:t,isAuthenticated:i,loading:l,login:h,logout:d},children:n})},mg=()=>{const n=it.useContext(fx);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},fN=()=>{const{isAuthenticated:n,userName:t,logout:e}=mg(),i=()=>{e()};return W.jsxs("header",{className:"header",children:[W.jsx("nav",{className:"nav",children:W.jsxs("ul",{className:"nav__list",children:[W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/",end:!0,children:"Home"})}),W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/animations",children:"Animations"})}),W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/games",children:"Games"})}),W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/leaderboard",children:"Leaderboard"})}),W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/social",children:"Social"})}),!n&&W.jsxs(W.Fragment,{children:[W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/login",children:"Login"})}),W.jsx("li",{className:"nav__item",children:W.jsx(mr,{className:"nav__link",to:"/register",children:"Register"})})]}),n&&W.jsx("li",{className:"nav__item",children:W.jsx("a",{className:"nav__link nav__link--logout",onClick:i,children:"Logout"})})]})}),n&&W.jsxs("div",{className:"header__user",children:["Logged in as: ",W.jsx("strong",{children:t})]})]})},Lw=['"The only way to make sense out of change is to plunge into it." -Alan Watts','"Man suffers only because he takes seriously what the gods made for fun." -Alan Watts','"You are an aperture through which the universe is looking at and exploring itself." -Alan Watts','"Trying to define yourself is like trying to bite your own teeth." -Alan Watts',`"Philosophy is man's expression of curiosity about everything." -Alan Watts`,'"Our suffering is often caused by our thoughts." -Sam Harris','"Mindfulness is a way to develop wisdom." -Sam Harris',`"You can't always control the world, but you can control your reaction." -Sam Harris`,`"It's always now." -Sam Harris`,'"The reality of your life is what you pay attention to." -Sam Harris','"We suffer more often in imagination than in reality." -Seneca','"Luck is what happens when preparation meets opportunity." -Seneca','"He who fears death will never do anything worth of a man." -Seneca','"Dwell on the beauty of life. Watch the stars." -Marcus Aurelius','"The impediment to action advances action." -Marcus Aurelius','"If it is not right, do not do it." -Marcus Aurelius','"To be calm is the highest achievement of the self." -Zenon of Citium','"Well-being is attained by little and little." -Zenon of Citium','"Wealth consists not in having great possessions." -Epictetus','"No man is free who is not master of himself." -Epictetus',`"The struggle itself...is enough to fill a man's heart." -Albert Camus`,'"In the depth of winter, I found an invincible summer." -Albert Camus','"Man stands face to face with the irrational." -Albert Camus','"Life will be lived all the better if it has no meaning." -Albert Camus','"Man is the only creature who refuses to be what he is." -Albert Camus','"What is called a reason for living is also an excellent reason for dying." -Albert Camus','"Every act of rebellion expresses a nostalgia for innocence." -Albert Camus','"Culture is not your friend." -Terence McKenna','"The imagination is the goal of history." -Terence McKenna','"Find the others." -Terence McKenna','"The cost of sanity in this society is a certain level of alienation." -Terence McKenna','"The universe is a symphony of strings." -Michio Kaku','"We are born scientists." -Michio Kaku','"The impossible is often the untried." -Michio Kaku','"The mind is more powerful than we can possibly imagine." -Michio Kaku','"To become a scientist, you have to have a passionate curiosity." -Michio Kaku','"If I have seen further, it is by standing on the shoulders of giants." -Isaac Newton',`"What we know is a drop, what we don't know is an ocean." -Isaac Newton`,'"No great discovery was ever made without a bold guess." -Isaac Newton','"We are a way for the cosmos to know itself." -Carl Sagan','"Somewhere, something incredible is waiting to be known." -Carl Sagan','"The cosmos is within us. We are made of star-stuff." -Carl Sagan','"Extraordinary claims require extraordinary evidence." -Carl Sagan','"For small creatures such as we, the vastness is bearable only through love." -Carl Sagan','"What I cannot create, I do not understand." -Richard Feynman',`"I'm smart enough to know that I'm dumb." -Richard Feynman`,'"We can only see a short distance ahead, but we can see plenty there that needs to be done." -Alan Turing','"We can see only a short distance ahead, but we can see plenty there that needs to be done." -Alan Turing','"Machines take me by surprise with great frequency." -Alan Turing','"The present is theirs; the future, for which I really worked, is mine." -Nikola Tesla','"The scientists of today think deeply instead of clearly." -Nikola Tesla',`"I don't care that they stole my idea... I care that they don't have any of their own." -Nikola Tesla`,`"The question isn't who is going to let me; it's who is going to stop me." -Ayn Rand`,'"I am not afraid of storms, for I am learning how to sail my ship." -Louisa May Alcott','"Do one thing every day that scares you." -Eleanor Roosevelt','"No one can make you feel inferior without your consent." -Eleanor Roosevelt','"The future belongs to those who believe in the beauty of their dreams." -Eleanor Roosevelt','"I attribute my success to this: I never gave or took any excuse." -Florence Nightingale',`"Life shrinks or expands in proportion to one's courage." -Anais Nin`,'"You must do the things you think you cannot do." -Eleanor Roosevelt','"It does not matter how slowly you go as long as you do not stop." -Confucius'],pN=4500,Pw=2e3,mN=()=>{const n=it.useRef(null),t=it.useRef(null),[e,i]=it.useState(""),[a,l]=it.useState({top:0,left:0}),[c,h]=it.useState(!1),d=()=>Lw[Math.floor(Math.random()*Lw.length)];return it.useEffect(()=>{i(d())},[]),it.useEffect(()=>{if(!e)return;const f=n.current,m=f?.offsetWidth??window.innerWidth,y=f?.offsetHeight??window.innerHeight,_=t.current,v=_?.offsetWidth??220,w=_?.offsetHeight??90,S=20,k=(document.querySelector(".header")?.offsetHeight??80)+30,R=Math.max(S,m-v-S),U=Math.max(k,y-w-S),O=S+Math.random()*(R-S),j=k+Math.random()*(U-k);l({top:j,left:O})},[e]),it.useEffect(()=>{e||i(d());let f;const m=setInterval(()=>{h(!1),f=setTimeout(()=>{i(d()),h(!0)},Pw)},pN+Pw);return h(!0),()=>{clearInterval(m),clearTimeout(f)}},[e]),W.jsxs("section",{className:"home",children:[W.jsxs("h1",{className:"home__welcome-message glowing-floating",children:["Welcome! ",W.jsx("br",{})," Glad you're here"]}),W.jsx("div",{className:"home__quotes-container","data-quotes-container":!0,"aria-live":"polite",ref:n,children:e&&W.jsx("div",{ref:t,className:`quote ${c?"fade-in":"fade-out"}`,style:{position:"absolute",top:a.top,left:a.left},children:e})})]})},gN=()=>W.jsxs("section",{className:"animations",children:[W.jsx("h1",{className:"animations__title",children:"Animations"}),W.jsxs("div",{className:"animations__grid",children:[W.jsx("div",{className:"animations__grid-item",children:W.jsx(sc,{to:"/animations/dancing-circles",children:W.jsx("h3",{className:"animations__grid-item--dancing-circles floating",children:"Dancing Circles"})})}),W.jsx("div",{className:"animations__grid-item",children:W.jsx(sc,{to:"/animations/dancing-fractals",children:W.jsx("h3",{className:"animations__grid-item--dancing-circles floating",children:"Dancing Fractals"})})})]})]}),si=1920,Ks=1080,yN=()=>Math.random()>=.5,sa=(n,t)=>Math.floor(Math.random()*(t-n+1))+n,bo=(n,t=0)=>{let e=Math.random()*(si-n+t);return e<n-t&&(e+=n-e),e},xo=(n,t=0)=>{let e=Math.random()*(Ks-n+t);return e<n-t&&(e+=n-e),e},jw=n=>{let t=[];for(let e=0;e<n;e++)if(t.push(sa(0,n-1)),t.length>2){let i=0;for(let a=0;a<t.length-1;a++)t[a]==t[t.length-1]&&(i++,i>1&&(t.pop(),e--,i=0))}return t};class px{convertHSLtoHSLA(t,e){return t.replace("(","a(").replace(")",`, ${e})`)}convertHertzToHSL(t){let{hertz:e}=t;if(!e)return this.getRandomColor(t);e<20&&(e=20),e>2e4&&(e=2e4);const c=360*((e%389+1)*.00257*7),h=this.getRandomColor(t),d=h.substring(4,h.length-1).split(",")[0];return h.replace(d,c.toString())}getRandomColor(t){const{minSaturation:e,maxSaturation:i,minLightness:a,maxLightness:l}=t,c=Math.random()*360|0,h=sa(e,i),d=sa(a,l);return`hsl(${c}, ${h}%, ${d}%)`}lerpColor(t,e,i){const[c,h,d]=t.substring(4,t.length-1).split(",",3).map(S=>parseInt(S)),[f,m,y]=e.substring(4,e.length-1).split(",",3).map(S=>parseInt(S)),_=c*(1-i)+f*i,v=h*(1-i)+m*i,w=d*(1-i)+y*i;return`hsl(${_}, ${v}%, ${w}%)`}}const Uw=(n,t,e)=>n*(1-e)+t*e,Vh=class Vh{constructor(t){this.startBaseRadius=50,this.lastRadius=8,this.adjustmentRatio=.13,this.arrayLength=12,this.gap=14,this.colorSettings={hertz:0,minSaturation:95,maxSaturation:100,minLightness:60,maxLightness:80},this.colorHandler=new px,this.color=this.colorHandler.getRandomColor(this.colorSettings),this.targetColor=this.colorHandler.getRandomColor(this.colorSettings),this.baseRadius=this.getBaseRadius(t*15),this.currentRadius=this.baseRadius,this.targetRadius=this.baseRadius,this.x=bo(this.baseRadius,this.gap),this.y=xo(this.baseRadius,this.gap),this.targetX=bo(this.baseRadius,this.gap),this.targetY=xo(this.baseRadius,this.gap),Vh.circleArray.push(this)}getBaseRadius(t){return this.startBaseRadius+=this.lastRadius*this.adjustmentRatio*t,this.lastRadius=this.startBaseRadius,this.startBaseRadius}lerpColor(){this.color=this.colorHandler.lerpColor(this.color,this.targetColor,.03)}lerpPosition(t){const i=t?this.x:this.y,a=t?this.targetX:this.targetY,l=Uw(i,a,.01);t?this.x=l:this.y=l}lerpRadius(){this.currentRadius=Uw(this.currentRadius,this.targetRadius,.2)}};Vh.circleArray=[];let Ns=Vh;var jp,Fw;function _N(){if(Fw)return jp;Fw=1;function n(t){if(this.size=t|0,this.size<=1||(this.size&this.size-1)!==0)throw new Error("FFT size must be a power of two and bigger than 1");this._csize=t<<1;for(var e=new Array(this.size*2),i=0;i<e.length;i+=2){const f=Math.PI*i/this.size;e[i]=Math.cos(f),e[i+1]=-Math.sin(f)}this.table=e;for(var a=0,l=1;this.size>l;l<<=1)a++;this._width=a%2===0?a-1:a,this._bitrev=new Array(1<<this._width);for(var c=0;c<this._bitrev.length;c++){this._bitrev[c]=0;for(var h=0;h<this._width;h+=2){var d=this._width-h-2;this._bitrev[c]|=(c>>>h&3)<<d}}this._out=null,this._data=null,this._inv=0}return jp=n,n.prototype.fromComplexArray=function(e,i){for(var a=i||new Array(e.length>>>1),l=0;l<e.length;l+=2)a[l>>>1]=e[l];return a},n.prototype.createComplexArray=function(){const e=new Array(this._csize);for(var i=0;i<e.length;i++)e[i]=0;return e},n.prototype.toComplexArray=function(e,i){for(var a=i||this.createComplexArray(),l=0;l<a.length;l+=2)a[l]=e[l>>>1],a[l+1]=0;return a},n.prototype.completeSpectrum=function(e){for(var i=this._csize,a=i>>>1,l=2;l<a;l+=2)e[i-l]=e[l],e[i-l+1]=-e[l+1]},n.prototype.transform=function(e,i){if(e===i)throw new Error("Input and output buffers must be different");this._out=e,this._data=i,this._inv=0,this._transform4(),this._out=null,this._data=null},n.prototype.realTransform=function(e,i){if(e===i)throw new Error("Input and output buffers must be different");this._out=e,this._data=i,this._inv=0,this._realTransform4(),this._out=null,this._data=null},n.prototype.inverseTransform=function(e,i){if(e===i)throw new Error("Input and output buffers must be different");this._out=e,this._data=i,this._inv=1,this._transform4();for(var a=0;a<e.length;a++)e[a]/=this.size;this._out=null,this._data=null},n.prototype._transform4=function(){var e=this._out,i=this._csize,a=this._width,l=1<<a,c=i/l<<1,h,d,f=this._bitrev;if(c===4)for(h=0,d=0;h<i;h+=c,d++){const x=f[d];this._singleTransform2(h,x,l)}else for(h=0,d=0;h<i;h+=c,d++){const x=f[d];this._singleTransform4(h,x,l)}var m=this._inv?-1:1,y=this.table;for(l>>=2;l>=2;l>>=2){c=i/l<<1;var _=c>>>2;for(h=0;h<i;h+=c)for(var v=h+_,w=h,S=0;w<v;w+=2,S+=l){const x=w,T=x+_,k=T+_,R=k+_,U=e[x],O=e[x+1],j=e[T],z=e[T+1],L=e[k],V=e[k+1],H=e[R],K=e[R+1],Q=U,Z=O,$=y[S],ut=m*y[S+1],A=j*$-z*ut,E=j*ut+z*$,N=y[2*S],B=m*y[2*S+1],P=L*N-V*B,C=L*B+V*N,D=y[3*S],Y=m*y[3*S+1],st=H*D-K*Y,et=H*Y+K*D,mt=Q+P,gt=Z+C,ot=Q-P,vt=Z-C,xt=A+st,Wt=E+et,te=m*(A-st),Ue=m*(E-et),be=mt+xt,ft=gt+Wt,yt=mt-xt,Ht=gt-Wt,It=ot+Ue,Nt=vt-te,qt=ot-Ue,me=vt+te;e[x]=be,e[x+1]=ft,e[T]=It,e[T+1]=Nt,e[k]=yt,e[k+1]=Ht,e[R]=qt,e[R+1]=me}}},n.prototype._singleTransform2=function(e,i,a){const l=this._out,c=this._data,h=c[i],d=c[i+1],f=c[i+a],m=c[i+a+1],y=h+f,_=d+m,v=h-f,w=d-m;l[e]=y,l[e+1]=_,l[e+2]=v,l[e+3]=w},n.prototype._singleTransform4=function(e,i,a){const l=this._out,c=this._data,h=this._inv?-1:1,d=a*2,f=a*3,m=c[i],y=c[i+1],_=c[i+a],v=c[i+a+1],w=c[i+d],S=c[i+d+1],x=c[i+f],T=c[i+f+1],k=m+w,R=y+S,U=m-w,O=y-S,j=_+x,z=v+T,L=h*(_-x),V=h*(v-T),H=k+j,K=R+z,Q=U+V,Z=O-L,$=k-j,ut=R-z,A=U-V,E=O+L;l[e]=H,l[e+1]=K,l[e+2]=Q,l[e+3]=Z,l[e+4]=$,l[e+5]=ut,l[e+6]=A,l[e+7]=E},n.prototype._realTransform4=function(){var e=this._out,i=this._csize,a=this._width,l=1<<a,c=i/l<<1,h,d,f=this._bitrev;if(c===4)for(h=0,d=0;h<i;h+=c,d++){const lt=f[d];this._singleRealTransform2(h,lt>>>1,l>>>1)}else for(h=0,d=0;h<i;h+=c,d++){const lt=f[d];this._singleRealTransform4(h,lt>>>1,l>>>1)}var m=this._inv?-1:1,y=this.table;for(l>>=2;l>=2;l>>=2){c=i/l<<1;var _=c>>>1,v=_>>>1,w=v>>>1;for(h=0;h<i;h+=c)for(var S=0,x=0;S<=w;S+=2,x+=l){var T=h+S,k=T+v,R=k+v,U=R+v,O=e[T],j=e[T+1],z=e[k],L=e[k+1],V=e[R],H=e[R+1],K=e[U],Q=e[U+1],Z=O,$=j,ut=y[x],A=m*y[x+1],E=z*ut-L*A,N=z*A+L*ut,B=y[2*x],P=m*y[2*x+1],C=V*B-H*P,D=V*P+H*B,Y=y[3*x],st=m*y[3*x+1],et=K*Y-Q*st,mt=K*st+Q*Y,gt=Z+C,ot=$+D,vt=Z-C,xt=$-D,Wt=E+et,te=N+mt,Ue=m*(E-et),be=m*(N-mt),ft=gt+Wt,yt=ot+te,Ht=vt+be,It=xt-Ue;if(e[T]=ft,e[T+1]=yt,e[k]=Ht,e[k+1]=It,S===0){var Nt=gt-Wt,qt=ot-te;e[R]=Nt,e[R+1]=qt;continue}if(S!==w){var me=vt,Sn=-xt,Ts=gt,Be=-ot,Nr=-m*be,oi=-m*Ue,va=-m*te,li=-m*Wt,wa=me+Nr,Yn=Sn+oi,ba=Ts+li,I=Be-va,G=h+v-S,ht=h+_-S;e[G]=wa,e[G+1]=Yn,e[ht]=ba,e[ht+1]=I}}}},n.prototype._singleRealTransform2=function(e,i,a){const l=this._out,c=this._data,h=c[i],d=c[i+a],f=h+d,m=h-d;l[e]=f,l[e+1]=0,l[e+2]=m,l[e+3]=0},n.prototype._singleRealTransform4=function(e,i,a){const l=this._out,c=this._data,h=this._inv?-1:1,d=a*2,f=a*3,m=c[i],y=c[i+a],_=c[i+d],v=c[i+f],w=m+_,S=m-_,x=y+v,T=h*(y-v),k=w+x,R=S,U=-T,O=w-x,j=S,z=T;l[e]=k,l[e+1]=0,l[e+2]=R,l[e+3]=U,l[e+4]=O,l[e+5]=0,l[e+6]=j,l[e+7]=z},jp}var vN=_N();const wN=ha(vN);class Zl{_inputLength;_fft;_bufferSupplier;_paddedInputBuffer;_transformBuffer;_inverseBuffer;static forFloat32Array(t){return new Zl(t,e=>new Float32Array(e))}static forFloat64Array(t){return new Zl(t,e=>new Float64Array(e))}static forNumberArray(t){return new Zl(t,e=>Array(e))}constructor(t,e){if(t<1)throw new Error("Input length must be at least one");this._inputLength=t,this._fft=new wN(SN(2*t)),this._bufferSupplier=e,this._paddedInputBuffer=this._bufferSupplier(this._fft.size),this._transformBuffer=this._bufferSupplier(2*this._fft.size),this._inverseBuffer=this._bufferSupplier(2*this._fft.size)}get inputLength(){return this._inputLength}autocorrelate(t,e=this._bufferSupplier(t.length)){if(t.length!==this._inputLength)throw new Error(`Input must have length ${this._inputLength} but had length ${t.length}`);for(let a=0;a<t.length;a++)this._paddedInputBuffer[a]=t[a];for(let a=t.length;a<this._paddedInputBuffer.length;a++)this._paddedInputBuffer[a]=0;this._fft.realTransform(this._transformBuffer,this._paddedInputBuffer),this._fft.completeSpectrum(this._transformBuffer);const i=this._transformBuffer;for(let a=0;a<i.length;a+=2)i[a]=i[a]*i[a]+i[a+1]*i[a+1],i[a+1]=0;this._fft.inverseTransform(this._inverseBuffer,this._transformBuffer);for(let a=0;a<t.length;a++)e[a]=this._inverseBuffer[2*a];return e}}function bN(n){const t=[];let e=!1,i=-1/0,a=-1;for(let l=1;l<n.length-1;l++)n[l-1]<=0&&n[l]>0?(e=!0,a=l,i=n[l]):n[l-1]>0&&n[l]<=0?(e=!1,a!==-1&&t.push(a)):e&&n[l]>i&&(i=n[l],a=l);return t}function xN(n,t){const[e,i,a]=[n-1,n,n+1],[l,c,h]=[t[e],t[i],t[a]],d=l/2-c+h/2,f=-(l/2)*(i+a)+c*(e+a)-h/2*(e+i),m=l*i*a/2-c*e*a+h*e*i/2,y=-f/(2*d),_=d*y*y+f*y+m;return[y,_]}class Ql{_autocorrelator;_nsdfBuffer;_clarityThreshold=.9;_minVolumeAbsolute=0;_maxInputAmplitude=1;static forFloat32Array(t){return new Ql(t,e=>new Float32Array(e))}static forFloat64Array(t){return new Ql(t,e=>new Float64Array(e))}static forNumberArray(t){return new Ql(t,e=>Array(e))}constructor(t,e){this._autocorrelator=new Zl(t,e),this._nsdfBuffer=e(t)}get inputLength(){return this._autocorrelator.inputLength}set clarityThreshold(t){if(!Number.isFinite(t)||t<=0||t>1)throw new Error("clarityThreshold must be a number in the range (0, 1]");this._clarityThreshold=t}set minVolumeAbsolute(t){if(!Number.isFinite(t)||t<0||t>this._maxInputAmplitude)throw new Error(`minVolumeAbsolute must be a number in the range [0, ${this._maxInputAmplitude}]`);this._minVolumeAbsolute=t}set minVolumeDecibels(t){if(!Number.isFinite(t)||t>0)throw new Error("minVolumeDecibels must be a number <= 0");this._minVolumeAbsolute=this._maxInputAmplitude*10**(t/10)}set maxInputAmplitude(t){if(!Number.isFinite(t)||t<=0)throw new Error("maxInputAmplitude must be a number > 0");this._maxInputAmplitude=t}findPitch(t,e){if(this._belowMinimumVolume(t))return[0,0];this._nsdf(t);const i=bN(this._nsdfBuffer);if(i.length===0)return[0,0];const a=Math.max(...i.map(d=>this._nsdfBuffer[d])),l=i.find(d=>this._nsdfBuffer[d]>=this._clarityThreshold*a),[c,h]=xN(l,this._nsdfBuffer);return[e/c,Math.min(h,1)]}_belowMinimumVolume(t){if(this._minVolumeAbsolute===0)return!1;let e=0;for(let i=0;i<t.length;i++)e+=t[i]**2;return Math.sqrt(e/t.length)<this._minVolumeAbsolute}_nsdf(t){this._autocorrelator.autocorrelate(t,this._nsdfBuffer);let e=2*this._nsdfBuffer[0],i;for(i=0;i<this._nsdfBuffer.length&&e>0;i++)this._nsdfBuffer[i]=2*this._nsdfBuffer[i]/e,e-=t[i]**2+t[t.length-i-1]**2;for(;i<this._nsdfBuffer.length;i++)this._nsdfBuffer[i]=0}}function SN(n){return n--,n|=n>>1,n|=n>>2,n|=n>>4,n|=n>>8,n|=n>>16,n++,n}const AN="/assets/notallowed-DFEaDEIs.cur",TN="/assets/select-uk4jwcNT.cur",$e=class $e{static async processAudio(t,e){e.classList.add("playing"),t.disabled=!0,e.style.cursor=`url(${AN}), auto`;const a=t.files[0],l=new Audio(URL.createObjectURL(a)),c=new window.AudioContext;await c.resume();const h=c.createAnalyser();h.fftSize=2048,c.createMediaElementSource(l).connect(h),h.connect(c.destination),l.load();try{await l.play()}catch{}$e.playing=!0;const f=Ql.forFloat32Array(h.fftSize),m=new Float32Array(new ArrayBuffer(f.inputLength*Float32Array.BYTES_PER_ELEMENT)),y=(_,v,w,S)=>{if(l.ended||$e.volume<-1e3&&$e.volume!==-1/0){$e.volume=-1/0,$e.playing=!1,t.disabled=!1,e.style.cursor=`url(${TN}), auto`,e.classList.remove("playing"),t.value="";return}$e.playing===!1?l.pause():l.play(),_.getFloatTimeDomainData(w),[$e.pitch,$e.clarity]=v.findPitch(w,S),$e.pitch=Math.round($e.pitch*10)*.1,$e.clarity=Math.round($e.clarity*100),$e.volume=Math.round(20*Math.log10(Math.max(...w))),$e.duration=l.duration,window.setTimeout(()=>y(_,v,w,S),1e3/60)};y(h,f,m,c.sampleRate)}};$e.getVolumePercentage=t=>{let e=(t+40)*.016*100;return t<-40?e=0:t>20&&(e=100),e},$e.initializeUploadButton=(t,e)=>{const i=()=>{t.files?.length&&$e.processAudio(t,e)};return t.addEventListener("change",i),()=>{t.removeEventListener("change",i)}};let Mi=$e;const CN="modulepreload",EN=function(n){return"/"+n},Vw={},Th=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=c?.nonce||c?.getAttribute("nonce");a=d(e.map(f=>{if(f=EN(f),f in Vw)return;Vw[f]=!0;const m=f.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":CN,m||(_.as="script"),_.crossOrigin="",_.href=f,h&&_.setAttribute("nonce",h),document.head.appendChild(_),m)return new Promise((v,w)=>{_.addEventListener("load",v),_.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return t().catch(l)})};var Rt=(n=>(n.Application="application",n.WebGLPipes="webgl-pipes",n.WebGLPipesAdaptor="webgl-pipes-adaptor",n.WebGLSystem="webgl-system",n.WebGPUPipes="webgpu-pipes",n.WebGPUPipesAdaptor="webgpu-pipes-adaptor",n.WebGPUSystem="webgpu-system",n.CanvasSystem="canvas-system",n.CanvasPipesAdaptor="canvas-pipes-adaptor",n.CanvasPipes="canvas-pipes",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n.MaskEffect="mask-effect",n.BlendMode="blend-mode",n.TextureSource="texture-source",n.Environment="environment",n))(Rt||{});const _m=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n={...typeof n.extension!="object"?{type:n.extension}:n.extension,ref:n}}if(typeof n=="object")n={...n};else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},$u=(n,t)=>_m(n).priority??t,xs={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(_m).forEach(t=>{t.type.forEach(e=>this._removeHandlers[e]?.(t))}),this},add(...n){return n.map(_m).forEach(t=>{t.type.forEach(e=>{const i=this._addHandlers,a=this._queue;i[e]?i[e]?.(t):(a[e]=a[e]||[],a[e]?.push(t))})}),this},handle(n,t,e){const i=this._addHandlers,a=this._removeHandlers;if(i[n]||a[n])throw new Error(`Extension type ${n} already has a handler`);i[n]=t,a[n]=e;const l=this._queue;return l[n]&&(l[n]?.forEach(c=>t(c)),delete l[n]),this},handleByMap(n,t){return this.handle(n,e=>{e.name&&(t[e.name]=e.ref)},e=>{e.name&&delete t[e.name]})},handleByNamedList(n,t,e=-1){return this.handle(n,i=>{t.findIndex(l=>l.name===i.name)>=0||(t.push({name:i.name,value:i.ref}),t.sort((l,c)=>$u(c.value,e)-$u(l.value,e)))},i=>{const a=t.findIndex(l=>l.name===i.name);a!==-1&&t.splice(a,1)})},handleByList(n,t,e=-1){return this.handle(n,i=>{t.includes(i.ref)||(t.push(i.ref),t.sort((a,l)=>$u(l,e)-$u(a,e)))},i=>{const a=t.indexOf(i.ref);a!==-1&&t.splice(a,1)})}},MN={extension:{type:Rt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Th(()=>import("./browserAll-BrnWqo3c.js"),__vite__mapDeps([0,1,2,3,4]))}},kN={extension:{type:Rt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Th(()=>import("./webworkerAll-BLBwwql8.js"),__vite__mapDeps([1,2,3,4]))}};class Ln{constructor(t,e,i){this._x=e||0,this._y=i||0,this._observer=t}clone(t){return new Ln(t??this._observer,this._x,this._y)}set(t=0,e=t){return(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Up={exports:{}},Hw;function NN(){return Hw||(Hw=1,(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(e=!1));function a(d,f,m){this.fn=d,this.context=f,this.once=m||!1}function l(d,f,m,y,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,y||d,_),w=e?e+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function c(d,f){--d._eventsCount===0?d._events=new i:delete d._events[f]}function h(){this._events=new i,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],m,y;if(this._eventsCount===0)return f;for(y in m=this._events)t.call(m,y)&&f.push(e?y.slice(1):y);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},h.prototype.listeners=function(f){var m=e?e+f:f,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,v=y.length,w=new Array(v);_<v;_++)w[_]=y[_].fn;return w},h.prototype.listenerCount=function(f){var m=e?e+f:f,y=this._events[m];return y?y.fn?1:y.length:0},h.prototype.emit=function(f,m,y,_,v,w){var S=e?e+f:f;if(!this._events[S])return!1;var x=this._events[S],T=arguments.length,k,R;if(x.fn){switch(x.once&&this.removeListener(f,x.fn,void 0,!0),T){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,m),!0;case 3:return x.fn.call(x.context,m,y),!0;case 4:return x.fn.call(x.context,m,y,_),!0;case 5:return x.fn.call(x.context,m,y,_,v),!0;case 6:return x.fn.call(x.context,m,y,_,v,w),!0}for(R=1,k=new Array(T-1);R<T;R++)k[R-1]=arguments[R];x.fn.apply(x.context,k)}else{var U=x.length,O;for(R=0;R<U;R++)switch(x[R].once&&this.removeListener(f,x[R].fn,void 0,!0),T){case 1:x[R].fn.call(x[R].context);break;case 2:x[R].fn.call(x[R].context,m);break;case 3:x[R].fn.call(x[R].context,m,y);break;case 4:x[R].fn.call(x[R].context,m,y,_);break;default:if(!k)for(O=1,k=new Array(T-1);O<T;O++)k[O-1]=arguments[O];x[R].fn.apply(x[R].context,k)}}return!0},h.prototype.on=function(f,m,y){return l(this,f,m,y,!1)},h.prototype.once=function(f,m,y){return l(this,f,m,y,!0)},h.prototype.removeListener=function(f,m,y,_){var v=e?e+f:f;if(!this._events[v])return this;if(!m)return c(this,v),this;var w=this._events[v];if(w.fn)w.fn===m&&(!_||w.once)&&(!y||w.context===y)&&c(this,v);else{for(var S=0,x=[],T=w.length;S<T;S++)(w[S].fn!==m||_&&!w[S].once||y&&w[S].context!==y)&&x.push(w[S]);x.length?this._events[v]=x.length===1?x[0]:x:c(this,v)}return this},h.prototype.removeAllListeners=function(f){var m;return f?(m=e?e+f:f,this._events[m]&&c(this,m)):(this._events=new i,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=e,h.EventEmitter=h,n.exports=h})(Up)),Up.exports}var RN=NN();const Ui=ha(RN),DN=Math.PI*2,ON=180/Math.PI,BN=Math.PI/180;class vn{constructor(t=0,e=0){this.x=0,this.y=0,this.x=t,this.y=e}clone(){return new vn(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,e=t){return this.x=t,this.y=e,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Fp.x=0,Fp.y=0,Fp}}const Fp=new vn;class le{constructor(t=1,e=0,i=0,a=1,l=0,c=0){this.array=null,this.a=t,this.b=e,this.c=i,this.d=a,this.tx=l,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,e,i,a,l,c){return this.a=t,this.b=e,this.c=i,this.d=a,this.tx=l,this.ty=c,this}toArray(t,e){this.array||(this.array=new Float32Array(9));const i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(t,e){e=e||new vn;const i=t.x,a=t.y;return e.x=this.a*i+this.c*a+this.tx,e.y=this.b*i+this.d*a+this.ty,e}applyInverse(t,e){e=e||new vn;const i=this.a,a=this.b,l=this.c,c=this.d,h=this.tx,d=this.ty,f=1/(i*c+l*-a),m=t.x,y=t.y;return e.x=c*f*m+-l*f*y+(d*l-h*c)*f,e.y=i*f*y+-a*f*m+(-d*i+h*a)*f,e}translate(t,e){return this.tx+=t,this.ty+=e,this}scale(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),a=this.a,l=this.c,c=this.tx;return this.a=a*e-this.b*i,this.b=a*i+this.b*e,this.c=l*e-this.d*i,this.d=l*i+this.d*e,this.tx=c*e-this.ty*i,this.ty=c*i+this.ty*e,this}append(t){const e=this.a,i=this.b,a=this.c,l=this.d;return this.a=t.a*e+t.b*a,this.b=t.a*i+t.b*l,this.c=t.c*e+t.d*a,this.d=t.c*i+t.d*l,this.tx=t.tx*e+t.ty*a+this.tx,this.ty=t.tx*i+t.ty*l+this.ty,this}appendFrom(t,e){const i=t.a,a=t.b,l=t.c,c=t.d,h=t.tx,d=t.ty,f=e.a,m=e.b,y=e.c,_=e.d;return this.a=i*f+a*y,this.b=i*m+a*_,this.c=l*f+c*y,this.d=l*m+c*_,this.tx=h*f+d*y+e.tx,this.ty=h*m+d*_+e.ty,this}setTransform(t,e,i,a,l,c,h,d,f){return this.a=Math.cos(h+f)*l,this.b=Math.sin(h+f)*l,this.c=-Math.sin(h-d)*c,this.d=Math.cos(h-d)*c,this.tx=t-(i*this.a+a*this.c),this.ty=e-(i*this.b+a*this.d),this}prepend(t){const e=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const i=this.a,a=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=a*t.a+this.d*t.c,this.d=a*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this}decompose(t){const e=this.a,i=this.b,a=this.c,l=this.d,c=t.pivot,h=-Math.atan2(-a,l),d=Math.atan2(i,e),f=Math.abs(h+d);return f<1e-5||Math.abs(DN-f)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=h,t.skew.y=d),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(a*a+l*l),t.position.x=this.tx+(c.x*e+c.y*a),t.position.y=this.ty+(c.x*i+c.y*l),t}invert(){const t=this.a,e=this.b,i=this.c,a=this.d,l=this.tx,c=t*a-e*i;return this.a=a/c,this.b=-e/c,this.c=-i/c,this.d=t/c,this.tx=(i*this.ty-a*l)/c,this.ty=-(t*this.ty-e*l)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new le;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return zN.identity()}static get shared(){return IN.identity()}}const IN=new le,zN=new le,Zr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Qr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Kr=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Jr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],vm=[],mx=[],Zu=Math.sign;function LN(){for(let n=0;n<16;n++){const t=[];vm.push(t);for(let e=0;e<16;e++){const i=Zu(Zr[n]*Zr[e]+Kr[n]*Qr[e]),a=Zu(Qr[n]*Zr[e]+Jr[n]*Qr[e]),l=Zu(Zr[n]*Kr[e]+Kr[n]*Jr[e]),c=Zu(Qr[n]*Kr[e]+Jr[n]*Jr[e]);for(let h=0;h<16;h++)if(Zr[h]===i&&Qr[h]===a&&Kr[h]===l&&Jr[h]===c){t.push(h);break}}}for(let n=0;n<16;n++){const t=new le;t.set(Zr[n],Qr[n],Kr[n],Jr[n],0,0),mx.push(t)}}LN();const Te={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Zr[n],uY:n=>Qr[n],vX:n=>Kr[n],vY:n=>Jr[n],inv:n=>n&8?n&15:-n&7,add:(n,t)=>vm[n][t],sub:(n,t)=>vm[n][Te.inv(t)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,t)=>Math.abs(n)*2<=Math.abs(t)?t>=0?Te.S:Te.N:Math.abs(t)*2<=Math.abs(n)?n>0?Te.E:Te.W:t>0?n>0?Te.SE:Te.SW:n>0?Te.NE:Te.NW,matrixAppendRotationInv:(n,t,e=0,i=0)=>{const a=mx[Te.inv(t)];a.tx=e,a.ty=i,n.append(a)}},Qu=[new vn,new vn,new vn,new vn];class dn{constructor(t=0,e=0,i=0,a=0){this.type="rectangle",this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(a)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new dn(0,0,0,0)}clone(){return new dn(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}strokeContains(t,e,i){const{width:a,height:l}=this;if(a<=0||l<=0)return!1;const c=this.x,h=this.y,d=c-i/2,f=c+a+i/2,m=h-i/2,y=h+l+i/2,_=c+i/2,v=c+a-i/2,w=h+i/2,S=h+l-i/2;return t>=d&&t<=f&&e>=m&&e<=y&&!(t>_&&t<v&&e>w&&e<S)}intersects(t,e){if(!e){const L=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=L)return!1;const H=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>H}const i=this.left,a=this.right,l=this.top,c=this.bottom;if(a<=i||c<=l)return!1;const h=Qu[0].set(t.left,t.top),d=Qu[1].set(t.left,t.bottom),f=Qu[2].set(t.right,t.top),m=Qu[3].set(t.right,t.bottom);if(f.x<=h.x||d.y<=h.y)return!1;const y=Math.sign(e.a*e.d-e.b*e.c);if(y===0||(e.apply(h,h),e.apply(d,d),e.apply(f,f),e.apply(m,m),Math.max(h.x,d.x,f.x,m.x)<=i||Math.min(h.x,d.x,f.x,m.x)>=a||Math.max(h.y,d.y,f.y,m.y)<=l||Math.min(h.y,d.y,f.y,m.y)>=c))return!1;const _=y*(d.y-h.y),v=y*(h.x-d.x),w=_*i+v*l,S=_*a+v*l,x=_*i+v*c,T=_*a+v*c;if(Math.max(w,S,x,T)<=_*h.x+v*h.y||Math.min(w,S,x,T)>=_*m.x+v*m.y)return!1;const k=y*(h.y-f.y),R=y*(f.x-h.x),U=k*i+R*l,O=k*a+R*l,j=k*i+R*c,z=k*a+R*c;return!(Math.max(U,O,j,z)<=k*h.x+R*h.y||Math.min(U,O,j,z)>=k*m.x+R*m.y)}pad(t=0,e=t){return this.x-=t,this.y-=e,this.width+=t*2,this.height+=e*2,this}fit(t){const e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),a=Math.max(this.y,t.y),l=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=a,this.height=Math.max(l-a,0),this}ceil(t=1,e=.001){const i=Math.ceil((this.x+this.width-e)*t)/t,a=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=a-this.y,this}enlarge(t){const e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),a=Math.min(this.y,t.y),l=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=a,this.height=l-a,this}getBounds(t){return t=t||new dn,t.copyFrom(this),t}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Vp={default:-1};function fn(n="default"){return Vp[n]===void 0&&(Vp[n]=-1),++Vp[n]}const qw={},Ne="8.0.0";function Re(n,t,e=3){if(qw[t])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${n}`):(i=i.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${n}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${n}`),console.warn(i))),qw[t]=!0}const gx=()=>{};function VL(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function Gw(n){return!(n&n-1)&&!!n}function PN(n){const t={};for(const e in n)n[e]!==void 0&&(t[e]=n[e]);return t}const Yw=Object.create(null);function jN(n){const t=Yw[n];return t===void 0&&(Yw[n]=fn("resource")),t}const yx=class _x extends Ui{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={..._x.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){Re(Ne,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=jN(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};yx.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let UN=yx;const vx=class wx extends Ui{constructor(t={}){super(),this.options=t,this.uid=fn("textureSource"),this._resourceType="textureSource",this._resourceId=fn("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...wx.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new UN(PN(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){this.style!==t&&(this._style?.off("change",this._onStyleChange,this),this._style=t,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=fn("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,e,i){i=i||this._resolution,t=t||this.width,e=e||this.height;const a=Math.round(t*i),l=Math.round(e*i);return this.width=a/i,this.height=l/i,this._resolution=i,this.pixelWidth===a&&this.pixelHeight===l?!1:(this._refreshPOT(),this.pixelWidth=a,this.pixelHeight=l,this.emit("resize",this),this._resourceId=fn("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=Gw(this.pixelWidth)&&Gw(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};vx.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let Cr=vx;class gg extends Cr{constructor(t){const e=t.resource||new Float32Array(t.width*t.height*4);let i=t.format;i||(e instanceof Float32Array?i="rgba32float":e instanceof Int32Array||e instanceof Uint32Array?i="rgba32uint":e instanceof Int16Array||e instanceof Uint16Array?i="rgba16uint":(e instanceof Int8Array,i="bgra8unorm")),super({...t,resource:e,format:i}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}gg.extension=Rt.TextureSource;const Ww=new le;class FN{constructor(t,e){this.mapCoord=new le,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof e>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=e,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){this.texture!==t&&(this._texture?.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,e){e===void 0&&(e=t);const i=this.mapCoord;for(let a=0;a<t.length;a+=2){const l=t[a],c=t[a+1];e[a]=l*i.a+c*i.c+i.tx,e[a+1]=l*i.b+c*i.d+i.ty}return e}update(){const t=this._texture;this._updateID++;const e=t.uvs;this.mapCoord.set(e.x1-e.x0,e.y1-e.y0,e.x3-e.x0,e.y3-e.y0,e.x0,e.y0);const i=t.orig,a=t.trim;a&&(Ww.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(Ww));const l=t.source,c=this.uClampFrame,h=this.clampMargin/l._resolution,d=this.clampOffset;return c[0]=(t.frame.x+h+d)/l.width,c[1]=(t.frame.y+h+d)/l.height,c[2]=(t.frame.x+t.frame.width-h+d)/l.width,c[3]=(t.frame.y+t.frame.height-h+d)/l.height,this.uClampOffset[0]=d/l.pixelWidth,this.uClampOffset[1]=d/l.pixelHeight,this.isSimple=t.frame.width===l.width&&t.frame.height===l.height&&t.rotate===0,!0}}class Jt extends Ui{constructor({source:t,label:e,frame:i,orig:a,trim:l,defaultAnchor:c,defaultBorders:h,rotate:d,dynamic:f}={}){if(super(),this.uid=fn("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new dn,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=e,this.source=t?.source??new Cr,this.noFrame=!i,i)this.frame.copyFrom(i);else{const{width:m,height:y}=this._source;this.frame.width=m,this.frame.height=y}this.orig=a||this.frame,this.trim=l,this.rotate=d??0,this.defaultAnchor=c,this.defaultBorders=h,this.destroyed=!1,this.dynamic=f||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new FN(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:e}=this,{width:i,height:a}=this._source,l=e.x/i,c=e.y/a,h=e.width/i,d=e.height/a;let f=this.rotate;if(f){const m=h/2,y=d/2,_=l+m,v=c+y;f=Te.add(f,Te.NW),t.x0=_+m*Te.uX(f),t.y0=v+y*Te.uY(f),f=Te.add(f,2),t.x1=_+m*Te.uX(f),t.y1=v+y*Te.uY(f),f=Te.add(f,2),t.x2=_+m*Te.uX(f),t.y2=v+y*Te.uY(f),f=Te.add(f,2),t.x3=_+m*Te.uX(f),t.y3=v+y*Te.uY(f)}else t.x0=l,t.y0=c,t.x1=l+h,t.y1=c,t.x2=l+h,t.y2=c+d,t.x3=l,t.y3=c+d}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return Re(Ne,"Texture.baseTexture is now Texture.source"),this._source}}Jt.EMPTY=new Jt({label:"EMPTY",source:new Cr({label:"EMPTY"})});Jt.EMPTY.destroy=gx;Jt.WHITE=new Jt({source:new gg({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Jt.WHITE.destroy=gx;function VN(n,t,e,i){const{width:a,height:l}=e.orig,c=e.trim;if(c){const h=c.width,d=c.height;n.minX=c.x-t._x*a-i,n.maxX=n.minX+h,n.minY=c.y-t._y*l-i,n.maxY=n.minY+d}else n.minX=-t._x*a-i,n.maxX=n.minX+a,n.minY=-t._y*l-i,n.maxY=n.minY+l}var HN={grad:.9,turn:360,rad:360/(2*Math.PI)},Ei=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},tn=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=Math.pow(10,t)),Math.round(e*n)/e+0},vs=function(n,t,e){return t===void 0&&(t=0),e===void 0&&(e=1),n>e?e:n>t?n:t},bx=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},Xw=function(n){return{r:vs(n.r,0,255),g:vs(n.g,0,255),b:vs(n.b,0,255),a:vs(n.a)}},Hp=function(n){return{r:tn(n.r),g:tn(n.g),b:tn(n.b),a:tn(n.a,3)}},qN=/^#([0-9a-f]{3,8})$/i,Ku=function(n){var t=n.toString(16);return t.length<2?"0"+t:t},xx=function(n){var t=n.r,e=n.g,i=n.b,a=n.a,l=Math.max(t,e,i),c=l-Math.min(t,e,i),h=c?l===t?(e-i)/c:l===e?2+(i-t)/c:4+(t-e)/c:0;return{h:60*(h<0?h+6:h),s:l?c/l*100:0,v:l/255*100,a}},Sx=function(n){var t=n.h,e=n.s,i=n.v,a=n.a;t=t/360*6,e/=100,i/=100;var l=Math.floor(t),c=i*(1-e),h=i*(1-(t-l)*e),d=i*(1-(1-t+l)*e),f=l%6;return{r:255*[i,h,c,c,d,i][f],g:255*[d,i,i,h,c,c][f],b:255*[c,c,d,i,i,h][f],a}},$w=function(n){return{h:bx(n.h),s:vs(n.s,0,100),l:vs(n.l,0,100),a:vs(n.a)}},Zw=function(n){return{h:tn(n.h),s:tn(n.s),l:tn(n.l),a:tn(n.a,3)}},Qw=function(n){return Sx((e=(t=n).s,{h:t.h,s:(e*=((i=t.l)<50?i:100-i)/100)>0?2*e/(i+e)*100:0,v:i+e,a:t.a}));var t,e,i},Kl=function(n){return{h:(t=xx(n)).h,s:(a=(200-(e=t.s))*(i=t.v)/100)>0&&a<200?e*i/100/(a<=100?a:200-a)*100:0,l:a/2,a:t.a};var t,e,i,a},GN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,YN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,WN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,XN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wm={string:[[function(n){var t=qN.exec(n);return t?(n=t[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?tn(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?tn(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var t=WN.exec(n)||XN.exec(n);return t?t[2]!==t[4]||t[4]!==t[6]?null:Xw({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(n){var t=GN.exec(n)||YN.exec(n);if(!t)return null;var e,i,a=$w({h:(e=t[1],i=t[2],i===void 0&&(i="deg"),Number(e)*(HN[i]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Qw(a)},"hsl"]],object:[[function(n){var t=n.r,e=n.g,i=n.b,a=n.a,l=a===void 0?1:a;return Ei(t)&&Ei(e)&&Ei(i)?Xw({r:Number(t),g:Number(e),b:Number(i),a:Number(l)}):null},"rgb"],[function(n){var t=n.h,e=n.s,i=n.l,a=n.a,l=a===void 0?1:a;if(!Ei(t)||!Ei(e)||!Ei(i))return null;var c=$w({h:Number(t),s:Number(e),l:Number(i),a:Number(l)});return Qw(c)},"hsl"],[function(n){var t=n.h,e=n.s,i=n.v,a=n.a,l=a===void 0?1:a;if(!Ei(t)||!Ei(e)||!Ei(i))return null;var c=(function(h){return{h:bx(h.h),s:vs(h.s,0,100),v:vs(h.v,0,100),a:vs(h.a)}})({h:Number(t),s:Number(e),v:Number(i),a:Number(l)});return Sx(c)},"hsv"]]},Kw=function(n,t){for(var e=0;e<t.length;e++){var i=t[e][0](n);if(i)return[i,t[e][1]]}return[null,void 0]},$N=function(n){return typeof n=="string"?Kw(n.trim(),wm.string):typeof n=="object"&&n!==null?Kw(n,wm.object):[null,void 0]},qp=function(n,t){var e=Kl(n);return{h:e.h,s:vs(e.s+100*t,0,100),l:e.l,a:e.a}},Gp=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},Jw=function(n,t){var e=Kl(n);return{h:e.h,s:e.s,l:vs(e.l+100*t,0,100),a:e.a}},bm=(function(){function n(t){this.parsed=$N(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return tn(Gp(this.rgba),2)},n.prototype.isDark=function(){return Gp(this.rgba)<.5},n.prototype.isLight=function(){return Gp(this.rgba)>=.5},n.prototype.toHex=function(){return t=Hp(this.rgba),e=t.r,i=t.g,a=t.b,c=(l=t.a)<1?Ku(tn(255*l)):"","#"+Ku(e)+Ku(i)+Ku(a)+c;var t,e,i,a,l,c},n.prototype.toRgb=function(){return Hp(this.rgba)},n.prototype.toRgbString=function(){return t=Hp(this.rgba),e=t.r,i=t.g,a=t.b,(l=t.a)<1?"rgba("+e+", "+i+", "+a+", "+l+")":"rgb("+e+", "+i+", "+a+")";var t,e,i,a,l},n.prototype.toHsl=function(){return Zw(Kl(this.rgba))},n.prototype.toHslString=function(){return t=Zw(Kl(this.rgba)),e=t.h,i=t.s,a=t.l,(l=t.a)<1?"hsla("+e+", "+i+"%, "+a+"%, "+l+")":"hsl("+e+", "+i+"%, "+a+"%)";var t,e,i,a,l},n.prototype.toHsv=function(){return t=xx(this.rgba),{h:tn(t.h),s:tn(t.s),v:tn(t.v),a:tn(t.a,3)};var t},n.prototype.invert=function(){return Gs({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},n.prototype.saturate=function(t){return t===void 0&&(t=.1),Gs(qp(this.rgba,t))},n.prototype.desaturate=function(t){return t===void 0&&(t=.1),Gs(qp(this.rgba,-t))},n.prototype.grayscale=function(){return Gs(qp(this.rgba,-1))},n.prototype.lighten=function(t){return t===void 0&&(t=.1),Gs(Jw(this.rgba,t))},n.prototype.darken=function(t){return t===void 0&&(t=.1),Gs(Jw(this.rgba,-t))},n.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},n.prototype.alpha=function(t){return typeof t=="number"?Gs({r:(e=this.rgba).r,g:e.g,b:e.b,a:t}):tn(this.rgba.a,3);var e},n.prototype.hue=function(t){var e=Kl(this.rgba);return typeof t=="number"?Gs({h:t,s:e.s,l:e.l,a:e.a}):tn(e.h)},n.prototype.isEqual=function(t){return this.toHex()===Gs(t).toHex()},n})(),Gs=function(n){return n instanceof bm?n:new bm(n)},tb=[],ZN=function(n){n.forEach(function(t){tb.indexOf(t)<0&&(t(bm,wm),tb.push(t))})};function QN(n,t){var e={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var a in e)i[e[a]]=a;var l={};n.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var h,d,f=i[this.toHex()];if(f)return f;if(c?.closest){var m=this.toRgb(),y=1/0,_="black";if(!l.length)for(var v in e)l[v]=new n(e[v]).toRgb();for(var w in e){var S=(h=m,d=l[w],Math.pow(h.r-d.r,2)+Math.pow(h.g-d.g,2)+Math.pow(h.b-d.b,2));S<y&&(y=S,_=w)}return _}},t.string.push([function(c){var h=c.toLowerCase(),d=h==="transparent"?"#0000":e[h];return d?new n(d).toRgb():null},"name"])}ZN([QN]);const So=class Xl{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Xl)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._normalize(t),this._value=this._cloneSource(t))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,e){const i=typeof t;if(i!==typeof e)return!1;if(i==="number"||i==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((l,c)=>l===e[c]);if(t!==null&&e!==null){const l=Object.keys(t),c=Object.keys(e);return l.length!==c.length?!1:l.every(h=>t[h]===e[h])}return t===e}toRgba(){const[t,e,i,a]=this._components;return{r:t,g:e,b:i,a}}toRgb(){const[t,e,i]=this._components;return{r:t,g:e,b:i}}toRgbaString(){const[t,e,i]=this.toUint8RgbArray();return`rgba(${t},${e},${i},${this.alpha})`}toUint8RgbArray(t){const[e,i,a]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb,t[0]=Math.round(e*255),t[1]=Math.round(i*255),t[2]=Math.round(a*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t=t||this._arrayRgba;const[e,i,a,l]=this._components;return t[0]=e,t[1]=i,t[2]=a,t[3]=l,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t=t||this._arrayRgb;const[e,i,a]=this._components;return t[0]=e,t[1]=i,t[2]=a,t}toNumber(){return this._int}toBgrNumber(){const[t,e,i]=this.toUint8RgbArray();return(i<<16)+(e<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,i,a,l]=Xl._temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=i,this._components[2]*=a,this._components[3]*=l,this._refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let i=this._int>>16&255,a=this._int>>8&255,l=this._int&255;return e&&(i=i*t+.5|0,a=a*t+.5|0,l=l*t+.5|0),(t*255<<24)+(i<<16)+(a<<8)+l}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let e,i,a,l;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;e=(c>>16&255)/255,i=(c>>8&255)/255,a=(c&255)/255,l=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,i,a,l=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,i,a,l=255]=t,e/=255,i/=255,a/=255,l/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const h=Xl.HEX_PATTERN.exec(t);h&&(t=`#${h[2]}`)}const c=Gs(t);c.isValid()&&({r:e,g:i,b:a,a:l}=c.rgba,e/=255,i/=255,a/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=i,this._components[2]=a,this._components[3]=l,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,e,i]=this._components;this._int=(t*255<<16)+(e*255<<8)+(i*255|0)}_clamp(t,e=0,i=1){return typeof t=="number"?Math.min(Math.max(t,e),i):(t.forEach((a,l)=>{t[l]=Math.min(Math.max(a,e),i)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Xl||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};So.shared=new So;So._temp=new So;So.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Un=So;const KN={cullArea:null,cullable:!1,cullableChildren:!0};function JN(n,t,e){const i=n.length;let a;if(t>=i||e===0)return;e=t+e>i?i-t:e;const l=i-e;for(a=t;a<l;++a)n[a]=n[a+e];n.length=l}const tR={allowChildren:!0,removeChildren(n=0,t){const e=t??this.children.length,i=e-n,a=[];if(i>0&&i<=e){for(let c=e-1;c>=n;c--){const h=this.children[c];h&&(a.push(h),h.parent=null)}JN(this.children,n,e);const l=this.renderGroup||this.parentRenderGroup;l&&l.removeChildren(a);for(let c=0;c<a.length;++c)this.emit("childRemoved",a[c],this,c),a[c].emit("removed",this);return a}else if(i===0&&this.children.length===0)return a;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(n){const t=this.getChildAt(n);return this.removeChild(t)},getChildAt(n){if(n<0||n>=this.children.length)throw new Error(`getChildAt: Index (${n}) does not exist.`);return this.children[n]},setChildIndex(n,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(n),this.addChildAt(n,t)},getChildIndex(n){const t=this.children.indexOf(n);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(n,t){this.allowChildren||Re(Ne,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:e}=this;if(t<0||t>e.length)throw new Error(`${n}addChildAt: The index ${t} supplied is out of bounds ${e.length}`);if(n.parent){const a=n.parent.children.indexOf(n);if(n.parent===this&&a===t)return n;a!==-1&&n.parent.children.splice(a,1)}t===e.length?e.push(n):e.splice(t,0,n),n.parent=this,n.didChange=!0,n.didViewUpdate=!1,n._updateFlags=15;const i=this.renderGroup||this.parentRenderGroup;return i&&i.addChild(n),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",n,this,t),n.emit("added",this),n},swapChildren(n,t){if(n===t)return;const e=this.getChildIndex(n),i=this.getChildIndex(t);this.children[e]=t,this.children[i]=n},removeFromParent(){this.parent?.removeChild(this)}};class eb{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class yg{constructor(t,e){this._pool=[],this._count=0,this._index=0,this._classType=t,e&&this.prepopulate(e)}prepopulate(t){for(let e=0;e<t;e++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){let e;return this._index>0?e=this._pool[--this._index]:e=new this._classType,e.init?.(t),e}return(t){t.reset?.(),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}}class eR{constructor(){this._poolsByClass=new Map}prepopulate(t,e){this.getPool(t).prepopulate(e)}get(t,e){return this.getPool(t).get(e)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new yg(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(e=>{const i=t[e._classType.name]?e._classType.name+e._classType.ID:e._classType.name;t[i]={free:e.totalFree,used:e.totalUsed,size:e.totalSize}}),t}}const Ni=new eR;class nR{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let e=0;e<this._tests.length;e++){const i=this._tests[e];if(i.test(t))return Ni.get(i.maskClass,t)}return t}returnMaskEffect(t){Ni.return(t)}}const xm=new nR;xs.handleByList(Rt.MaskEffect,xm._effectClasses);const sR={_maskEffect:null,_filterEffect:null,effects:[],addEffect(n){if(this.effects.indexOf(n)!==-1)return;this.effects.push(n),this.effects.sort((i,a)=>i.priority-a.priority);const e=this.renderGroup||this.parentRenderGroup;e&&(e.structureDidChange=!0),this._updateIsSimple()},removeEffect(n){const t=this.effects.indexOf(n);t!==-1&&(this.effects.splice(t,1),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateIsSimple())},set mask(n){const t=this._maskEffect;t?.mask!==n&&(t&&(this.removeEffect(t),xm.returnMaskEffect(t),this._maskEffect=null),n!=null&&(this._maskEffect=xm.getMaskEffect(n),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},set filters(n){!Array.isArray(n)&&n&&(n=[n]);const t=this._filterEffect||(this._filterEffect=new eb);n=n;const e=n?.length>0,i=t.filters?.length>0,a=e!==i;n=Array.isArray(n)?n.slice(0):n,t.filters=Object.freeze(n),a&&(e?this.addEffect(t):(this.removeEffect(t),t.filters=n??null))},get filters(){return this._filterEffect?.filters},set filterArea(n){this._filterEffect||(this._filterEffect=new eb),this._filterEffect.filterArea=n},get filterArea(){return this._filterEffect?.filterArea}},iR={label:null,get name(){return Re(Ne,"Container.name property has been removed, use Container.label instead"),this.label},set name(n){Re(Ne,"Container.name property has been removed, use Container.label instead"),this.label=n},getChildByName(n,t=!1){return this.getChildByLabel(n,t)},getChildByLabel(n,t=!1){const e=this.children;for(let i=0;i<e.length;i++){const a=e[i];if(a.label===n||n instanceof RegExp&&n.test(a.label))return a}if(t)for(let i=0;i<e.length;i++){const l=e[i].getChildByLabel(n,!0);if(l)return l}return null},getChildrenByLabel(n,t=!1,e=[]){const i=this.children;for(let a=0;a<i.length;a++){const l=i[a];(l.label===n||n instanceof RegExp&&n.test(l.label))&&e.push(l)}if(t)for(let a=0;a<i.length;a++)i[a].getChildrenByLabel(n,!0,e);return e}},nb=new le;class Js{constructor(t=1/0,e=1/0,i=-1/0,a=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=nb,this.minX=t,this.minY=e,this.maxX=i,this.maxY=a}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new dn);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=nb,this}set(t,e,i,a){this.minX=t,this.minY=e,this.maxX=i,this.maxY=a}addFrame(t,e,i,a,l){l||(l=this.matrix);const c=l.a,h=l.b,d=l.c,f=l.d,m=l.tx,y=l.ty;let _=this.minX,v=this.minY,w=this.maxX,S=this.maxY,x=c*t+d*e+m,T=h*t+f*e+y;x<_&&(_=x),T<v&&(v=T),x>w&&(w=x),T>S&&(S=T),x=c*i+d*e+m,T=h*i+f*e+y,x<_&&(_=x),T<v&&(v=T),x>w&&(w=x),T>S&&(S=T),x=c*t+d*a+m,T=h*t+f*a+y,x<_&&(_=x),T<v&&(v=T),x>w&&(w=x),T>S&&(S=T),x=c*i+d*a+m,T=h*i+f*a+y,x<_&&(_=x),T<v&&(v=T),x>w&&(w=x),T>S&&(S=T),this.minX=_,this.minY=v,this.maxX=w,this.maxY=S}addRect(t,e){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,e)}addBounds(t,e){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,e)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const e=this.minX,i=this.minY,a=this.maxX,l=this.maxY,{a:c,b:h,c:d,d:f,tx:m,ty:y}=t;let _=c*e+d*i+m,v=h*e+f*i+y;this.minX=_,this.minY=v,this.maxX=_,this.maxY=v,_=c*a+d*i+m,v=h*a+f*i+y,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY,_=c*e+d*l+m,v=h*e+f*l+y,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY,_=c*a+d*l+m,v=h*a+f*l+y,this.minX=_<this.minX?_:this.minX,this.minY=v<this.minY?v:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=v>this.maxY?v:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,e,i,a){return this.minX<t&&(this.minX=t),this.maxX>e&&(this.maxX=e),this.minY<i&&(this.minY=i),this.maxY>a&&(this.maxY=a),this}pad(t,e=t){return this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new Js(this.minX,this.minY,this.maxX,this.maxY)}scale(t,e=t){return this.minX*=t,this.minY*=e,this.maxX*=t,this.maxY*=e,this}get x(){return this.minX}set x(t){const e=this.maxX-this.minX;this.minX=t,this.maxX=t+e}get y(){return this.minY}set y(t){const e=this.maxY-this.minY;this.minY=t,this.maxY=t+e}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,e,i,a){let l=this.minX,c=this.minY,h=this.maxX,d=this.maxY;a||(a=this.matrix);const f=a.a,m=a.b,y=a.c,_=a.d,v=a.tx,w=a.ty;for(let S=e;S<i;S+=2){const x=t[S],T=t[S+1],k=f*x+y*T+v,R=m*x+_*T+w;l=k<l?k:l,c=R<c?R:c,h=k>h?k:h,d=R>d?R:d}this.minX=l,this.minY=c,this.maxX=h,this.maxY=d}containsPoint(t,e){return this.minX<=t&&this.minY<=e&&this.maxX>=t&&this.maxY>=e}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}}const Ii=new yg(le),Ao=new yg(Js);function Ax(n,t,e){e.clear();let i,a;return n.parent?t?i=n.parent.worldTransform:(a=Ii.get().identity(),i=Ch(n,a)):i=le.IDENTITY,Tx(n,e,i,t),a&&Ii.return(a),e.isValid||e.set(0,0,0,0),e}function Tx(n,t,e,i){if(!n.visible||!n.measurable)return;let a;i?a=n.worldTransform:(n.updateLocalTransform(),a=Ii.get(),a.appendFrom(n.localTransform,e));const l=t,c=!!n.effects.length;if(c&&(t=Ao.get().clear()),n.boundsArea)t.addRect(n.boundsArea,a);else{n.addBounds&&(t.matrix=a,n.addBounds(t));for(let h=0;h<n.children.length;h++)Tx(n.children[h],t,a,i)}if(c){for(let h=0;h<n.effects.length;h++)n.effects[h].addBounds?.(t);l.addBounds(t,le.IDENTITY),Ao.return(t)}i||Ii.return(a)}function Ch(n,t){const e=n.parent;return e&&(Ch(e,t),e.updateLocalTransform(),t.append(e.localTransform)),t}let Yp=0;const sb=500;function pn(...n){Yp!==sb&&(Yp++,Yp===sb?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...n))}function Cx(n,t,e){return t.clear(),e||(e=le.IDENTITY),Ex(n,t,e,n,!0),t.isValid||t.set(0,0,0,0),t}function Ex(n,t,e,i,a){let l;if(a)l=Ii.get(),l=e.copyTo(l);else{if(!n.visible||!n.measurable)return;n.updateLocalTransform();const d=n.localTransform;l=Ii.get(),l.appendFrom(d,e)}const c=t,h=!!n.effects.length;if(h&&(t=Ao.get().clear()),n.boundsArea)t.addRect(n.boundsArea,l);else{n.renderPipeId&&(t.matrix=l,n.addBounds(t));const d=n.children;for(let f=0;f<d.length;f++)Ex(d[f],t,l,i,!1)}if(h){for(let d=0;d<n.effects.length;d++)n.effects[d].addLocalBounds?.(t,i);c.addBounds(t,le.IDENTITY),Ao.return(t)}Ii.return(l)}function Mx(n,t){const e=n.children;for(let i=0;i<e.length;i++){const a=e[i],l=(a.uid&255)<<24|a._didChangeId&16777215;t.data[t.index]!==l&&(t.data[t.index]=l,t.didChange=!0),t.index++,a.children.length&&Mx(a,t)}return t.didChange}const rR=new le,aR={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(n,t){const e=Math.sign(this.scale.x)||1;t!==0?this.scale.x=n/t*e:this.scale.x=e},_setHeight(n,t){const e=Math.sign(this.scale.y)||1;t!==0?this.scale.y=n/t*e:this.scale.y=e},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new Js});const n=this._localBoundsCacheData;return n.index=1,n.didChange=!1,n.data[0]!==this._didChangeId>>12&&(n.didChange=!0,n.data[0]=this._didChangeId>>12),Mx(this,n),n.didChange&&Cx(this,n.localBounds,rR),n.localBounds},getBounds(n,t){return Ax(this,n,t||new Js)}},oR={_onRender:null,set onRender(n){const t=this.renderGroup||this.parentRenderGroup;if(!n){this._onRender&&t?.removeOnRender(this),this._onRender=null;return}this._onRender||t?.addOnRender(this),this._onRender=n},get onRender(){return this._onRender}},lR={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(n){this._zIndex!==n&&(this._zIndex=n,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(cR))}};function cR(n,t){return n._zIndex-t._zIndex}const uR={getGlobalPosition(n=new vn,t=!1){return this.parent?this.parent.toGlobal(this._position,n,t):(n.x=this._position.x,n.y=this._position.y),n},toGlobal(n,t,e=!1){if(!e){this.updateLocalTransform();const i=Ch(this,new le);return i.append(this.localTransform),i.apply(n,t)}return this.worldTransform.apply(n,t)},toLocal(n,t,e,i){if(t&&(n=t.toGlobal(n,e,i)),!i){this.updateLocalTransform();const a=Ch(this,new le);return a.append(this.localTransform),a.applyInverse(n,e)}return this.worldTransform.applyInverse(n,e)}};class kx{constructor(){this.uid=fn("instructionSet"),this.instructions=[],this.instructionSize=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}class hR{constructor(t){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new le,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new kx,this._onRenderContainers=[],this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const e=t.children;for(let i=0;i<e.length;i++)this.addChild(e[i])}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const e=this.renderGroupChildren.indexOf(t);e>-1&&this.renderGroupChildren.splice(e,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const e=t.children;for(let i=0;i<e.length;i++)this.addChild(e[i])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const e=t.children;for(let i=0;i<e.length;i++)this.removeChild(e[i])}removeChildren(t){for(let e=0;e<t.length;e++)this.removeChild(t[e])}onChildUpdate(t){let e=this.childrenToUpdate[t.relativeRenderGroupDepth];e||(e=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),e.list[e.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(t.didViewUpdate=!1,this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t))}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(){for(let t=0;t<this._onRenderContainers.length;t++)this._onRenderContainers[t]._onRender()}getChildren(t=[]){const e=this.root.children;for(let i=0;i<e.length;i++)this._getChildren(e[i],t);return t}_getChildren(t,e=[]){if(e.push(t),t.renderGroup)return e;const i=t.children;for(let a=0;a<i.length;a++)this._getChildren(i[a],e);return e}}function dR(n,t,e={}){for(const i in t)!e[i]&&t[i]!==void 0&&(n[i]=t[i])}const Wp=new Ln(null),Xp=new Ln(null),$p=new Ln(null,1,1),ib=1,fR=2,Zp=4;class mn extends Ui{constructor(t={}){super(),this.uid=fn("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new le,this.relativeGroupTransform=new le,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Ln(this,0,0),this._scale=$p,this._pivot=Xp,this._skew=Wp,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didChangeId=0,this._didLocalTransformChangeId=-1,dR(this,t,{children:!0,parent:!0,effects:!0}),t.children?.forEach(e=>this.addChild(e)),this.effects=[],t.parent?.addChild(this)}static mixin(t){Object.defineProperties(mn.prototype,Object.getOwnPropertyDescriptors(t))}addChild(...t){if(this.allowChildren||Re(Ne,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let a=0;a<t.length;a++)this.addChild(t[a]);return t[0]}const e=t[0];if(e.parent===this)return this.children.splice(this.children.indexOf(e),1),this.children.push(e),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),e;e.parent&&e.parent.removeChild(e),this.children.push(e),this.sortableChildren&&(this.sortDirty=!0),e.parent=this,e.didChange=!0,e.didViewUpdate=!1,e._updateFlags=15;const i=this.renderGroup||this.parentRenderGroup;return i&&i.addChild(e),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this),this._didChangeId+=4096,e._zIndex!==0&&e.depthOfChildModified(),e}removeChild(...t){if(t.length>1){for(let a=0;a<t.length;a++)this.removeChild(t[a]);return t[0]}const e=t[0],i=this.children.indexOf(e);return i>-1&&(this._didChangeId+=4096,this.children.splice(i,1),this.renderGroup?this.renderGroup.removeChild(e):this.parentRenderGroup&&this.parentRenderGroup.removeChild(e),e.parent=null,this.emit("childRemoved",e,this,i),e.emit("removed",this)),e}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didChangeId++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){if(this.renderGroup&&t===!1)throw new Error("[Pixi] cannot undo a render group just yet");t&&this.enableRenderGroup()}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t&&t.removeChild(this),this.renderGroup=new hR(this),t&&t.addChild(this),this._updateIsSimple(),this.groupTransform=le.IDENTITY}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new le),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*ON}set angle(t){this.rotation=t*BN}get pivot(){return this._pivot===Xp&&(this._pivot=new Ln(this,0,0)),this._pivot}set pivot(t){this._pivot===Xp&&(this._pivot=new Ln(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Wp&&(this._skew=new Ln(this,0,0)),this._skew}set skew(t){this._skew===Wp&&(this._skew=new Ln(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===$p&&(this._scale=new Ln(this,1,1)),this._scale}set scale(t){this._scale===$p&&(this._scale=new Ln(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const e=this.getLocalBounds().width;this._setWidth(t,e)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const e=this.getLocalBounds().height;this._setHeight(t,e)}getSize(t){t||(t={});const e=this.getLocalBounds();return t.width=Math.abs(this.scale.x*e.width),t.height=Math.abs(this.scale.y*e.height),t}setSize(t,e){const i=this.getLocalBounds();let a,l;typeof t!="object"?(a=t,l=e??t):(a=t.width,l=t.height??t.width),a!==void 0&&this._setWidth(a,i.width),l!==void 0&&this._setHeight(l,i.height)}_updateSkew(){const t=this._rotation,e=this._skew;this._cx=Math.cos(t+e._y),this._sx=Math.sin(t+e._y),this._cy=-Math.sin(t-e._x),this._sy=Math.cos(t-e._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){if((this._didLocalTransformChangeId&15)===this._didChangeId)return;this._didLocalTransformChangeId=this._didChangeId;const t=this.localTransform,e=this._scale,i=this._pivot,a=this._position,l=e._x,c=e._y,h=i._x,d=i._y;t.a=this._cx*l,t.b=this._sx*l,t.c=this._cy*c,t.d=this._sy*c,t.tx=a._x-(h*t.a+d*t.c),t.ty=a._y-(h*t.b+d*t.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=ib,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const i=Un.shared.setValue(t??16777215).toBgrNumber();i!==this.localColor&&(this.localColor=i,this._updateFlags|=ib,this._onUpdate())}get tint(){const t=this.localColor;return((t&255)<<16)+(t&65280)+(t>>16&255)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=fR,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const e=t?1:0;(this.localDisplayStatus&2)>>1!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Zp,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const e=t?1:0;(this.localDisplayStatus&4)>>2!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Zp,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const e=t?1:0;(this.localDisplayStatus&1)!==e&&(this._updateFlags|=Zp,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){if(this.destroyed)return;this.destroyed=!0;const e=this.removeChildren(0,this.children.length);if(this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.children)for(let a=0;a<e.length;++a)e[a].destroy(t)}}mn.mixin(tR);mn.mixin(uR);mn.mixin(oR);mn.mixin(aR);mn.mixin(sR);mn.mixin(iR);mn.mixin(lR);mn.mixin(KN);class To extends mn{constructor(t=Jt.EMPTY){t instanceof Jt&&(t={texture:t});const{texture:e=Jt.EMPTY,anchor:i,roundPixels:a,width:l,height:c,...h}=t;super({label:"Sprite",...h}),this.renderPipeId="sprite",this.batched=!0,this._didSpriteUpdate=!1,this._bounds={minX:0,maxX:1,minY:0,maxY:0},this._sourceBounds={minX:0,maxX:1,minY:0,maxY:0},this._boundsDirty=!0,this._sourceBoundsDirty=!0,this._roundPixels=0,this._anchor=new Ln({_onUpdate:()=>{this.onViewUpdate()}}),i?this.anchor=i:e.defaultAnchor&&(this.anchor=e.defaultAnchor),this.texture=e,this.allowChildren=!1,this.roundPixels=a??!1,l&&(this.width=l),c&&(this.height=c)}static from(t,e=!1){return t instanceof Jt?new To(t):new To(Jt.from(t,e))}set texture(t){t||(t=Jt.EMPTY);const e=this._texture;e!==t&&(e&&e.dynamic&&e.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this.onViewUpdate())}get texture(){return this._texture}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get sourceBounds(){return this._sourceBoundsDirty&&(this._updateSourceBounds(),this._sourceBoundsDirty=!1),this._sourceBounds}containsPoint(t){const e=this.sourceBounds;return t.x>=e.maxX&&t.x<=e.minX&&t.y>=e.maxY&&t.y<=e.minY}addBounds(t){const e=this._texture.trim?this.sourceBounds:this.bounds;t.addFrame(e.minX,e.minY,e.maxX,e.maxY)}onViewUpdate(){if(this._didChangeId+=4096,this._didSpriteUpdate=!0,this._sourceBoundsDirty=this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}_updateBounds(){VN(this._bounds,this._anchor,this._texture,0)}_updateSourceBounds(){const t=this._anchor,e=this._texture,i=this._sourceBounds,{width:a,height:l}=e.orig;i.maxX=-t._x*a,i.minX=i.maxX+a,i.maxY=-t._y*l,i.minY=i.maxY+l}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._texture.destroy(i)}this._texture=null,this._bounds=null,this._sourceBounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width)}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,e){let i,a;typeof t!="object"?(i=t,a=e??t):(i=t.width,a=t.height??t.width),i!==void 0&&this._setWidth(i,this._texture.orig.width),a!==void 0&&this._setHeight(a,this._texture.orig.height)}}const pR=new Js;function Nx(n,t,e){const i=pR;n.measurable=!0,Ax(n,e,i),t.addBoundsMask(i),n.measurable=!1}function Rx(n,t,e){const i=Ao.get();n.measurable=!0;const a=Ii.get().identity(),l=Dx(n,e,a);Cx(n,i,l),n.measurable=!1,t.addBoundsMask(i),Ii.return(a),Ao.return(i)}function Dx(n,t,e){return n?(n!==t&&(Dx(n.parent,t,e),n.updateLocalTransform(),e.append(n.localTransform)),e):(pn("Mask bounds, renderable is not inside the root container"),e)}class Ox{constructor(t){this.priority=0,this.pipe="alphaMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof To),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,e){Nx(this.mask,t,e)}addLocalBounds(t,e){Rx(this.mask,t,e)}containsPoint(t,e){const i=this.mask;return e(i,t)}destroy(){this.reset()}static test(t){return t instanceof To}}Ox.extension=Rt.MaskEffect;class Bx{constructor(t){this.priority=0,this.pipe="colorMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}Bx.extension=Rt.MaskEffect;class Ix{constructor(t){this.priority=0,this.pipe="stencilMask",t?.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,e){Nx(this.mask,t,e)}addLocalBounds(t,e){Rx(this.mask,t,e)}containsPoint(t,e){const i=this.mask;return e(i,t)}destroy(){this.reset()}static test(t){return t instanceof mn}}Ix.extension=Rt.MaskEffect;const mR={createCanvas:(n,t)=>{const e=document.createElement("canvas");return e.width=n,e.height=t,e},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,t)=>fetch(n,t),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};let rb=mR;const en={get(){return rb},set(n){rb=n}};class zx extends Cr{constructor(t){t.resource||(t.resource=en.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity;const e=t.resource;(this.pixelWidth!==e.width||this.pixelWidth!==e.height)&&this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,e=this.height,i=this._resolution){const a=super.resize(t,e,i);return a&&this.resizeCanvas(),a}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}}zx.extension=Rt.TextureSource;class vc extends Cr{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const e=en.get().createCanvas(t.resource.width,t.resource.height);e.getContext("2d").drawImage(t.resource,0,0),t.resource=e,pn("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap}}vc.extension=Rt.TextureSource;var Eh=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Eh||{});class Qp{constructor(t,e=null,i=0,a=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=e,this.priority=i,this._once=a}match(t,e=null){return this._fn===t&&this._context===e}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const e=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),e}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const e=this.next;return this.next=t?null:e,this.previous=null,e}}const Lx=class ts{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Qp(null,null,1/0),this.deltaMS=1/ts.targetFPMS,this.elapsedMS=1/ts.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,i=Eh.NORMAL){return this._addListener(new Qp(t,e,i))}addOnce(t,e,i=Eh.NORMAL){return this._addListener(new Qp(t,e,i,!0))}_addListener(t){let e=this._head.next,i=this._head;if(!e)t.connect(i);else{for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,e){let i=this._head.next;for(;i;)i.match(t,e)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const l=t-this._lastFrame|0;if(l<this._minElapsedMS)return;this._lastFrame=t-l%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*ts.targetFPMS;const i=this._head;let a=i.next;for(;a;)a=a.emit(this);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,ts.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!ts._shared){const t=ts._shared=new ts;t.autoStart=!0,t._protected=!0}return ts._shared}static get system(){if(!ts._system){const t=ts._system=new ts;t.autoStart=!0,t._protected=!0}return ts._system}};Lx.targetFPMS=.06;let Di=Lx,Kp;async function Px(){return Kp??(Kp=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const e=await new Promise(c=>{const h=document.createElement("video");h.onloadeddata=()=>c(h),h.onerror=()=>c(null),h.autoplay=!1,h.crossOrigin="anonymous",h.preload="auto",h.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",h.load()});if(!e)return"premultiply-alpha-on-upload";const i=t.createTexture();t.bindTexture(t.TEXTURE_2D,i);const a=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,a),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,i,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const l=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,l),t.deleteFramebuffer(a),t.deleteTexture(i),t.getExtension("WEBGL_lose_context")?.loseContext(),l[0]<=l[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Kp}const Qh=class jx extends Cr{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...jx.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Di.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,e=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(e.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await Px(),this._load=new Promise((i,a)=>{this.isValid?i(this):(this._resolve=i,this._reject=a,e.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${e.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Di.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Di.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Di.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||globalThis.VideoFrame&&t instanceof VideoFrame}};Qh.extension=Rt.TextureSource;Qh.defaultOptions={...Cr.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Qh.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let ph=Qh;const Ds=(n,t,e=!1)=>(Array.isArray(n)||(n=[n]),t?n.map(i=>typeof i=="string"||e?t(i):i):n);class gR{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const e=this._cache.get(t);return e||pn(`[Assets] Asset id ${t} was not found in the Cache`),e}set(t,e){const i=Ds(t);let a;for(let d=0;d<this.parsers.length;d++){const f=this.parsers[d];if(f.test(e)){a=f.getCacheableAssets(i,e);break}}const l=new Map(Object.entries(a||{}));a||i.forEach(d=>{l.set(d,e)});const c=[...l.keys()],h={cacheKeys:c,keys:i};i.forEach(d=>{this._cacheMap.set(d,h)}),c.forEach(d=>{const f=a?a[d]:e;this._cache.has(d)&&this._cache.get(d)!==f&&pn("[Cache] already has key:",d),this._cache.set(d,l.get(d))})}remove(t){if(!this._cacheMap.has(t)){pn(`[Assets] Asset id ${t} was not found in the Cache`);return}const e=this._cacheMap.get(t);e.cacheKeys.forEach(a=>{this._cache.delete(a)}),e.keys.forEach(a=>{this._cacheMap.delete(a)})}get parsers(){return this._parsers}}const Cn=new gR,Sm=[];xs.handleByList(Rt.TextureSource,Sm);function yR(n={}){const t=n&&n.resource,e=t?n.resource:n,i=t?n:{resource:n};for(let a=0;a<Sm.length;a++){const l=Sm[a];if(l.test(e))return new l(i)}throw new Error(`Could not find a source type for resource: ${i.resource}`)}function _R(n={},t=!1){const e=n&&n.resource,i=e?n.resource:n,a=e?n:{resource:n};if(!t&&Cn.has(i))return Cn.get(i);const l=new Jt({source:yR(a)});return l.on("destroy",()=>{Cn.has(i)&&Cn.remove(i)}),t||Cn.set(i,l),l}function vR(n,t=!1){return typeof n=="string"?Cn.get(n):n instanceof Cr?new Jt({source:n}):_R(n,t)}Jt.from=vR;xs.add(Ox,Bx,Ix,ph,vc,zx,gg);var ma=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(ma||{});function ks(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function ql(n){return n.split("?")[0].split("#")[0]}function wR(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bR(n,t,e){return n.replace(new RegExp(wR(t),"g"),e)}function xR(n,t){let e="",i=0,a=-1,l=0,c=-1;for(let h=0;h<=n.length;++h){if(h<n.length)c=n.charCodeAt(h);else{if(c===47)break;c=47}if(c===47){if(!(a===h-1||l===1))if(a!==h-1&&l===2){if(e.length<2||i!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){const d=e.lastIndexOf("/");if(d!==e.length-1){d===-1?(e="",i=0):(e=e.slice(0,d),i=e.length-1-e.lastIndexOf("/")),a=h,l=0;continue}}else if(e.length===2||e.length===1){e="",i=0,a=h,l=0;continue}}}else e.length>0?e+=`/${n.slice(a+1,h)}`:e=n.slice(a+1,h),i=h-a-1;a=h,l=0}else c===46&&l!==-1?++l:l=-1}return e}const ti={toPosix(n){return bR(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){ks(n),n=this.toPosix(n);const t=/^file:\/\/\//.exec(n);if(t)return t[0];const e=/^[^/:]+:\/{0,2}/.exec(n);return e?e[0]:""},toAbsolute(n,t,e){if(ks(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;const i=ql(this.toPosix(t??en.get().getBaseUrl())),a=ql(this.toPosix(e??this.rootname(i)));return n=this.toPosix(n),n.startsWith("/")?ti.join(a,n.slice(1)):this.isAbsolute(n)?n:this.join(i,n)},normalize(n){if(ks(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let t="";const e=n.startsWith("/");this.hasProtocol(n)&&(t=this.rootname(n),n=n.slice(t.length));const i=n.endsWith("/");return n=xR(n),n.length>0&&i&&(n+="/"),e?`/${n}`:t+n},isAbsolute(n){return ks(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let t;for(let e=0;e<n.length;++e){const i=n[e];if(ks(i),i.length>0)if(t===void 0)t=i;else{const a=n[e-1]??"";this.joinExtensions.includes(this.extname(a).toLowerCase())?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(n){if(ks(n),n.length===0)return".";n=this.toPosix(n);let t=n.charCodeAt(0);const e=t===47;let i=-1,a=!0;const l=this.getProtocol(n),c=n;n=n.slice(l.length);for(let h=n.length-1;h>=1;--h)if(t=n.charCodeAt(h),t===47){if(!a){i=h;break}}else a=!1;return i===-1?e?"/":this.isUrl(c)?l+n:l:e&&i===1?"//":l+n.slice(0,i)},rootname(n){ks(n),n=this.toPosix(n);let t="";if(n.startsWith("/")?t="/":t=this.getProtocol(n),this.isUrl(n)){const e=n.indexOf("/",t.length);e!==-1?t=n.slice(0,e):t=n,t.endsWith("/")||(t+="/")}return t},basename(n,t){ks(n),t&&ks(t),n=ql(this.toPosix(n));let e=0,i=-1,a=!0,l;if(t!==void 0&&t.length>0&&t.length<=n.length){if(t.length===n.length&&t===n)return"";let c=t.length-1,h=-1;for(l=n.length-1;l>=0;--l){const d=n.charCodeAt(l);if(d===47){if(!a){e=l+1;break}}else h===-1&&(a=!1,h=l+1),c>=0&&(d===t.charCodeAt(c)?--c===-1&&(i=l):(c=-1,i=h))}return e===i?i=h:i===-1&&(i=n.length),n.slice(e,i)}for(l=n.length-1;l>=0;--l)if(n.charCodeAt(l)===47){if(!a){e=l+1;break}}else i===-1&&(a=!1,i=l+1);return i===-1?"":n.slice(e,i)},extname(n){ks(n),n=ql(this.toPosix(n));let t=-1,e=0,i=-1,a=!0,l=0;for(let c=n.length-1;c>=0;--c){const h=n.charCodeAt(c);if(h===47){if(!a){e=c+1;break}continue}i===-1&&(a=!1,i=c+1),h===46?t===-1?t=c:l!==1&&(l=1):t!==-1&&(l=-1)}return t===-1||i===-1||l===0||l===1&&t===i-1&&t===e+1?"":n.slice(t,i)},parse(n){ks(n);const t={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return t;n=ql(this.toPosix(n));let e=n.charCodeAt(0);const i=this.isAbsolute(n);let a;t.root=this.rootname(n),i||this.hasProtocol(n)?a=1:a=0;let l=-1,c=0,h=-1,d=!0,f=n.length-1,m=0;for(;f>=a;--f){if(e=n.charCodeAt(f),e===47){if(!d){c=f+1;break}continue}h===-1&&(d=!1,h=f+1),e===46?l===-1?l=f:m!==1&&(m=1):l!==-1&&(m=-1)}return l===-1||h===-1||m===0||m===1&&l===h-1&&l===c+1?h!==-1&&(c===0&&i?t.base=t.name=n.slice(1,h):t.base=t.name=n.slice(c,h)):(c===0&&i?(t.name=n.slice(1,l),t.base=n.slice(1,h)):(t.name=n.slice(c,l),t.base=n.slice(c,h)),t.ext=n.slice(l,h)),t.dir=this.dirname(n),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function Ux(n,t,e,i,a){const l=t[e];for(let c=0;c<l.length;c++){const h=l[c];e<t.length-1?Ux(n.replace(i[e],h),t,e+1,i,a):a.push(n.replace(i[e],h))}}function SR(n){const t=/\{(.*?)\}/g,e=n.match(t),i=[];if(e){const a=[];e.forEach(l=>{const c=l.substring(1,l.length-1).split(",");a.push(c)}),Ux(n,a,0,e,i)}else i.push(n);return i}const Mh=n=>!Array.isArray(n);class Fo{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,e)=>`${t}${this._bundleIdConnector}${e}`,extractAssetIdFromBundle:(t,e)=>e.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(e=>{this._preferredOrder.push(e),e.priority||(e.priority=Object.keys(e.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const e=t;this._defaultSearchParams=Object.keys(e).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`).join("&")}}getAlias(t){const{alias:e,src:i}=t;return Ds(e||i,l=>typeof l=="string"?l:Array.isArray(l)?l.map(c=>c?.src??c):l?.src?l.src:l,!0)}addManifest(t){this._manifest&&pn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(e=>{this.addBundle(e.name,e.assets)})}addBundle(t,e){const i=[];let a=e;Array.isArray(e)||(a=Object.entries(e).map(([l,c])=>typeof c=="string"||Array.isArray(c)?{alias:l,src:c}:{alias:l,...c})),a.forEach(l=>{const c=l.src,h=l.alias;let d;if(typeof h=="string"){const f=this._createBundleAssetId(t,h);i.push(f),d=[h,f]}else{const f=h.map(m=>this._createBundleAssetId(t,m));i.push(...f),d=[...h,...f]}this.add({...l,alias:d,src:c})}),this._bundles[t]=i}add(t){const e=[];Array.isArray(t)?e.push(...t):e.push(t);let i;i=l=>{this.hasKey(l)&&pn(`[Resolver] already has key: ${l} overwriting`)},Ds(e).forEach(l=>{const{src:c}=l;let{data:h,format:d,loadParser:f}=l;const m=Ds(c).map(v=>typeof v=="string"?SR(v):Array.isArray(v)?v:[v]),y=this.getAlias(l);Array.isArray(y)?y.forEach(i):i(y);const _=[];m.forEach(v=>{v.forEach(w=>{let S={};if(typeof w!="object"){S.src=w;for(let x=0;x<this._parsers.length;x++){const T=this._parsers[x];if(T.test(w)){S=T.parse(w);break}}}else h=w.data??h,d=w.format??d,f=w.loadParser??f,S={...S,...w};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${S.src}`);S=this._buildResolvedAsset(S,{aliases:y,data:h,format:d,loadParser:f}),_.push(S)})}),y.forEach(v=>{this._assetMap[v]=_})})}resolveBundle(t){const e=Mh(t);t=Ds(t);const i={};return t.forEach(a=>{const l=this._bundles[a];if(l){const c=this.resolve(l),h={};for(const d in c){const f=c[d];h[this._extractAssetIdFromBundle(a,d)]=f}i[a]=h}}),e?i[t[0]]:i}resolveUrl(t){const e=this.resolve(t);if(typeof t!="string"){const i={};for(const a in e)i[a]=e[a].src;return i}return e.src}resolve(t){const e=Mh(t);t=Ds(t);const i={};return t.forEach(a=>{if(!this._resolverHash[a])if(this._assetMap[a]){let l=this._assetMap[a];const c=this._getPreferredOrder(l);c?.priority.forEach(h=>{c.params[h].forEach(d=>{const f=l.filter(m=>m[h]?m[h]===d:!1);f.length&&(l=f)})}),this._resolverHash[a]=l[0]}else this._resolverHash[a]=this._buildResolvedAsset({alias:[a],src:a},{});i[a]=this._resolverHash[a]}),e?i[t[0]]:i}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let e=0;e<t.length;e++){const i=t[0],a=this._preferredOrder.find(l=>l.params.format.includes(i.format));if(a)return a}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const e=/\?/.test(t)?"&":"?";return`${t}${e}${this._defaultSearchParams}`}_buildResolvedAsset(t,e){const{aliases:i,data:a,loadParser:l,format:c}=e;return(this._basePath||this._rootPath)&&(t.src=ti.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=i??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...a||{},...t.data},t.loadParser=l??t.loadParser,t.format=c??t.format??AR(t.src),t}}Fo.RETINA_PREFIX=/@([0-9\.]+)x/;function AR(n){return n.split(".").pop().split("?").shift().split("#").shift()}const ab=(n,t)=>{const e=t.split("?")[1];return e&&(n+=`?${e}`),n},Fx=class $l{constructor(t,e){this.linkedSheets=[],this._texture=t instanceof Jt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=e;const i=parseFloat(e.meta.scale);i?(this.resolution=i,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=$l.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const i=$l.BATCH_SIZE;for(;e-t<i&&e<this._frameKeys.length;){const a=this._frameKeys[e],l=this._frames[a],c=l.frame;if(c){let h=null,d=null;const f=l.trimmed!==!1&&l.sourceSize?l.sourceSize:l.frame,m=new dn(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);l.rotated?h=new dn(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):h=new dn(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),l.trimmed!==!1&&l.spriteSourceSize&&(d=new dn(Math.floor(l.spriteSourceSize.x)/this.resolution,Math.floor(l.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[a]=new Jt({source:this.textureSource,frame:h,orig:m,trim:d,rotate:l.rotated?2:0,defaultAnchor:l.anchor,defaultBorders:l.borders,label:a.toString()})}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const a=t[e][i];this.animations[e].push(this.textures[a])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*$l.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*$l.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){for(const e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};Fx.BATCH_SIZE=1e3;let ea=Fx;const TR=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function Vx(n,t,e){const i={};if(n.forEach(a=>{i[a]=t}),Object.keys(t.textures).forEach(a=>{i[a]=t.textures[a]}),!e){const a=ti.dirname(n[0]);t.linkedSheets.forEach((l,c)=>{const h=Vx([`${a}/${t.data.meta.related_multi_packs[c]}`],l,!0);Object.assign(i,h)})}return i}const CR={extension:Rt.Asset,cache:{test:n=>n instanceof ea,getCacheableAssets:(n,t)=>Vx(n,t,!1)},resolver:{test:n=>{const e=n.split("?")[0].split("."),i=e.pop(),a=e.pop();return i==="json"&&TR.includes(a)},parse:n=>{const t=n.split(".");return{resolution:parseFloat(Fo.RETINA_PREFIX.exec(n)?.[1]??"1"),format:t[t.length-2],src:n}}},loader:{name:"spritesheetLoader",extension:{type:Rt.LoadParser,priority:ma.Normal},async testParse(n,t){return ti.extname(t.src).toLowerCase()===".json"&&!!n.frames},async parse(n,t,e){const{texture:i,imageFilename:a}=t?.data??{};let l=ti.dirname(t.src);l&&l.lastIndexOf("/")!==l.length-1&&(l+="/");let c;if(i instanceof Jt)c=i;else{const f=ab(l+(a??n.meta.image),t.src);c=(await e.load([f]))[f]}const h=new ea(c.source,n);await h.parse();const d=n?.meta?.related_multi_packs;if(Array.isArray(d)){const f=[];for(const y of d){if(typeof y!="string")continue;let _=l+y;t.data?.ignoreMultiPack||(_=ab(_,t.src),f.push(e.load({src:_,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(f);h.linkedSheets=m,m.forEach(y=>{y.linkedSheets=[h].concat(h.linkedSheets.filter(_=>_!==y))})}return h},async unload(n,t,e){await e.unload(n.textureSource._sourceOrigin),n.destroy(!1)}}};xs.add(CR);let Ju;function ER(){return(!Ju||Ju?.isContextLost())&&(Ju=en.get().createCanvas().getContext("webgl",{})),Ju}class MR{constructor(t){this.resources=Object.create(null),this._dirty=!0;let e=0;for(const i in t){const a=t[i];this.setResource(a,e++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let e=0;for(const i in this.resources)t[e++]=this.resources[i]._resourceId;this._key=t.join("|")}setResource(t,e){const i=this.resources[e];t!==i&&(i&&t.off?.("change",this.onResourceChange,this),t.on?.("change",this.onResourceChange,this),this.resources[e]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const e=this.resources;for(const i in e)e[i]._touched=t}destroy(){const t=this.resources;for(const e in t)t[e].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const e=this.resources;for(const i in e)e[i]===t&&(e[i]=null)}else this._updateKey()}}const Am=[];xs.handleByNamedList(Rt.Environment,Am);async function kR(n){if(n)for(let t=0;t<Am.length;t++){const e=Am[t];if(e.value.test()){await e.value.load();return}}}let Gl;function NR(){if(typeof Gl=="boolean")return Gl;try{Gl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Gl=!1}return Gl}var th={exports:{}},ob;function RR(){if(ob)return th.exports;ob=1,th.exports=n,th.exports.default=n;function n(A,E,N){N=N||2;var B=E&&E.length,P=B?E[0]*N:A.length,C=t(A,0,P,N,!0),D=[];if(!C||C.next===C.prev)return D;var Y,st,et,mt,gt,ot,vt;if(B&&(C=d(A,E,C,N)),A.length>80*N){Y=et=A[0],st=mt=A[1];for(var xt=N;xt<P;xt+=N)gt=A[xt],ot=A[xt+1],gt<Y&&(Y=gt),ot<st&&(st=ot),gt>et&&(et=gt),ot>mt&&(mt=ot);vt=Math.max(et-Y,mt-st),vt=vt!==0?32767/vt:0}return i(C,D,N,Y,st,vt,0),D}function t(A,E,N,B,P){var C,D;if(P===ut(A,E,N,B)>0)for(C=E;C<N;C+=B)D=Q(C,A[C],A[C+1],D);else for(C=N-B;C>=E;C-=B)D=Q(C,A[C],A[C+1],D);return D&&U(D,D.next)&&(Z(D),D=D.next),D}function e(A,E){if(!A)return A;E||(E=A);var N=A,B;do if(B=!1,!N.steiner&&(U(N,N.next)||R(N.prev,N,N.next)===0)){if(Z(N),N=E=N.prev,N===N.next)break;B=!0}else N=N.next;while(B||N!==E);return E}function i(A,E,N,B,P,C,D){if(A){!D&&C&&v(A,B,P,C);for(var Y=A,st,et;A.prev!==A.next;){if(st=A.prev,et=A.next,C?l(A,B,P,C):a(A)){E.push(st.i/N|0),E.push(A.i/N|0),E.push(et.i/N|0),Z(A),A=et.next,Y=et.next;continue}if(A=et,A===Y){D?D===1?(A=c(e(A),E,N),i(A,E,N,B,P,C,2)):D===2&&h(A,E,N,B,P,C):i(e(A),E,N,B,P,C,1);break}}}}function a(A){var E=A.prev,N=A,B=A.next;if(R(E,N,B)>=0)return!1;for(var P=E.x,C=N.x,D=B.x,Y=E.y,st=N.y,et=B.y,mt=P<C?P<D?P:D:C<D?C:D,gt=Y<st?Y<et?Y:et:st<et?st:et,ot=P>C?P>D?P:D:C>D?C:D,vt=Y>st?Y>et?Y:et:st>et?st:et,xt=B.next;xt!==E;){if(xt.x>=mt&&xt.x<=ot&&xt.y>=gt&&xt.y<=vt&&T(P,Y,C,st,D,et,xt.x,xt.y)&&R(xt.prev,xt,xt.next)>=0)return!1;xt=xt.next}return!0}function l(A,E,N,B){var P=A.prev,C=A,D=A.next;if(R(P,C,D)>=0)return!1;for(var Y=P.x,st=C.x,et=D.x,mt=P.y,gt=C.y,ot=D.y,vt=Y<st?Y<et?Y:et:st<et?st:et,xt=mt<gt?mt<ot?mt:ot:gt<ot?gt:ot,Wt=Y>st?Y>et?Y:et:st>et?st:et,te=mt>gt?mt>ot?mt:ot:gt>ot?gt:ot,Ue=S(vt,xt,E,N,B),be=S(Wt,te,E,N,B),ft=A.prevZ,yt=A.nextZ;ft&&ft.z>=Ue&&yt&&yt.z<=be;){if(ft.x>=vt&&ft.x<=Wt&&ft.y>=xt&&ft.y<=te&&ft!==P&&ft!==D&&T(Y,mt,st,gt,et,ot,ft.x,ft.y)&&R(ft.prev,ft,ft.next)>=0||(ft=ft.prevZ,yt.x>=vt&&yt.x<=Wt&&yt.y>=xt&&yt.y<=te&&yt!==P&&yt!==D&&T(Y,mt,st,gt,et,ot,yt.x,yt.y)&&R(yt.prev,yt,yt.next)>=0))return!1;yt=yt.nextZ}for(;ft&&ft.z>=Ue;){if(ft.x>=vt&&ft.x<=Wt&&ft.y>=xt&&ft.y<=te&&ft!==P&&ft!==D&&T(Y,mt,st,gt,et,ot,ft.x,ft.y)&&R(ft.prev,ft,ft.next)>=0)return!1;ft=ft.prevZ}for(;yt&&yt.z<=be;){if(yt.x>=vt&&yt.x<=Wt&&yt.y>=xt&&yt.y<=te&&yt!==P&&yt!==D&&T(Y,mt,st,gt,et,ot,yt.x,yt.y)&&R(yt.prev,yt,yt.next)>=0)return!1;yt=yt.nextZ}return!0}function c(A,E,N){var B=A;do{var P=B.prev,C=B.next.next;!U(P,C)&&O(P,B,B.next,C)&&V(P,C)&&V(C,P)&&(E.push(P.i/N|0),E.push(B.i/N|0),E.push(C.i/N|0),Z(B),Z(B.next),B=A=C),B=B.next}while(B!==A);return e(B)}function h(A,E,N,B,P,C){var D=A;do{for(var Y=D.next.next;Y!==D.prev;){if(D.i!==Y.i&&k(D,Y)){var st=K(D,Y);D=e(D,D.next),st=e(st,st.next),i(D,E,N,B,P,C,0),i(st,E,N,B,P,C,0);return}Y=Y.next}D=D.next}while(D!==A)}function d(A,E,N,B){var P=[],C,D,Y,st,et;for(C=0,D=E.length;C<D;C++)Y=E[C]*B,st=C<D-1?E[C+1]*B:A.length,et=t(A,Y,st,B,!1),et===et.next&&(et.steiner=!0),P.push(x(et));for(P.sort(f),C=0;C<P.length;C++)N=m(P[C],N);return N}function f(A,E){return A.x-E.x}function m(A,E){var N=y(A,E);if(!N)return E;var B=K(N,A);return e(B,B.next),e(N,N.next)}function y(A,E){var N=E,B=A.x,P=A.y,C=-1/0,D;do{if(P<=N.y&&P>=N.next.y&&N.next.y!==N.y){var Y=N.x+(P-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(Y<=B&&Y>C&&(C=Y,D=N.x<N.next.x?N:N.next,Y===B))return D}N=N.next}while(N!==E);if(!D)return null;var st=D,et=D.x,mt=D.y,gt=1/0,ot;N=D;do B>=N.x&&N.x>=et&&B!==N.x&&T(P<mt?B:C,P,et,mt,P<mt?C:B,P,N.x,N.y)&&(ot=Math.abs(P-N.y)/(B-N.x),V(N,A)&&(ot<gt||ot===gt&&(N.x>D.x||N.x===D.x&&_(D,N)))&&(D=N,gt=ot)),N=N.next;while(N!==st);return D}function _(A,E){return R(A.prev,A,E.prev)<0&&R(E.next,A,A.next)<0}function v(A,E,N,B){var P=A;do P.z===0&&(P.z=S(P.x,P.y,E,N,B)),P.prevZ=P.prev,P.nextZ=P.next,P=P.next;while(P!==A);P.prevZ.nextZ=null,P.prevZ=null,w(P)}function w(A){var E,N,B,P,C,D,Y,st,et=1;do{for(N=A,A=null,C=null,D=0;N;){for(D++,B=N,Y=0,E=0;E<et&&(Y++,B=B.nextZ,!!B);E++);for(st=et;Y>0||st>0&&B;)Y!==0&&(st===0||!B||N.z<=B.z)?(P=N,N=N.nextZ,Y--):(P=B,B=B.nextZ,st--),C?C.nextZ=P:A=P,P.prevZ=C,C=P;N=B}C.nextZ=null,et*=2}while(D>1);return A}function S(A,E,N,B,P){return A=(A-N)*P|0,E=(E-B)*P|0,A=(A|A<<8)&16711935,A=(A|A<<4)&252645135,A=(A|A<<2)&858993459,A=(A|A<<1)&1431655765,E=(E|E<<8)&16711935,E=(E|E<<4)&252645135,E=(E|E<<2)&858993459,E=(E|E<<1)&1431655765,A|E<<1}function x(A){var E=A,N=A;do(E.x<N.x||E.x===N.x&&E.y<N.y)&&(N=E),E=E.next;while(E!==A);return N}function T(A,E,N,B,P,C,D,Y){return(P-D)*(E-Y)>=(A-D)*(C-Y)&&(A-D)*(B-Y)>=(N-D)*(E-Y)&&(N-D)*(C-Y)>=(P-D)*(B-Y)}function k(A,E){return A.next.i!==E.i&&A.prev.i!==E.i&&!L(A,E)&&(V(A,E)&&V(E,A)&&H(A,E)&&(R(A.prev,A,E.prev)||R(A,E.prev,E))||U(A,E)&&R(A.prev,A,A.next)>0&&R(E.prev,E,E.next)>0)}function R(A,E,N){return(E.y-A.y)*(N.x-E.x)-(E.x-A.x)*(N.y-E.y)}function U(A,E){return A.x===E.x&&A.y===E.y}function O(A,E,N,B){var P=z(R(A,E,N)),C=z(R(A,E,B)),D=z(R(N,B,A)),Y=z(R(N,B,E));return!!(P!==C&&D!==Y||P===0&&j(A,N,E)||C===0&&j(A,B,E)||D===0&&j(N,A,B)||Y===0&&j(N,E,B))}function j(A,E,N){return E.x<=Math.max(A.x,N.x)&&E.x>=Math.min(A.x,N.x)&&E.y<=Math.max(A.y,N.y)&&E.y>=Math.min(A.y,N.y)}function z(A){return A>0?1:A<0?-1:0}function L(A,E){var N=A;do{if(N.i!==A.i&&N.next.i!==A.i&&N.i!==E.i&&N.next.i!==E.i&&O(N,N.next,A,E))return!0;N=N.next}while(N!==A);return!1}function V(A,E){return R(A.prev,A,A.next)<0?R(A,E,A.next)>=0&&R(A,A.prev,E)>=0:R(A,E,A.prev)<0||R(A,A.next,E)<0}function H(A,E){var N=A,B=!1,P=(A.x+E.x)/2,C=(A.y+E.y)/2;do N.y>C!=N.next.y>C&&N.next.y!==N.y&&P<(N.next.x-N.x)*(C-N.y)/(N.next.y-N.y)+N.x&&(B=!B),N=N.next;while(N!==A);return B}function K(A,E){var N=new $(A.i,A.x,A.y),B=new $(E.i,E.x,E.y),P=A.next,C=E.prev;return A.next=E,E.prev=A,N.next=P,P.prev=N,B.next=N,N.prev=B,C.next=B,B.prev=C,B}function Q(A,E,N,B){var P=new $(A,E,N);return B?(P.next=B.next,P.prev=B,B.next.prev=P,B.next=P):(P.prev=P,P.next=P),P}function Z(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function $(A,E,N){this.i=A,this.x=E,this.y=N,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}n.deviation=function(A,E,N,B){var P=E&&E.length,C=P?E[0]*N:A.length,D=Math.abs(ut(A,0,C,N));if(P)for(var Y=0,st=E.length;Y<st;Y++){var et=E[Y]*N,mt=Y<st-1?E[Y+1]*N:A.length;D-=Math.abs(ut(A,et,mt,N))}var gt=0;for(Y=0;Y<B.length;Y+=3){var ot=B[Y]*N,vt=B[Y+1]*N,xt=B[Y+2]*N;gt+=Math.abs((A[ot]-A[xt])*(A[vt+1]-A[ot+1])-(A[ot]-A[vt])*(A[xt+1]-A[ot+1]))}return D===0&&gt===0?0:Math.abs((gt-D)/D)};function ut(A,E,N,B){for(var P=0,C=E,D=N-B;C<N;C+=B)P+=(A[D]-A[C])*(A[C+1]+A[D+1]),D=C;return P}return n.flatten=function(A){for(var E=A[0][0].length,N={vertices:[],holes:[],dimensions:E},B=0,P=0;P<A.length;P++){for(var C=0;C<A[P].length;C++)for(var D=0;D<E;D++)N.vertices.push(A[P][C][D]);P>0&&(B+=A[P-1].length,N.holes.push(B))}return N},th.exports}var DR=RR();const OR=ha(DR);var Hx=(n=>(n[n.NONE=0]="NONE",n[n.COLOR=16384]="COLOR",n[n.STENCIL=1024]="STENCIL",n[n.DEPTH=256]="DEPTH",n[n.COLOR_DEPTH=16640]="COLOR_DEPTH",n[n.COLOR_STENCIL=17408]="COLOR_STENCIL",n[n.DEPTH_STENCIL=1280]="DEPTH_STENCIL",n[n.ALL=17664]="ALL",n))(Hx||{});class BR{constructor(t){this.items=[],this._name=t}emit(t,e,i,a,l,c,h,d){const{name:f,items:m}=this;for(let y=0,_=m.length;y<_;y++)m[y][f](t,e,i,a,l,c,h,d);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const e=this.items.indexOf(t);return e!==-1&&this.items.splice(e,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const IR=["init","destroy","contextChange","resolutionChange","reset","renderEnd","renderStart","render","update","postrender","prerender"],qx=class Gx extends Ui{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name;const e=[...IR,...t.runners??[]];this._addRunners(...e),this._addSystems(t.systems),this._addPipes(t.renderPipes,t.renderPipeAdaptors),this._unsafeEvalCheck()}async init(t={}){for(const e in this._systemsHash)t={...this._systemsHash[e].constructor.defaultOptions,...t};t={...Gx.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let e=0;e<this.runners.init.items.length;e++)await this.runners.init.items[e].init(t);this._initOptions=t}render(t,e){let i=t;if(i instanceof mn&&(i={container:i},e&&(Re(Ne,"passing a second argument is deprecated, please use render options instead"),i.target=e.renderTexture)),i.target||(i.target=this.view.renderTarget),i.target===this.view.renderTarget&&(this._lastObjectRendered=i.container,i.clearColor=this.background.colorRgba),i.clearColor){const a=Array.isArray(i.clearColor)&&i.clearColor.length===4;i.clearColor=a?i.clearColor:Un.shared.setValue(i.clearColor).toArray()}i.transform||(i.container.updateLocalTransform(),i.transform=i.container.localTransform),this.runners.prerender.emit(i),this.runners.renderStart.emit(i),this.runners.render.emit(i),this.runners.renderEnd.emit(i),this.runners.postrender.emit(i)}resize(t,e,i){this.view.resize(t,e,i),this.emit("resize",this.view.screen.width,this.view.screen.height)}clear(t={}){const e=this;t.target||(t.target=e.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=Hx.ALL);const{clear:i,clearColor:a,target:l}=t;Un.shared.setValue(a??this.background.colorRgba),e.renderTarget.clear(l,i,Un.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(e=>{this.runners[e]=new BR(e)})}_addSystems(t){let e;for(e in t){const i=t[e];this._addSystem(i.value,i.name)}}_addSystem(t,e){const i=new t(this);if(this[e])throw new Error(`Whoops! The name "${e}" is already in use`);this[e]=i,this._systemsHash[e]=i;for(const a in this.runners)this.runners[a].add(i);return this}_addPipes(t,e){const i=e.reduce((a,l)=>(a[l.name]=l.value,a),{});t.forEach(a=>{const l=a.value,c=a.name,h=i[c];this.renderPipes[c]=new l(this,h?new h:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!NR())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}};qx.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Yx=qx,eh;function zR(n){return eh!==void 0||(eh=(()=>{const t={stencil:!0,failIfMajorPerformanceCaveat:n??Yx.defaultOptions.failIfMajorPerformanceCaveat};try{if(!en.get().getWebGLRenderingContext())return!1;let i=en.get().createCanvas().getContext("webgl",t);const a=!!i?.getContextAttributes()?.stencil;if(i){const l=i.getExtension("WEBGL_lose_context");l&&l.loseContext()}return i=null,a}catch{return!1}})()),eh}let nh;async function LR(n={}){return nh!==void 0||(nh=await(async()=>{if(!en.get().getNavigator().gpu)return!1;try{return await(await navigator.gpu.requestAdapter(n)).requestDevice(),!0}catch{return!1}})()),nh}const lb=["webgl","webgpu","canvas"];async function Wx(n){let t=[];n.preference?(t.push(n.preference),lb.forEach(l=>{l!==n.preference&&t.push(l)})):t=lb.slice();let e;await kR(n.manageImports??!0);let i={};for(let l=0;l<t.length;l++){const c=t[l];if(c==="webgpu"&&await LR()){const{WebGPURenderer:h}=await Th(async()=>{const{WebGPURenderer:d}=await import("./WebGPURenderer-quTOvAnu.js");return{WebGPURenderer:d}},__vite__mapDeps([5,2,6,3]));e=h,i={...n,...n.webgpu};break}else if(c==="webgl"&&zR(n.failIfMajorPerformanceCaveat??Yx.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:h}=await Th(async()=>{const{WebGLRenderer:d}=await import("./WebGLRenderer-H1fGVvmI.js");return{WebGLRenderer:d}},__vite__mapDeps([7,2,4,6]));e=h,i={...n,...n.webgl};break}else if(c==="canvas")throw i={...n},new Error("CanvasRenderer is not yet implemented")}if(delete i.webgpu,delete i.webgl,!e)throw new Error("No available renderer for the current environment");const a=new e;return await a.init(i),a}const Xx=class Tm{constructor(...t){this.stage=new mn,t[0]!==void 0&&Re(Ne,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await Wx(t),Tm._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return Re(Ne,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,e=!1){const i=Tm._plugins.slice(0);i.reverse(),i.forEach(a=>{a.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};Xx._plugins=[];let _g=Xx;xs.handleByList(Rt.Application,_g._plugins);class PR{constructor(t,e=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=e}add(t){t.forEach(e=>{this._assetList.push(e)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],e=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<e;i++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}const jR={extension:Rt.CacheParser,test:n=>Array.isArray(n)&&n.every(t=>t instanceof Jt),getCacheableAssets:(n,t)=>{const e={};return n.forEach(i=>{t.forEach((a,l)=>{e[i+(l===0?"":l+1)]=a})}),e}};async function $x(n){if("Image"in globalThis)return new Promise(t=>{const e=new Image;e.onload=()=>{t(!0)},e.onerror=()=>{t(!1)},e.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const t=await(await fetch(n)).blob();await createImageBitmap(t)}catch{return!1}return!0}return!1}const UR={extension:{type:Rt.DetectionParser,priority:1},test:async()=>$x("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async n=>[...n,"avif"],remove:async n=>n.filter(t=>t!=="avif")},cb=["png","jpg","jpeg"],FR={extension:{type:Rt.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async n=>[...n,...cb],remove:async n=>n.filter(t=>!cb.includes(t))},VR="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function vg(n){return VR?!1:document.createElement("video").canPlayType(n)!==""}const HR={extension:{type:Rt.DetectionParser,priority:0},test:async()=>vg("video/mp4"),add:async n=>[...n,"mp4","m4v"],remove:async n=>n.filter(t=>t!=="mp4"&&t!=="m4v")},qR={extension:{type:Rt.DetectionParser,priority:0},test:async()=>vg("video/ogg"),add:async n=>[...n,"ogv"],remove:async n=>n.filter(t=>t!=="ogv")},GR={extension:{type:Rt.DetectionParser,priority:0},test:async()=>vg("video/webm"),add:async n=>[...n,"webm"],remove:async n=>n.filter(t=>t!=="webm")},YR={extension:{type:Rt.DetectionParser,priority:0},test:async()=>$x("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async n=>[...n,"webp"],remove:async n=>n.filter(t=>t!=="webp")};class WR{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,e,i)=>(this._parsersValidated=!1,t[e]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,e){const i={promise:null,parser:null};return i.promise=(async()=>{let a=null,l=null;if(e.loadParser&&(l=this._parserHash[e.loadParser],l||pn(`[Assets] specified load parser "${e.loadParser}" not found while loading ${t}`)),!l){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&h.test?.(t,e,this)){l=h;break}}if(!l)return pn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}a=await l.load(t,e,this),i.parser=l;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await h.testParse?.(a,e,this)&&(a=await h.parse(a,e,this)||a,i.parser=h)}return a})(),i}async load(t,e){this._parsersValidated||this._validateParsers();let i=0;const a={},l=Mh(t),c=Ds(t,f=>({alias:[f],src:f})),h=c.length,d=c.map(async f=>{const m=ti.toAbsolute(f.src);if(!a[f.src])try{this.promiseCache[m]||(this.promiseCache[m]=this._getLoadPromiseAndParser(m,f)),a[f.src]=await this.promiseCache[m].promise,e&&e(++i/h)}catch(y){throw delete this.promiseCache[m],delete a[f.src],new Error(`[Loader.load] Failed to load ${m}.
${y}`)}});return await Promise.all(d),l?a[c[0].src]:a}async unload(t){const i=Ds(t,a=>({alias:[a],src:a})).map(async a=>{const l=ti.toAbsolute(a.src),c=this.promiseCache[l];if(c){const h=await c.promise;delete this.promiseCache[l],await c.parser?.unload?.(h,a,this)}});await Promise.all(i)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,e)=>(e.name?t[e.name]&&pn(`[Assets] loadParser name conflict "${e.name}"`):pn("[Assets] loadParser should have a name"),{...t,[e.name]:e}),{})}}function Vo(n,t){if(Array.isArray(t)){for(const e of t)if(n.startsWith(`data:${e}`))return!0;return!1}return n.startsWith(`data:${t}`)}function Ho(n,t){const e=n.split("?")[0],i=ti.extname(e).toLowerCase();return Array.isArray(t)?t.includes(i):i===t}const XR=".json",$R="application/json",ZR={extension:{type:Rt.LoadParser,priority:ma.Low},name:"loadJson",test(n){return Vo(n,$R)||Ho(n,XR)},async load(n){return await(await en.get().fetch(n)).json()}},QR=".txt",KR="text/plain",JR={name:"loadTxt",extension:{type:Rt.LoadParser,priority:ma.Low},test(n){return Vo(n,KR)||Ho(n,QR)},async load(n){return await(await en.get().fetch(n)).text()}},t3=["normal","bold","100","200","300","400","500","600","700","800","900"],e3=[".ttf",".otf",".woff",".woff2"],n3=["font/ttf","font/otf","font/woff","font/woff2"],s3=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function i3(n){const t=ti.extname(n),a=ti.basename(n,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(h=>h.charAt(0).toUpperCase()+h.slice(1));let l=a.length>0;for(const h of a)if(!h.match(s3)){l=!1;break}let c=a.join(" ");return l||(c=`"${c.replace(/[\\"]/g,"\\$&")}"`),c}const r3=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function a3(n){return r3.test(n)?n:encodeURI(n)}const o3={extension:{type:Rt.LoadParser,priority:ma.Low},name:"loadWebFont",test(n){return Vo(n,n3)||Ho(n,e3)},async load(n,t){const e=en.get().getFontFaceSet();if(e){const i=[],a=t.data?.family??i3(n),l=t.data?.weights?.filter(h=>t3.includes(h))??["normal"],c=t.data??{};for(let h=0;h<l.length;h++){const d=l[h],f=new FontFace(a,`url(${a3(n)})`,{...c,weight:d});await f.load(),e.add(f),i.push(f)}return Cn.set(`${a}-and-url`,{url:n,fontFaces:i}),i.length===1?i[0]:i}return pn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(n){(Array.isArray(n)?n:[n]).forEach(t=>{Cn.remove(t.family),en.get().getFontFaceSet().delete(t)})}};var Jp,ub;function l3(){if(ub)return Jp;ub=1,Jp=e;var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function e(l){var c=[];return l.replace(t,function(h,d,f){var m=d.toLowerCase();for(f=a(f),m=="m"&&f.length>2&&(c.push([d].concat(f.splice(0,2))),m="l",d=d=="m"?"l":"L");;){if(f.length==n[m])return f.unshift(d),c.push(f);if(f.length<n[m])throw new Error("malformed path data");c.push([d].concat(f.splice(0,n[m])))}}),c}var i=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function a(l){var c=l.match(i);return c?c.map(Number):[]}return Jp}var c3=l3();const u3=ha(c3);function h3(n,t){const e=u3(n),i=[];let a=null,l=0,c=0;for(let h=0;h<e.length;h++){const d=e[h],f=d[0],m=d;switch(f){case"M":l=m[1],c=m[2],t.moveTo(l,c);break;case"m":l+=m[1],c+=m[2],t.moveTo(l,c);break;case"H":l=m[1],t.lineTo(l,c);break;case"h":l+=m[1],t.lineTo(l,c);break;case"V":c=m[1],t.lineTo(l,c);break;case"v":c+=m[1],t.lineTo(l,c);break;case"L":l=m[1],c=m[2],t.lineTo(l,c);break;case"l":l+=m[1],c+=m[2],t.lineTo(l,c);break;case"C":l=m[5],c=m[6],t.bezierCurveTo(m[1],m[2],m[3],m[4],l,c);break;case"c":t.bezierCurveTo(l+m[1],c+m[2],l+m[3],c+m[4],l+m[5],c+m[6]),l+=m[5],c+=m[6];break;case"S":l=m[3],c=m[4],t.bezierCurveToShort(m[1],m[2],l,c);break;case"s":t.bezierCurveToShort(l+m[1],c+m[2],l+m[3],c+m[4]),l+=m[3],c+=m[4];break;case"Q":l=m[3],c=m[4],t.quadraticCurveTo(m[1],m[2],l,c);break;case"q":t.quadraticCurveTo(l+m[1],c+m[2],l+m[3],c+m[4]),l+=m[3],c+=m[4];break;case"T":l=m[1],c=m[2],t.quadraticCurveToShort(l,c);break;case"t":l+=m[1],c+=m[2],t.quadraticCurveToShort(l,c);break;case"A":l=m[6],c=m[7],t.arcToSvg(m[1],m[2],m[3],m[4],m[5],l,c);break;case"a":l+=m[6],c+=m[7],t.arcToSvg(m[1],m[2],m[3],m[4],m[5],l,c);break;case"Z":case"z":t.closePath(),i.length>0&&(a=i.pop(),a?(l=a.startX,c=a.startY):(l=0,c=0)),a=null;break;default:pn(`Unknown SVG path command: ${f}`)}f!=="Z"&&f!=="z"&&a===null&&(a={startX:l,startY:c},i.push(a))}return t}class wg{constructor(t=0,e=0,i=0){this.type="circle",this.x=t,this.y=e,this.radius=i}clone(){return new wg(this.x,this.y,this.radius)}contains(t,e){if(this.radius<=0)return!1;const i=this.radius*this.radius;let a=this.x-t,l=this.y-e;return a*=a,l*=l,a+l<=i}strokeContains(t,e,i){if(this.radius===0)return!1;const a=this.x-t,l=this.y-e,c=this.radius,h=i/2,d=Math.sqrt(a*a+l*l);return d<c+h&&d>c-h}getBounds(t){return t=t||new dn,t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class bg{constructor(t=0,e=0,i=0,a=0){this.type="ellipse",this.x=t,this.y=e,this.halfWidth=i,this.halfHeight=a}clone(){return new bg(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,e){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let i=(t-this.x)/this.halfWidth,a=(e-this.y)/this.halfHeight;return i*=i,a*=a,i+a<=1}strokeContains(t,e,i){const{halfWidth:a,halfHeight:l}=this;if(a<=0||l<=0)return!1;const c=i/2,h=a-c,d=l-c,f=a+c,m=l+c,y=t-this.x,_=e-this.y,v=y*y/(h*h)+_*_/(d*d),w=y*y/(f*f)+_*_/(m*m);return v>1&&w<=1}getBounds(){return new dn(this.x-this.halfWidth,this.y-this.halfHeight,this.halfWidth*2,this.halfHeight*2)}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function d3(n,t,e,i,a,l){const c=n-e,h=t-i,d=a-e,f=l-i,m=c*d+h*f,y=d*d+f*f;let _=-1;y!==0&&(_=m/y);let v,w;_<0?(v=e,w=i):_>1?(v=a,w=l):(v=e+_*d,w=i+_*f);const S=n-v,x=t-w;return S*S+x*x}class Jl{constructor(...t){this.type="polygon";let e=Array.isArray(t[0])?t[0]:t;if(typeof e[0]!="number"){const i=[];for(let a=0,l=e.length;a<l;a++)i.push(e[a].x,e[a].y);e=i}this.points=e,this.closePath=!0}clone(){const t=this.points.slice(),e=new Jl(t);return e.closePath=this.closePath,e}contains(t,e){let i=!1;const a=this.points.length/2;for(let l=0,c=a-1;l<a;c=l++){const h=this.points[l*2],d=this.points[l*2+1],f=this.points[c*2],m=this.points[c*2+1];d>e!=m>e&&t<(f-h)*((e-d)/(m-d))+h&&(i=!i)}return i}strokeContains(t,e,i){const a=i/2,l=a*a,{points:c}=this,h=c.length-(this.closePath?0:2);for(let d=0;d<h;d+=2){const f=c[d],m=c[d+1],y=c[(d+2)%c.length],_=c[(d+3)%c.length];if(d3(t,e,f,m,y,_)<=l)return!0}return!1}getBounds(t){t=t||new dn;const e=this.points;let i=1/0,a=-1/0,l=1/0,c=-1/0;for(let h=0,d=e.length;h<d;h+=2){const f=e[h],m=e[h+1];i=f<i?f:i,a=f>a?f:a,l=m<l?m:l,c=m>c?m:c}return t.x=i,t.width=a-i,t.y=l,t.height=c-l,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const sh=(n,t,e,i,a,l)=>{const c=n-e,h=t-i,d=Math.sqrt(c*c+h*h);return d>=a-l&&d<=a+l};class xg{constructor(t=0,e=0,i=0,a=0,l=20){this.type="roundedRectangle",this.x=t,this.y=e,this.width=i,this.height=a,this.radius=l}getBounds(t){return t=t||new dn,t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new xg(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;let a=t-(this.x+i),l=e-(this.y+i);const c=i*i;if(a*a+l*l<=c||(a=t-(this.x+this.width-i),a*a+l*l<=c)||(l=e-(this.y+this.height-i),a*a+l*l<=c)||(a=t-(this.x+i),a*a+l*l<=c))return!0}return!1}strokeContains(t,e,i){const{x:a,y:l,width:c,height:h,radius:d}=this,f=i/2,m=a+d,y=l+d,_=c-d*2,v=h-d*2,w=a+c,S=l+h;return(t>=a-f&&t<=a+f||t>=w-f&&t<=w+f)&&e>=y&&e<=y+v||(e>=l-f&&e<=l+f||e>=S-f&&e<=S+f)&&t>=m&&t<=m+_?!0:t<m&&e<y&&sh(t,e,m,y,d,f)||t>w-d&&e<y&&sh(t,e,w-d,y,d,f)||t>w-d&&e>S-d&&sh(t,e,w-d,S-d,d,f)||t<m&&e>S-d&&sh(t,e,m,S-d,d,f)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}var Pn=(n=>(n[n.MAP_READ=1]="MAP_READ",n[n.MAP_WRITE=2]="MAP_WRITE",n[n.COPY_SRC=4]="COPY_SRC",n[n.COPY_DST=8]="COPY_DST",n[n.INDEX=16]="INDEX",n[n.VERTEX=32]="VERTEX",n[n.UNIFORM=64]="UNIFORM",n[n.STORAGE=128]="STORAGE",n[n.INDIRECT=256]="INDIRECT",n[n.QUERY_RESOLVE=512]="QUERY_RESOLVE",n[n.STATIC=1024]="STATIC",n))(Pn||{});class ic extends Ui{constructor(t){let{data:e,size:i}=t;const{usage:a,label:l,shrinkToFit:c}=t;super(),this.uid=fn("buffer"),this._resourceType="buffer",this._resourceId=fn("resource"),this._touched=0,this._updateID=1,this.shrinkToFit=!0,this.destroyed=!1,e instanceof Array&&(e=new Float32Array(e)),this._data=e,i=i??e?.byteLength;const h=!!e;this.descriptor={size:i,usage:a,mappedAtCreation:h,label:l},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get static(){return!!(this.descriptor.usage&Pn.STATIC)}set static(t){t?this.descriptor.usage|=Pn.STATIC:this.descriptor.usage&=~Pn.STATIC}setDataWithSize(t,e,i){if(this._updateID++,this._updateSize=e*t.BYTES_PER_ELEMENT,this._data===t){i&&this.emit("update",this);return}const a=this._data;if(this._data=t,a.length!==t.length){!this.shrinkToFit&&t.byteLength<a.byteLength?i&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=fn("resource"),this.emit("change",this));return}i&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Zx(n,t){if(!(n instanceof ic)){let e=t?Pn.INDEX:Pn.VERTEX;n instanceof Array&&(t?(n=new Uint32Array(n),e=Pn.INDEX|Pn.COPY_DST):(n=new Float32Array(n),e=Pn.VERTEX|Pn.COPY_DST)),n=new ic({data:n,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:e})}return n}function f3(n,t,e){const i=n.getAttribute(t);if(!i)return e.minX=0,e.minY=0,e.maxX=0,e.maxY=0,e;const a=i.buffer.data;let l=1/0,c=1/0,h=-1/0,d=-1/0;const f=a.BYTES_PER_ELEMENT,m=(i.offset||0)/f,y=(i.stride||8)/f;for(let _=m;_<a.length;_+=y){const v=a[_],w=a[_+1];v>h&&(h=v),w>d&&(d=w),v<l&&(l=v),w<c&&(c=w)}return e.minX=l,e.minY=c,e.maxX=h,e.maxY=d,e}function p3(n){return(n instanceof ic||Array.isArray(n)||n.BYTES_PER_ELEMENT)&&(n={buffer:n}),n.buffer=Zx(n.buffer,!1),n}class m3 extends Ui{constructor(t){const{attributes:e,indexBuffer:i,topology:a}=t;super(),this.uid=fn("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new Js,this._boundsDirty=!0,this.attributes=e,this.buffers=[],this.instanceCount=t.instanceCount||1;for(const l in e){const c=e[l]=p3(e[l]);this.buffers.indexOf(c.buffer)===-1&&(this.buffers.push(c.buffer),c.buffer.on("update",this.onBufferUpdate,this),c.buffer.on("change",this.onBufferUpdate,this))}i&&(this.indexBuffer=Zx(i,!0),this.buffers.push(this.indexBuffer)),this.topology=a||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const e=this.attributes[t];return e.buffer.data.length/(e.stride/4||e.size)}return 0}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,f3(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(e=>e.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const g3=new Float32Array(1),y3=new Uint32Array(1);class _3 extends m3{constructor(){const e=new ic({data:g3,label:"attribute-batch-buffer",usage:Pn.VERTEX|Pn.COPY_DST,shrinkToFit:!1}),i=new ic({data:y3,label:"index-batch-buffer",usage:Pn.INDEX|Pn.COPY_DST,shrinkToFit:!1}),a=24;super({attributes:{aPosition:{buffer:e,format:"float32x2",stride:a,offset:0,location:1},aUV:{buffer:e,format:"float32x2",stride:a,offset:8,location:3},aColor:{buffer:e,format:"unorm8x4",stride:a,offset:16,location:0},aTextureIdAndRound:{buffer:e,format:"uint16x2",stride:a,offset:20,location:2}},indexBuffer:i})}}let ih=null;function Qx(){if(ih)return ih;const n=ER();return ih=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),ih}const Kx={};function v3(n,t){let e=0;for(let i=0;i<t;i++)e=e*31+n[i].uid>>>0;return Kx[e]||w3(n,e)}let tm=0;function w3(n,t){const e={};let i=0;tm||(tm=Qx());for(let l=0;l<tm;l++){const c=l<n.length?n[l]:Jt.EMPTY.source;e[i++]=c.source,e[i++]=c.style}const a=new MR(e);return Kx[t]=a,a}class hb{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function db(n,t){const e=n.byteLength/8|0,i=new Float64Array(n,0,e);new Float64Array(t,0,e).set(i);const l=n.byteLength-e*8;if(l>0){const c=new Uint8Array(n,e*8,l);new Uint8Array(t,e*8,l).set(c)}}const b3={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var x3=(n=>(n[n.DISABLED=0]="DISABLED",n[n.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",n[n.MASK_ACTIVE=2]="MASK_ACTIVE",n[n.RENDERING_MASK_REMOVE=3]="RENDERING_MASK_REMOVE",n[n.NONE=4]="NONE",n))(x3||{});function fb(n,t){return t.alphaMode==="no-premultiply-alpha"&&b3[n]||n}class pb{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const e=this.textures[t];this.textures[t]=null,this.ids[e.uid]=null}this.count=0}}class mb{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.blendMode="normal",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}let Yl=0;const Jx=class tS{constructor(t={}){this.uid=fn("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._vertexSize=6,this._elements=[],this._batchPool=[],this._batchPoolIndex=0,this._textureBatchPool=[],this._textureBatchPoolIndex=0,t={...tS.defaultOptions,...t};const{vertexSize:e,indexSize:i}=t;this.attributeBuffer=new hb(e*this._vertexSize*4),this.indexBuffer=new Uint16Array(i),this._maxTextures=Qx()}begin(){this.batchIndex=0,this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0,this._batchPoolIndex=0,this._textureBatchPoolIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t.indexStart=this.indexSize,t.location=this.attributeSize,t.batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.vertexSize*this._vertexSize}checkAndUpdateTexture(t,e){const i=t.batch.textures.ids[e._source.uid];return!i&&i!==0?!1:(t.textureId=i,t.texture=e,!0)}updateElement(t){this.dirty=!0,t.packAttributes(this.attributeBuffer.float32View,this.attributeBuffer.uint32View,t.location,t.textureId)}break(t){const e=this._elements;let i=this._textureBatchPool[this._textureBatchPoolIndex++]||new pb;if(i.clear(),!e[this.elementStart])return;const a=e[this.elementStart];let l=fb(a.blendMode,a.texture._source);this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const c=this.attributeBuffer.float32View,h=this.attributeBuffer.uint32View,d=this.indexBuffer;let f=this._batchIndexSize,m=this._batchIndexStart,y="startBatch",_=this._batchPool[this._batchPoolIndex++]||new mb;const v=this._maxTextures;for(let w=this.elementStart;w<this.elementSize;++w){const S=e[w];e[w]=null;const T=S.texture._source,k=fb(S.blendMode,T),R=l!==k;if(T._batchTick===Yl&&!R){S.textureId=T._textureBindLocation,f+=S.indexSize,S.packAttributes(c,h,S.location,S.textureId),S.packIndex(d,S.indexStart,S.location/this._vertexSize),S.batch=_;continue}T._batchTick=Yl,(i.count>=v||R)&&(this._finishBatch(_,m,f-m,i,l,t,y),y="renderBatch",m=f,l=k,i=this._textureBatchPool[this._textureBatchPoolIndex++]||new pb,i.clear(),_=this._batchPool[this._batchPoolIndex++]||new mb,++Yl),S.textureId=T._textureBindLocation=i.count,i.ids[T.uid]=i.count,i.textures[i.count++]=T,S.batch=_,f+=S.indexSize,S.packAttributes(c,h,S.location,S.textureId),S.packIndex(d,S.indexStart,S.location/this._vertexSize)}i.count>0&&(this._finishBatch(_,m,f-m,i,l,t,y),m=f,++Yl),this.elementStart=this.elementSize,this._batchIndexStart=m,this._batchIndexSize=f}_finishBatch(t,e,i,a,l,c,h){t.gpuBindGroup=null,t.action=h,t.batcher=this,t.textures=a,t.blendMode=l,t.start=e,t.size=i,++Yl,c.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const e=Math.max(t,this.attributeBuffer.size*2),i=new hb(e);db(this.attributeBuffer.rawBinaryData,i.rawBinaryData),this.attributeBuffer=i}_resizeIndexBuffer(t){const e=this.indexBuffer;let i=Math.max(t,e.length*1.5);i+=i%2;const a=i>65535?new Uint32Array(i):new Uint16Array(i);if(a.BYTES_PER_ELEMENT!==e.BYTES_PER_ELEMENT)for(let l=0;l<e.length;l++)a[l]=e[l];else db(e.buffer,a.buffer);this.indexBuffer=a}destroy(){for(let t=0;t<this.batches.length;t++)this.batches[t].destroy();this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t].batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};Jx.defaultOptions={vertexSize:4,indexSize:6};let S3=Jx;function A3(n,t,e,i,a,l,c,h=null){let d=0;e*=t,a*=l;const f=h.a,m=h.b,y=h.c,_=h.d,v=h.tx,w=h.ty;for(;d<c;){const S=n[e],x=n[e+1];i[a]=f*S+y*x+v,i[a+1]=m*S+_*x+w,a+=l,e+=t,d++}}function T3(n,t,e,i){let a=0;for(t*=e;a<i;)n[t]=0,n[t+1]=0,t+=e,a++}function eS(n,t,e,i,a){const l=t.a,c=t.b,h=t.c,d=t.d,f=t.tx,m=t.ty;e=e||0,i=i||2,a=a||n.length/i-e;let y=e*i;for(let _=0;_<a;_++){const v=n[y],w=n[y+1];n[y]=l*v+h*w+f,n[y+1]=c*v+d*w+m,y+=i}}function C3(n,t){if(n===16777215||!t)return t;if(t===16777215||!n)return n;const e=n>>16&255,i=n>>8&255,a=n&255,l=t>>16&255,c=t>>8&255,h=t&255,d=e*l/255,f=i*c/255,m=a*h/255;return(d<<16)+(f<<8)+m}class nS{constructor(){this.batcher=null,this.batch=null,this.applyTransform=!0,this.roundPixels=0}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}packIndex(t,e,i){const a=this.geometryData.indices;for(let l=0;l<this.indexSize;l++)t[e++]=a[l+this.indexOffset]+i-this.vertexOffset}packAttributes(t,e,i,a){const l=this.geometryData,c=this.renderable,h=l.vertices,d=l.uvs,f=this.vertexOffset*2,m=(this.vertexOffset+this.vertexSize)*2,y=this.color,_=y>>16|y&65280|(y&255)<<16;if(this.applyTransform){const v=C3(_,c.groupColor)+(this.alpha*c.groupAlpha*255<<24),w=c.groupTransform,S=a<<16|this.roundPixels&65535,x=w.a,T=w.b,k=w.c,R=w.d,U=w.tx,O=w.ty;for(let j=f;j<m;j+=2){const z=h[j],L=h[j+1];t[i]=x*z+k*L+U,t[i+1]=T*z+R*L+O,t[i+2]=d[j],t[i+3]=d[j+1],e[i+4]=v,e[i+5]=S,i+=6}}else{const v=_+(this.alpha*255<<24);for(let w=f;w<m;w+=2)t[i]=h[w],t[i+1]=h[w+1],t[i+2]=d[w],t[i+3]=d[w+1],e[i+4]=v,e[i+5]=a<<16,i+=6}}get vertSize(){return this.vertexSize}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.vertexOffset=this.vertexOffset,t.vertexSize=this.vertexSize,t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData}reset(){this.applyTransform=!0}}const em={build(n,t){let e,i,a,l,c,h;if(n.type==="circle"){const U=n;e=U.x,i=U.y,c=h=U.radius,a=l=0}else if(n.type==="ellipse"){const U=n;e=U.x,i=U.y,c=U.halfWidth,h=U.halfHeight,a=l=0}else{const U=n,O=U.width/2,j=U.height/2;e=U.x+O,i=U.y+j,c=h=Math.max(0,Math.min(U.radius,Math.min(O,j))),a=O-c,l=j-h}if(!(c>=0&&h>=0&&a>=0&&l>=0))return t;const d=Math.ceil(2.3*Math.sqrt(c+h)),f=d*8+(a?4:0)+(l?4:0);if(f===0)return t;if(d===0)return t[0]=t[6]=e+a,t[1]=t[3]=i+l,t[2]=t[4]=e-a,t[5]=t[7]=i-l,t;let m=0,y=d*4+(a?2:0)+2,_=y,v=f,w=a+c,S=l,x=e+w,T=e-w,k=i+S;if(t[m++]=x,t[m++]=k,t[--y]=k,t[--y]=T,l){const U=i-S;t[_++]=T,t[_++]=U,t[--v]=U,t[--v]=x}for(let U=1;U<d;U++){const O=Math.PI/2*(U/d),j=a+Math.cos(O)*c,z=l+Math.sin(O)*h,L=e+j,V=e-j,H=i+z,K=i-z;t[m++]=L,t[m++]=H,t[--y]=H,t[--y]=V,t[_++]=V,t[_++]=K,t[--v]=K,t[--v]=L}w=a,S=l+h,x=e+w,T=e-w,k=i+S;const R=i-S;return t[m++]=x,t[m++]=k,t[--v]=R,t[--v]=x,a&&(t[m++]=T,t[m++]=k,t[--v]=R,t[--v]=T),t},triangulate(n,t,e,i,a,l){if(n.length===0)return;let c=0,h=0;for(let m=0;m<n.length;m+=2)c+=n[m],h+=n[m+1];c/=n.length/2,h/=n.length/2;let d=i;t[d*e]=c,t[d*e+1]=h;const f=d++;for(let m=0;m<n.length;m+=2)t[d*e]=n[m],t[d*e+1]=n[m+1],m>0&&(a[l++]=d,a[l++]=f,a[l++]=d-1),d++;a[l++]=f+1,a[l++]=f,a[l++]=d-1}},E3=1e-4,gb=1e-4;function M3(n){const t=n.length;if(t<6)return 1;let e=0;for(let i=0,a=n[t-2],l=n[t-1];i<t;i+=2){const c=n[i],h=n[i+1];e+=(c-a)*(h+l),a=c,l=h}return e<0?-1:1}function yb(n,t,e,i,a,l,c,h){const d=n-e*a,f=t-i*a,m=n+e*l,y=t+i*l;let _,v;c?(_=i,v=-e):(_=-i,v=e);const w=d+_,S=f+v,x=m+_,T=y+v;return h.push(w,S),h.push(x,T),2}function $r(n,t,e,i,a,l,c,h){const d=e-n,f=i-t;let m=Math.atan2(d,f),y=Math.atan2(a-n,l-t);h&&m<y?m+=Math.PI*2:!h&&m>y&&(y+=Math.PI*2);let _=m;const v=y-m,w=Math.abs(v),S=Math.sqrt(d*d+f*f),x=(15*w*Math.sqrt(S)/Math.PI>>0)+1,T=v/x;if(_+=T,h){c.push(n,t),c.push(e,i);for(let k=1,R=_;k<x;k++,R+=T)c.push(n,t),c.push(n+Math.sin(R)*S,t+Math.cos(R)*S);c.push(n,t),c.push(a,l)}else{c.push(e,i),c.push(n,t);for(let k=1,R=_;k<x;k++,R+=T)c.push(n+Math.sin(R)*S,t+Math.cos(R)*S),c.push(n,t);c.push(a,l),c.push(n,t)}return x*2}function k3(n,t,e,i,a,l,c,h,d){const f=E3;if(n.length===0)return;const m=t;let y=m.alignment;if(t.alignment!==.5){let D=M3(n);y=(y-.5)*D+.5}const _=new vn(n[0],n[1]),v=new vn(n[n.length-2],n[n.length-1]),w=i,S=Math.abs(_.x-v.x)<f&&Math.abs(_.y-v.y)<f;if(w){n=n.slice(),S&&(n.pop(),n.pop(),v.set(n[n.length-2],n[n.length-1]));const D=(_.x+v.x)*.5,Y=(v.y+_.y)*.5;n.unshift(D,Y),n.push(D,Y)}const x=a,T=n.length/2;let k=n.length;const R=x.length/2,U=m.width/2,O=U*U,j=m.miterLimit*m.miterLimit;let z=n[0],L=n[1],V=n[2],H=n[3],K=0,Q=0,Z=-(L-H),$=z-V,ut=0,A=0,E=Math.sqrt(Z*Z+$*$);Z/=E,$/=E,Z*=U,$*=U;const N=y,B=(1-N)*2,P=N*2;w||(m.cap==="round"?k+=$r(z-Z*(B-P)*.5,L-$*(B-P)*.5,z-Z*B,L-$*B,z+Z*P,L+$*P,x,!0)+2:m.cap==="square"&&(k+=yb(z,L,Z,$,B,P,!0,x))),x.push(z-Z*B,L-$*B),x.push(z+Z*P,L+$*P);for(let D=1;D<T-1;++D){z=n[(D-1)*2],L=n[(D-1)*2+1],V=n[D*2],H=n[D*2+1],K=n[(D+1)*2],Q=n[(D+1)*2+1],Z=-(L-H),$=z-V,E=Math.sqrt(Z*Z+$*$),Z/=E,$/=E,Z*=U,$*=U,ut=-(H-Q),A=V-K,E=Math.sqrt(ut*ut+A*A),ut/=E,A/=E,ut*=U,A*=U;const Y=V-z,st=L-H,et=V-K,mt=Q-H,gt=Y*et+st*mt,ot=st*et-mt*Y,vt=ot<0;if(Math.abs(ot)<.001*Math.abs(gt)){x.push(V-Z*B,H-$*B),x.push(V+Z*P,H+$*P),gt>=0&&(m.join==="round"?k+=$r(V,H,V-Z*B,H-$*B,V-ut*B,H-A*B,x,!1)+4:k+=2,x.push(V-ut*P,H-A*P),x.push(V+ut*B,H+A*B));continue}const xt=(-Z+z)*(-$+H)-(-Z+V)*(-$+L),Wt=(-ut+K)*(-A+H)-(-ut+V)*(-A+Q),te=(Y*Wt-et*xt)/ot,Ue=(mt*xt-st*Wt)/ot,be=(te-V)*(te-V)+(Ue-H)*(Ue-H),ft=V+(te-V)*B,yt=H+(Ue-H)*B,Ht=V-(te-V)*P,It=H-(Ue-H)*P,Nt=Math.min(Y*Y+st*st,et*et+mt*mt),qt=vt?B:P,me=Nt+qt*qt*O;be<=me?m.join==="bevel"||be/O>j?(vt?(x.push(ft,yt),x.push(V+Z*P,H+$*P),x.push(ft,yt),x.push(V+ut*P,H+A*P)):(x.push(V-Z*B,H-$*B),x.push(Ht,It),x.push(V-ut*B,H-A*B),x.push(Ht,It)),k+=2):m.join==="round"?vt?(x.push(ft,yt),x.push(V+Z*P,H+$*P),k+=$r(V,H,V+Z*P,H+$*P,V+ut*P,H+A*P,x,!0)+4,x.push(ft,yt),x.push(V+ut*P,H+A*P)):(x.push(V-Z*B,H-$*B),x.push(Ht,It),k+=$r(V,H,V-Z*B,H-$*B,V-ut*B,H-A*B,x,!1)+4,x.push(V-ut*B,H-A*B),x.push(Ht,It)):(x.push(ft,yt),x.push(Ht,It)):(x.push(V-Z*B,H-$*B),x.push(V+Z*P,H+$*P),m.join==="round"?vt?k+=$r(V,H,V+Z*P,H+$*P,V+ut*P,H+A*P,x,!0)+2:k+=$r(V,H,V-Z*B,H-$*B,V-ut*B,H-A*B,x,!1)+2:m.join==="miter"&&be/O<=j&&(vt?(x.push(Ht,It),x.push(Ht,It)):(x.push(ft,yt),x.push(ft,yt)),k+=2),x.push(V-ut*B,H-A*B),x.push(V+ut*P,H+A*P),k+=2)}z=n[(T-2)*2],L=n[(T-2)*2+1],V=n[(T-1)*2],H=n[(T-1)*2+1],Z=-(L-H),$=z-V,E=Math.sqrt(Z*Z+$*$),Z/=E,$/=E,Z*=U,$*=U,x.push(V-Z*B,H-$*B),x.push(V+Z*P,H+$*P),w||(m.cap==="round"?k+=$r(V-Z*(B-P)*.5,H-$*(B-P)*.5,V-Z*B,H-$*B,V+Z*P,H+$*P,x,!1)+2:m.cap==="square"&&(k+=yb(V,H,Z,$,B,P,!1,x)));const C=gb*gb;for(let D=R;D<k+R-2;++D)z=x[D*2],L=x[D*2+1],V=x[(D+1)*2],H=x[(D+1)*2+1],K=x[(D+2)*2],Q=x[(D+2)*2+1],!(Math.abs(z*(H-Q)+V*(Q-L)+K*(L-H))<C)&&h.push(D,D+1,D+2)}function sS(n,t,e,i,a,l,c){const h=OR(n,t,2);if(!h)return;for(let f=0;f<h.length;f+=3)l[c++]=h[f]+a,l[c++]=h[f+1]+a,l[c++]=h[f+2]+a;let d=a*i;for(let f=0;f<n.length;f+=2)e[d]=n[f],e[d+1]=n[f+1],d+=i}const N3=[],R3={build(n,t){for(let e=0;e<n.points.length;e++)t[e]=n.points[e];return t},triangulate(n,t,e,i,a,l){sS(n,N3,t,e,i,a,l)}},D3={build(n,t){const e=n,i=e.x,a=e.y,l=e.width,c=e.height;return l>=0&&c>=0&&(t[0]=i,t[1]=a,t[2]=i+l,t[3]=a,t[4]=i+l,t[5]=a+c,t[6]=i,t[7]=a+c),t},triangulate(n,t,e,i,a,l){let c=0;i*=e,t[i+c]=n[0],t[i+c+1]=n[1],c+=e,t[i+c]=n[2],t[i+c+1]=n[3],c+=e,t[i+c]=n[6],t[i+c+1]=n[7],c+=e,t[i+c]=n[4],t[i+c+1]=n[5],c+=e;const h=i/e;a[l++]=h,a[l++]=h+1,a[l++]=h+2,a[l++]=h+1,a[l++]=h+3,a[l++]=h+2}},O3={build(n,t){return t[0]=n.x,t[1]=n.y,t[2]=n.x2,t[3]=n.y2,t[4]=n.x3,t[5]=n.y3,t},triangulate(n,t,e,i,a,l){let c=0;i*=e,t[i+c]=n[0],t[i+c+1]=n[1],c+=e,t[i+c]=n[2],t[i+c+1]=n[3],c+=e,t[i+c]=n[4],t[i+c+1]=n[5];const h=i/e;a[l++]=h,a[l++]=h+1,a[l++]=h+2}},Sg={rectangle:D3,polygon:R3,triangle:O3,circle:em,ellipse:em,roundedRectangle:em},B3=new dn;function I3(n,t){const{geometryData:e,batches:i}=t;i.length=0,e.indices.length=0,e.vertices.length=0,e.uvs.length=0;for(let a=0;a<n.instructions.length;a++){const l=n.instructions[a];if(l.action==="texture")z3(l.data,i,e);else if(l.action==="fill"||l.action==="stroke"){const c=l.action==="stroke",h=l.data.path.shapePath,d=l.data.style,f=l.data.hole;c&&f&&_b(f.shapePath,d,null,!0,i,e),_b(h,d,f,c,i,e)}}}function z3(n,t,e){const{vertices:i,uvs:a,indices:l}=e,c=l.length,h=i.length/2,d=[],f=Sg.rectangle,m=B3,y=n.image;m.x=n.dx,m.y=n.dy,m.width=n.dw,m.height=n.dh;const _=n.transform;f.build(m,d),_&&eS(d,_),f.triangulate(d,i,2,h,l,c);const v=y.uvs;a.push(v.x0,v.y0,v.x1,v.y1,v.x3,v.y3,v.x2,v.y2);const w=Ni.get(nS);w.indexOffset=c,w.indexSize=l.length-c,w.vertexOffset=h,w.vertexSize=i.length/2-h,w.color=n.style,w.alpha=n.alpha,w.texture=y,w.geometryData=e,t.push(w)}function _b(n,t,e,i,a,l){const{vertices:c,uvs:h,indices:d}=l,f=n.shapePrimitives.length-1;n.shapePrimitives.forEach(({shape:m,transform:y},_)=>{const v=d.length,w=c.length/2,S=[],x=Sg[m.type];if(x.build(m,S),y&&eS(S,y),i){const U=m.closePath??!0;k3(S,t,!1,U,c,2,w,d)}else if(e&&f===_){f!==0&&console.warn("[Pixi Graphics] only the last shape have be cut out");const U=[],O=S.slice();L3(e.shapePath).forEach(z=>{U.push(O.length/2),O.push(...z)}),sS(O,U,c,2,w,d,v)}else x.triangulate(S,c,2,w,d,v);const T=h.length/2,k=t.texture;if(k!==Jt.WHITE){const U=t.matrix;y&&U.append(y.clone().invert()),A3(c,2,w,h,T,2,c.length/2-w,U)}else T3(h,T,2,c.length/2-w);const R=Ni.get(nS);R.indexOffset=v,R.indexSize=d.length-v,R.vertexOffset=w,R.vertexSize=c.length/2-w,R.color=t.color,R.alpha=t.alpha,R.texture=k,R.geometryData=l,a.push(R)})}function L3(n){if(!n)return[];const t=n.shapePrimitives,e=[];for(let i=0;i<t.length;i++){const a=t[i].shape,l=[];Sg[a.type].build(a,l),e.push(l)}return e}class P3{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class j3{constructor(){this.geometry=new _3,this.instructions=new kx}init(){this.instructions.reset()}}const Ag=class Cm{constructor(){this._activeBatchers=[],this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null)}init(t){Cm.defaultOptions.bezierSmoothness=t?.bezierSmoothness??Cm.defaultOptions.bezierSmoothness}prerender(){this._returnActiveBatchers()}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let e=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){e?this._cleanGraphicsContextData(t):e=this._initContext(t),I3(t,e);const i=t.batchMode;t.customShader||i==="no-batch"?e.isBatchable=!1:i==="auto"&&(e.isBatchable=e.geometryData.vertices.length<400),t.dirty=!1}return e}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_returnActiveBatchers(){for(let t=0;t<this._activeBatchers.length;t++)Ni.return(this._activeBatchers[t]);this._activeBatchers.length=0}_initContextRenderData(t){const e=Ni.get(j3),{batches:i,geometryData:a}=this._gpuContextHash[t.uid],l=a.vertices.length,c=a.indices.length;for(let m=0;m<i.length;m++)i[m].applyTransform=!1;const h=Ni.get(S3);this._activeBatchers.push(h),h.ensureAttributeBuffer(l),h.ensureIndexBuffer(c),h.begin();for(let m=0;m<i.length;m++){const y=i[m];h.add(y)}h.finish(e.instructions);const d=e.geometry;d.indexBuffer.setDataWithSize(h.indexBuffer,h.indexSize,!0),d.buffers[0].setDataWithSize(h.attributeBuffer.float32View,h.attributeSize,!0);const f=h.batches;for(let m=0;m<f.length;m++){const y=f[m];y.bindGroup=v3(y.textures.textures,y.textures.count)}return this._graphicsDataContextHash[t.uid]=e,e}_initContext(t){const e=new P3;return e.context=t,this._gpuContextHash[t.uid]=e,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const e=this._gpuContextHash[t.uid];e.isBatchable||this._graphicsDataContextHash[t.uid]&&(Ni.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),e.batches&&e.batches.forEach(i=>{Ni.return(i)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};Ag.extension={type:[Rt.WebGLSystem,Rt.WebGPUSystem,Rt.CanvasSystem],name:"graphicsContext"};Ag.defaultOptions={bezierSmoothness:.5};let iS=Ag;const U3=8,rh=11920929e-14,F3=1;function rS(n,t,e,i,a,l,c,h,d,f){const y=Math.min(.99,Math.max(0,f??iS.defaultOptions.bezierSmoothness));let _=(F3-y)/1;return _*=_,V3(t,e,i,a,l,c,h,d,n,_),n}function V3(n,t,e,i,a,l,c,h,d,f){Em(n,t,e,i,a,l,c,h,d,f,0),d.push(c,h)}function Em(n,t,e,i,a,l,c,h,d,f,m){if(m>U3)return;const y=(n+e)/2,_=(t+i)/2,v=(e+a)/2,w=(i+l)/2,S=(a+c)/2,x=(l+h)/2,T=(y+v)/2,k=(_+w)/2,R=(v+S)/2,U=(w+x)/2,O=(T+R)/2,j=(k+U)/2;if(m>0){let z=c-n,L=h-t;const V=Math.abs((e-c)*L-(i-h)*z),H=Math.abs((a-c)*L-(l-h)*z);if(V>rh&&H>rh){if((V+H)*(V+H)<=f*(z*z+L*L)){d.push(O,j);return}}else if(V>rh){if(V*V<=f*(z*z+L*L)){d.push(O,j);return}}else if(H>rh){if(H*H<=f*(z*z+L*L)){d.push(O,j);return}}else if(z=O-(n+c)/2,L=j-(t+h)/2,z*z+L*L<=f){d.push(O,j);return}}Em(n,t,y,_,T,k,O,j,d,f,m+1),Em(O,j,R,U,S,x,c,h,d,f,m+1)}const H3=8,q3=11920929e-14,G3=1;function Y3(n,t,e,i,a,l,c,h){const f=Math.min(.99,Math.max(0,h??iS.defaultOptions.bezierSmoothness));let m=(G3-f)/1;return m*=m,W3(t,e,i,a,l,c,n,m),n}function W3(n,t,e,i,a,l,c,h){Mm(c,n,t,e,i,a,l,h,0),c.push(a,l)}function Mm(n,t,e,i,a,l,c,h,d){if(d>H3)return;const f=(t+i)/2,m=(e+a)/2,y=(i+l)/2,_=(a+c)/2,v=(f+y)/2,w=(m+_)/2;let S=l-t,x=c-e;const T=Math.abs((i-l)*x-(a-c)*S);if(T>q3){if(T*T<=h*(S*S+x*x)){n.push(v,w);return}}else if(S=v-(t+l)/2,x=w-(e+c)/2,S*S+x*x<=h){n.push(v,w);return}Mm(n,t,e,f,m,v,w,h,d+1),Mm(n,v,w,y,_,l,c,h,d+1)}function aS(n,t,e,i,a,l,c,h){let d=Math.abs(a-l);(!c&&a>l||c&&l>a)&&(d=2*Math.PI-d),h=h||Math.max(6,Math.floor(6*Math.pow(i,1/3)*(d/Math.PI))),h=Math.max(h,3);let f=d/h,m=a;f*=c?-1:1;for(let y=0;y<h+1;y++){const _=Math.cos(m),v=Math.sin(m),w=t+_*i,S=e+v*i;n.push(w,S),m+=f}}function X3(n,t,e,i,a,l){const c=n[n.length-2],d=n[n.length-1]-e,f=c-t,m=a-e,y=i-t,_=Math.abs(d*y-f*m);if(_<1e-8||l===0){(n[n.length-2]!==t||n[n.length-1]!==e)&&n.push(t,e);return}const v=d*d+f*f,w=m*m+y*y,S=d*m+f*y,x=l*Math.sqrt(v)/_,T=l*Math.sqrt(w)/_,k=x*S/v,R=T*S/w,U=x*y+T*f,O=x*m+T*d,j=f*(T+k),z=d*(T+k),L=y*(x+R),V=m*(x+R),H=Math.atan2(z-O,j-U),K=Math.atan2(V-O,L-U);aS(n,U+t,O+e,l,H,K,f*m>y*d)}const tc=Math.PI*2,nm={centerX:0,centerY:0,ang1:0,ang2:0},sm=({x:n,y:t},e,i,a,l,c,h,d)=>{n*=e,t*=i;const f=a*n-l*t,m=l*n+a*t;return d.x=f+c,d.y=m+h,d};function $3(n,t){const e=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),i=t===1.5707963267948966?.551915024494:e,a=Math.cos(n),l=Math.sin(n),c=Math.cos(n+t),h=Math.sin(n+t);return[{x:a-l*i,y:l+a*i},{x:c+h*i,y:h-c*i},{x:c,y:h}]}const vb=(n,t,e,i)=>{const a=n*i-t*e<0?-1:1;let l=n*e+t*i;return l>1&&(l=1),l<-1&&(l=-1),a*Math.acos(l)},Z3=(n,t,e,i,a,l,c,h,d,f,m,y,_)=>{const v=Math.pow(a,2),w=Math.pow(l,2),S=Math.pow(m,2),x=Math.pow(y,2);let T=v*w-v*x-w*S;T<0&&(T=0),T/=v*x+w*S,T=Math.sqrt(T)*(c===h?-1:1);const k=T*a/l*y,R=T*-l/a*m,U=f*k-d*R+(n+e)/2,O=d*k+f*R+(t+i)/2,j=(m-k)/a,z=(y-R)/l,L=(-m-k)/a,V=(-y-R)/l,H=vb(1,0,j,z);let K=vb(j,z,L,V);h===0&&K>0&&(K-=tc),h===1&&K<0&&(K+=tc),_.centerX=U,_.centerY=O,_.ang1=H,_.ang2=K};function Q3(n,t,e,i,a,l,c,h=0,d=0,f=0){if(l===0||c===0)return;const m=Math.sin(h*tc/360),y=Math.cos(h*tc/360),_=y*(t-i)/2+m*(e-a)/2,v=-m*(t-i)/2+y*(e-a)/2;if(_===0&&v===0)return;l=Math.abs(l),c=Math.abs(c);const w=Math.pow(_,2)/Math.pow(l,2)+Math.pow(v,2)/Math.pow(c,2);w>1&&(l*=Math.sqrt(w),c*=Math.sqrt(w)),Z3(t,e,i,a,l,c,d,f,m,y,_,v,nm);let{ang1:S,ang2:x}=nm;const{centerX:T,centerY:k}=nm;let R=Math.abs(x)/(tc/4);Math.abs(1-R)<1e-7&&(R=1);const U=Math.max(Math.ceil(R),1);x/=U;let O=n[n.length-2],j=n[n.length-1];const z={x:0,y:0};for(let L=0;L<U;L++){const V=$3(S,x),{x:H,y:K}=sm(V[0],l,c,y,m,T,k,z),{x:Q,y:Z}=sm(V[1],l,c,y,m,T,k,z),{x:$,y:ut}=sm(V[2],l,c,y,m,T,k,z);rS(n,O,j,H,K,Q,Z,$,ut),O=$,j=ut,S+=x}}function K3(n,t,e){const i=(c,h)=>{const d=h.x-c.x,f=h.y-c.y,m=Math.sqrt(d*d+f*f),y=d/m,_=f/m;return{len:m,nx:y,ny:_}},a=(c,h)=>{c===0?n.moveTo(h.x,h.y):n.lineTo(h.x,h.y)};let l=t[t.length-1];for(let c=0;c<t.length;c++){const h=t[c%t.length],d=h.radius??e;if(d<=0){a(c,h),l=h;continue}const f=t[(c+1)%t.length],m=i(h,l),y=i(h,f);if(m.len<1e-4||y.len<1e-4){a(c,h),l=h;continue}let _=Math.asin(m.nx*y.ny-m.ny*y.nx),v=1,w=!1;m.nx*y.nx-m.ny*-y.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,v=-1,w=!0):_>0&&(v=-1,w=!0);const S=_/2;let x,T=Math.abs(Math.cos(S)*d/Math.sin(S));T>Math.min(m.len/2,y.len/2)?(T=Math.min(m.len/2,y.len/2),x=Math.abs(T*Math.sin(S)/Math.cos(S))):x=d;const k=h.x+y.nx*T+-y.ny*x*v,R=h.y+y.ny*T+y.nx*x*v,U=Math.atan2(m.ny,m.nx)+Math.PI/2*v,O=Math.atan2(y.ny,y.nx)-Math.PI/2*v;c===0&&n.moveTo(k+Math.cos(U)*x,R+Math.sin(U)*x),n.arc(k,R,x,U,O,w),l=h}}function J3(n,t,e,i){const a=(h,d)=>Math.sqrt((h.x-d.x)**2+(h.y-d.y)**2),l=(h,d,f)=>({x:h.x+(d.x-h.x)*f,y:h.y+(d.y-h.y)*f}),c=t.length;for(let h=0;h<c;h++){const d=t[(h+1)%c],f=d.radius??e;if(f<=0){h===0?n.moveTo(d.x,d.y):n.lineTo(d.x,d.y);continue}const m=t[h],y=t[(h+2)%c],_=a(m,d);let v;if(_<1e-4)v=d;else{const x=Math.min(_/2,f);v=l(d,m,x/_)}const w=a(y,d);let S;if(w<1e-4)S=d;else{const x=Math.min(w/2,f);S=l(d,y,x/w)}h===0?n.moveTo(v.x,v.y):n.lineTo(v.x,v.y),n.quadraticCurveTo(d.x,d.y,S.x,S.y,i)}}const tD=new dn;class eD{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new Js,this._graphicsPath2D=t}moveTo(t,e){return this.startPoly(t,e),this}lineTo(t,e){this._ensurePoly();const i=this._currentPoly.points,a=i[i.length-2],l=i[i.length-1];return(a!==t||l!==e)&&i.push(t,e),this}arc(t,e,i,a,l,c){this._ensurePoly(!1);const h=this._currentPoly.points;return aS(h,t,e,i,a,l,c),this}arcTo(t,e,i,a,l){this._ensurePoly();const c=this._currentPoly.points;return X3(c,t,e,i,a,l),this}arcToSvg(t,e,i,a,l,c,h){const d=this._currentPoly.points;return Q3(d,this._currentPoly.lastX,this._currentPoly.lastY,c,h,t,e,i,a,l),this}bezierCurveTo(t,e,i,a,l,c,h){this._ensurePoly();const d=this._currentPoly;return rS(this._currentPoly.points,d.lastX,d.lastY,t,e,i,a,l,c,h),this}quadraticCurveTo(t,e,i,a,l){this._ensurePoly();const c=this._currentPoly;return Y3(this._currentPoly.points,c.lastX,c.lastY,t,e,i,a,l),this}closePath(){return this.endPoly(!0),this}addPath(t,e){this.endPoly(),e&&!e.isIdentity()&&(t=t.clone(!0),t.transform(e));for(let i=0;i<t.instructions.length;i++){const a=t.instructions[i];this[a.action](...a.data)}return this}finish(t=!1){this.endPoly(t)}rect(t,e,i,a,l){return this.drawShape(new dn(t,e,i,a),l),this}circle(t,e,i,a){return this.drawShape(new wg(t,e,i),a),this}poly(t,e,i){const a=new Jl(t);return a.closePath=e,this.drawShape(a,i),this}regularPoly(t,e,i,a,l=0,c){a=Math.max(a|0,3);const h=-1*Math.PI/2+l,d=Math.PI*2/a,f=[];for(let m=0;m<a;m++){const y=m*d+h;f.push(t+i*Math.cos(y),e+i*Math.sin(y))}return this.poly(f,!0,c),this}roundPoly(t,e,i,a,l,c=0,h){if(a=Math.max(a|0,3),l<=0)return this.regularPoly(t,e,i,a,c);const d=i*Math.sin(Math.PI/a)-.001;l=Math.min(l,d);const f=-1*Math.PI/2+c,m=Math.PI*2/a,y=(a-2)*Math.PI/a/2;for(let _=0;_<a;_++){const v=_*m+f,w=t+i*Math.cos(v),S=e+i*Math.sin(v),x=v+Math.PI+y,T=v-Math.PI-y,k=w+l*Math.cos(x),R=S+l*Math.sin(x),U=w+l*Math.cos(T),O=S+l*Math.sin(T);_===0?this.moveTo(k,R):this.lineTo(k,R),this.quadraticCurveTo(w,S,U,O,h)}return this.closePath()}roundShape(t,e,i=!1,a){return t.length<3?this:(i?J3(this,t,e,a):K3(this,t,e),this.closePath())}filletRect(t,e,i,a,l){if(l===0)return this.rect(t,e,i,a);const c=Math.min(i,a)/2,h=Math.min(c,Math.max(-c,l)),d=t+i,f=e+a,m=h<0?-h:0,y=Math.abs(h);return this.moveTo(t,e+y).arcTo(t+m,e+m,t+y,e,y).lineTo(d-y,e).arcTo(d-m,e+m,d,e+y,y).lineTo(d,f-y).arcTo(d-m,f-m,t+i-y,f,y).lineTo(t+y,f).arcTo(t+m,f-m,t,f-y,y).closePath()}chamferRect(t,e,i,a,l,c){if(l<=0)return this.rect(t,e,i,a);const h=Math.min(l,Math.min(i,a)/2),d=t+i,f=e+a,m=[t+h,e,d-h,e,d,e+h,d,f-h,d-h,f,t+h,f,t,f-h,t,e+h];for(let y=m.length-1;y>=2;y-=2)m[y]===m[y-2]&&m[y-1]===m[y-3]&&m.splice(y-1,2);return this.poly(m,!0,c)}ellipse(t,e,i,a,l){return this.drawShape(new bg(t,e,i,a),l),this}roundRect(t,e,i,a,l,c){return this.drawShape(new xg(t,e,i,a,l),c),this}drawShape(t,e){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:e}),this}startPoly(t,e){let i=this._currentPoly;return i&&this.endPoly(),i=new Jl,i.points.push(t,e),this._currentPoly=i,this}endPoly(t=!1){const e=this._currentPoly;return e&&e.points.length>2&&(e.closePath=t,this.shapePrimitives.push({shape:e})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new Jl,t)){const e=this.shapePrimitives[this.shapePrimitives.length-1];if(e){let i=e.shape.x,a=e.shape.y;if(!e.transform.isIdentity()){const l=e.transform,c=i;i=l.a*i+l.c*a+l.tx,a=l.b*c+l.d*a+l.ty}this._currentPoly.points.push(i,a)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let e=0;e<t.instructions.length;e++){const i=t.instructions[e];this[i.action](...i.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const e=this.shapePrimitives;for(let i=0;i<e.length;i++){const a=e[i],l=a.shape.getBounds(tD);a.transform?t.addRect(l,a.transform):t.addRect(l)}return t}}class Co{constructor(t){this.instructions=[],this.uid=fn("graphicsPath"),this._dirty=!0,typeof t=="string"?h3(t,this):this.instructions=t?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new eD(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,e){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,e]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,e,i,a,l){const c=this.instructions[this.instructions.length-1],h=this.getLastPoint(vn.shared);let d=0,f=0;if(!c||c.action!=="bezierCurveTo")d=h.x,f=h.y;else{d=c.data[2],f=c.data[3];const m=h.x,y=h.y;d=m+(m-d),f=y+(y-f)}return this.instructions.push({action:"bezierCurveTo",data:[d,f,t,e,i,a,l]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,e,i){const a=this.instructions[this.instructions.length-1],l=this.getLastPoint(vn.shared);let c=0,h=0;if(!a||a.action!=="quadraticCurveTo")c=l.x,h=l.y;else{c=a.data[0],h=a.data[1];const d=l.x,f=l.y;c=d+(d-c),h=f+(f-h)}return this.instructions.push({action:"quadraticCurveTo",data:[c,h,t,e,i]}),this._dirty=!0,this}rect(t,e,i,a,l){return this.instructions.push({action:"rect",data:[t,e,i,a,l]}),this._dirty=!0,this}circle(t,e,i,a){return this.instructions.push({action:"circle",data:[t,e,i,a]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,e,i,a,l,c,h){l=l||a/2;const d=-1*Math.PI/2+c,f=i*2,m=Math.PI*2/f,y=[];for(let _=0;_<f;_++){const v=_%2?l:a,w=_*m+d;y.push(t+v*Math.cos(w),e+v*Math.sin(w))}return this.poly(y,!0,h),this}clone(t=!1){const e=new Co;if(!t)e.instructions=this.instructions.slice();else for(let i=0;i<this.instructions.length;i++){const a=this.instructions[i];e.instructions.push({action:a.action,data:a.data.slice()})}return e}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const e=t.a,i=t.b,a=t.c,l=t.d,c=t.tx,h=t.ty;let d=0,f=0,m=0,y=0,_=0,v=0,w=0,S=0;for(let x=0;x<this.instructions.length;x++){const T=this.instructions[x],k=T.data;switch(T.action){case"moveTo":case"lineTo":d=k[0],f=k[1],k[0]=e*d+a*f+c,k[1]=i*d+l*f+h;break;case"bezierCurveTo":m=k[0],y=k[1],_=k[2],v=k[3],d=k[4],f=k[5],k[0]=e*m+a*y+c,k[1]=i*m+l*y+h,k[2]=e*_+a*v+c,k[3]=i*_+l*v+h,k[4]=e*d+a*f+c,k[5]=i*d+l*f+h;break;case"quadraticCurveTo":m=k[0],y=k[1],d=k[2],f=k[3],k[0]=e*m+a*y+c,k[1]=i*m+l*y+h,k[2]=e*d+a*f+c,k[3]=i*d+l*f+h;break;case"arcToSvg":d=k[5],f=k[6],w=k[0],S=k[1],k[0]=e*w+a*S,k[1]=i*w+l*S,k[5]=e*d+a*f+c,k[6]=i*d+l*f+h;break;case"circle":k[4]=Wl(k[3],t);break;case"rect":k[4]=Wl(k[4],t);break;case"ellipse":k[8]=Wl(k[8],t);break;case"roundRect":k[5]=Wl(k[5],t);break;case"addPath":k[0].transform(t);break;case"poly":k[2]=Wl(k[2],t);break;default:pn("unknown transform action",T.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let e=this.instructions.length-1,i=this.instructions[e];if(!i)return t.x=0,t.y=0,t;for(;i.action==="closePath";){if(e--,e<0)return t.x=0,t.y=0,t;i=this.instructions[e]}switch(i.action){case"moveTo":case"lineTo":t.x=i.data[0],t.y=i.data[1];break;case"quadraticCurveTo":t.x=i.data[2],t.y=i.data[3];break;case"bezierCurveTo":t.x=i.data[4],t.y=i.data[5];break;case"arc":case"arcToSvg":t.x=i.data[5],t.y=i.data[6];break;case"addPath":i.data[0].getLastPoint(t);break}return t}}function Wl(n,t){return n?n.prepend(t):t.clone()}function nD(n,t){if(typeof n=="string"){const i=document.createElement("div");i.innerHTML=n.trim(),n=i.querySelector("svg")}const e={context:t,path:new Co};return oS(n,e,null,null),t}function oS(n,t,e,i){const a=n.children,{fillStyle:l,strokeStyle:c}=sD(n);l&&e?e={...e,...l}:l&&(e=l),c&&i?i={...i,...c}:c&&(i=c),t.context.fillStyle=e,t.context.strokeStyle=i;let h,d,f,m,y,_,v,w,S,x,T,k,R,U,O,j,z;switch(n.nodeName.toLowerCase()){case"path":U=n.getAttribute("d"),O=new Co(U),t.context.path(O),e&&t.context.fill(),i&&t.context.stroke();break;case"circle":v=Je(n,"cx",0),w=Je(n,"cy",0),S=Je(n,"r",0),t.context.ellipse(v,w,S,S),e&&t.context.fill(),i&&t.context.stroke();break;case"rect":h=Je(n,"x",0),d=Je(n,"y",0),j=Je(n,"width",0),z=Je(n,"height",0),x=Je(n,"rx",0),T=Je(n,"ry",0),x||T?t.context.roundRect(h,d,j,z,x||T):t.context.rect(h,d,j,z),e&&t.context.fill(),i&&t.context.stroke();break;case"ellipse":v=Je(n,"cx",0),w=Je(n,"cy",0),x=Je(n,"rx",0),T=Je(n,"ry",0),t.context.beginPath(),t.context.ellipse(v,w,x,T),e&&t.context.fill(),i&&t.context.stroke();break;case"line":f=Je(n,"x1",0),m=Je(n,"y1",0),y=Je(n,"x2",0),_=Je(n,"y2",0),t.context.beginPath(),t.context.moveTo(f,m),t.context.lineTo(y,_),i&&t.context.stroke();break;case"polygon":R=n.getAttribute("points"),k=R.match(/\d+/g).map(L=>parseInt(L,10)),t.context.poly(k,!0),e&&t.context.fill(),i&&t.context.stroke();break;case"polyline":R=n.getAttribute("points"),k=R.match(/\d+/g).map(L=>parseInt(L,10)),t.context.poly(k,!1),i&&t.context.stroke();break;case"g":case"svg":break;default:{console.info(`[SVG parser] <${n.nodeName}> elements unsupported`);break}}for(let L=0;L<a.length;L++)oS(a[L],t,e,i)}function Je(n,t,e){const i=n.getAttribute(t);return i?Number(i):e}function sD(n){const t=n.getAttribute("style"),e={},i={};let a=!1,l=!1;if(t){const c=t.split(";");for(let h=0;h<c.length;h++){const d=c[h],[f,m]=d.split(":");switch(f){case"stroke":m!=="none"&&(e.color=Un.shared.setValue(m).toNumber(),l=!0);break;case"stroke-width":e.width=Number(m);break;case"fill":m!=="none"&&(a=!0,i.color=Un.shared.setValue(m).toNumber());break;case"fill-opacity":i.alpha=Number(m);break;case"stroke-opacity":e.alpha=Number(m);break;case"opacity":i.alpha=Number(m),e.alpha=Number(m);break}}}else{const c=n.getAttribute("stroke");c&&c!=="none"&&(l=!0,e.color=Un.shared.setValue(c).toNumber(),e.width=Je(n,"stroke-width",1));const h=n.getAttribute("fill");h&&h!=="none"&&(a=!0,i.color=Un.shared.setValue(h).toNumber())}return{strokeStyle:l?e:null,fillStyle:a?i:null}}const lS=class km{constructor(t,e,i,a){this.uid=fn("fillGradient"),this.type="linear",this.gradientStops=[],this.x0=t,this.y0=e,this.x1=i,this.y1=a}addColorStop(t,e){return this.gradientStops.push({offset:t,color:Un.shared.setValue(e).toHex()}),this}buildLinearGradient(){const t=km.defaultTextureSize,{gradientStops:e}=this,i=en.get().createCanvas();i.width=t,i.height=t;const a=i.getContext("2d"),l=a.createLinearGradient(0,0,km.defaultTextureSize,1);for(let S=0;S<e.length;S++){const x=e[S];l.addColorStop(x.offset,x.color)}a.fillStyle=l,a.fillRect(0,0,t,t),this.texture=new Jt({source:new vc({resource:i,addressModeU:"clamp-to-edge",addressModeV:"repeat"})});const{x0:c,y0:h,x1:d,y1:f}=this,m=new le,y=d-c,_=f-h,v=Math.sqrt(y*y+_*_),w=Math.atan2(_,y);m.translate(-c,-h),m.scale(1/t,1/t),m.rotate(-w),m.scale(256/v,1),this.transform=m}};lS.defaultTextureSize=256;let cS=lS;const wb={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class iD{constructor(t,e){this.uid=fn("fillPattern"),this.transform=new le,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),e&&(t.source.style.addressModeU=wb[e].addressModeU,t.source.style.addressModeV=wb[e].addressModeV)}setTransform(t){const e=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/e.frame.width,1/e.frame.height)}}function gr(n,t){if(n==null)return null;let e,i;if(n?.fill?(i=n.fill,e={...t,...n}):(i=n,e=t),Un.isColorLike(i)){const c=Un.shared.setValue(i??0);return{...e,color:c.toNumber(),alpha:c.alpha===1?e.alpha:c.alpha,texture:Jt.WHITE}}else if(i instanceof iD){const c=i;return{...e,color:16777215,texture:c.texture,matrix:c.transform,fill:e.fill??null}}else if(i instanceof cS){const c=i;return c.buildLinearGradient(),{...e,color:16777215,texture:c.texture,matrix:c.transform}}const a={...t,...n};if(a.texture){if(a.texture!==Jt.WHITE){const h=a.matrix?.invert()||new le;h.scale(1/a.texture.frame.width,1/a.texture.frame.height),a.matrix=h}const c=a.texture.source.style;c.addressMode==="clamp-to-edge"&&(c.addressMode="repeat")}const l=Un.shared.setValue(a.color);return a.alpha*=l.alpha,a.color=l.toNumber(),a.matrix=a.matrix?a.matrix.clone():null,a}const rD=new vn,bb=new le,Tg=class Ys extends Ui{constructor(){super(...arguments),this.uid=fn("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Co,this._transform=new le,this._fillStyle={...Ys.defaultFillStyle},this._strokeStyle={...Ys.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new Js,this._boundsDirty=!0}clone(){const t=new Ys;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=gr(t,Ys.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=gr(t,Ys.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=gr(t,Ys.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=gr(t,Ys.defaultStrokeStyle),this}texture(t,e,i,a,l,c){return this.instructions.push({action:"texture",data:{image:t,dx:i||0,dy:a||0,dw:l||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:e?Un.shared.setValue(e).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Co,this}fill(t,e){let i;const a=this.instructions[this.instructions.length-1];return this._tick===0&&a&&a.action==="stroke"?i=a.data.path:i=this._activePath.clone(),i?(t!=null&&(e!==void 0&&typeof t=="number"&&(Re(Ne,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:e}),this._fillStyle=gr(t,Ys.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:e}=this._activePath.getLastPoint(vn.shared);this._activePath.clear(),this._activePath.moveTo(t,e)}stroke(t){let e;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="fill"?e=i.data.path:e=this._activePath.clone(),e?(t!=null&&(this._strokeStyle=gr(t,Ys.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:e}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const e=this.instructions[this.instructions.length-1-t],i=this._activePath.clone();if(e&&(e.action==="stroke"||e.action==="fill"))if(e.data.hole)e.data.hole.addPath(i);else{e.data.hole=i;break}}return this._initNextPathLocation(),this}arc(t,e,i,a,l,c){this._tick++;const h=this._transform;return this._activePath.arc(h.a*t+h.c*e+h.tx,h.b*t+h.d*e+h.ty,i,a,l,c),this}arcTo(t,e,i,a,l){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*e+c.tx,c.b*t+c.d*e+c.ty,c.a*i+c.c*a+c.tx,c.b*i+c.d*a+c.ty,l),this}arcToSvg(t,e,i,a,l,c,h){this._tick++;const d=this._transform;return this._activePath.arcToSvg(t,e,i,a,l,d.a*c+d.c*h+d.tx,d.b*c+d.d*h+d.ty),this}bezierCurveTo(t,e,i,a,l,c,h){this._tick++;const d=this._transform;return this._activePath.bezierCurveTo(d.a*t+d.c*e+d.tx,d.b*t+d.d*e+d.ty,d.a*i+d.c*a+d.tx,d.b*i+d.d*a+d.ty,d.a*l+d.c*c+d.tx,d.b*l+d.d*c+d.ty,h),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(t,e,i,a){return this._tick++,this._activePath.ellipse(t,e,i,a,this._transform.clone()),this}circle(t,e,i){return this._tick++,this._activePath.circle(t,e,i,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,e){this._tick++;const i=this._transform;return this._activePath.lineTo(i.a*t+i.c*e+i.tx,i.b*t+i.d*e+i.ty),this}moveTo(t,e){this._tick++;const i=this._transform,a=this._activePath.instructions,l=i.a*t+i.c*e+i.tx,c=i.b*t+i.d*e+i.ty;return a.length===1&&a[0].action==="moveTo"?(a[0].data[0]=l,a[0].data[1]=c,this):(this._activePath.moveTo(l,c),this)}quadraticCurveTo(t,e,i,a,l){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*e+c.tx,c.b*t+c.d*e+c.ty,c.a*i+c.c*a+c.tx,c.b*i+c.d*a+c.ty,l),this}rect(t,e,i,a){return this._tick++,this._activePath.rect(t,e,i,a,this._transform.clone()),this}roundRect(t,e,i,a,l){return this._tick++,this._activePath.roundRect(t,e,i,a,l,this._transform.clone()),this}poly(t,e){return this._tick++,this._activePath.poly(t,e,this._transform.clone()),this}regularPoly(t,e,i,a,l=0,c){return this._tick++,this._activePath.regularPoly(t,e,i,a,l,c),this}roundPoly(t,e,i,a,l,c){return this._tick++,this._activePath.roundPoly(t,e,i,a,l,c),this}roundShape(t,e,i,a){return this._tick++,this._activePath.roundShape(t,e,i,a),this}filletRect(t,e,i,a,l){return this._tick++,this._activePath.filletRect(t,e,i,a,l),this}chamferRect(t,e,i,a,l,c){return this._tick++,this._activePath.chamferRect(t,e,i,a,l,c),this}star(t,e,i,a,l=0,c=0){return this._tick++,this._activePath.star(t,e,i,a,l,c,this._transform.clone()),this}svg(t){return this._tick++,nD(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,e=t){return this._transform.scale(t,e),this}setTransform(t,e,i,a,l,c){return t instanceof le?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,e,i,a,l,c),this)}transform(t,e,i,a,l,c){return t instanceof le?(this._transform.append(t),this):(bb.set(t,e,i,a,l,c),this._transform.append(bb),this)}translate(t,e=t){return this._transform.translate(t,e),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let e=0;e<this.instructions.length;e++){const i=this.instructions[e],a=i.action;if(a==="fill"){const l=i.data;t.addBounds(l.path.bounds)}else if(a==="texture"){const l=i.data;t.addFrame(l.dx,l.dy,l.dx+l.dw,l.dy+l.dh,l.transform)}if(a==="stroke"){const l=i.data,c=l.style.width/2,h=l.path.bounds;t.addFrame(h.minX-c,h.minY-c,h.maxX+c,h.maxY+c)}}return t}containsPoint(t){if(!this.bounds.containsPoint(t.x,t.y))return!1;const e=this.instructions;let i=!1;for(let a=0;a<e.length;a++){const l=e[a],c=l.data,h=c.path;if(!l.action||!h)continue;const d=c.style,f=h.shapePath.shapePrimitives;for(let m=0;m<f.length;m++){const y=f[m].shape;if(!d||!y)continue;const _=f[m].transform,v=_?_.applyInverse(t,rD):t;l.action==="fill"?i=y.contains(v.x,v.y):i=y.strokeContains(v.x,v.y,d.width);const w=c.hole;if(w){const S=w.shapePath?.shapePrimitives;if(S)for(let x=0;x<S.length;x++)S[x].shape.contains(v.x,v.y)&&(i=!1)}if(i)return!0}}return i}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(i),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(i)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};Tg.defaultFillStyle={color:16777215,alpha:1,texture:Jt.WHITE,matrix:null,fill:null};Tg.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Jt.WHITE,matrix:null,fill:null};let _r=Tg;function Cg(n,t=1){const e=Fo.RETINA_PREFIX?.exec(n);return e?parseFloat(e[1]):t}function Eg(n,t,e){n.label=e,n._sourceOrigin=e;const i=new Jt({source:n,label:e}),a=()=>{delete t.promiseCache[e],Cn.has(e)&&Cn.remove(e)};return i.source.once("destroy",()=>{t.promiseCache[e]&&(pn("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),a())}),i.once("destroy",()=>{n.destroyed||(pn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),a())}),i}const aD=".svg",oD="image/svg+xml",lD={extension:{type:Rt.LoadParser,priority:ma.Low},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(n){return Vo(n,oD)||Ho(n,aD)},async load(n,t,e){return t.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?uD(n):cD(n,t,e,this.config.crossOrigin)},unload(n){n.destroy(!0)}};async function cD(n,t,e,i){const l=await(await en.get().fetch(n)).blob(),c=URL.createObjectURL(l),h=new Image;h.src=c,h.crossOrigin=i,await h.decode(),URL.revokeObjectURL(c);const d=document.createElement("canvas"),f=d.getContext("2d"),m=t.data?.resolution||Cg(n),y=t.data?.width??h.width,_=t.data?.height??h.height;d.width=y*m,d.height=_*m,f.drawImage(h,0,0,y*m,_*m);const{parseAsGraphicsContext:v,...w}=t.data,S=new vc({resource:d,alphaMode:"premultiply-alpha-on-upload",resolution:m,...w});return Eg(S,e,n)}async function uD(n){const e=await(await en.get().fetch(n)).text(),i=new _r;return i.svg(e),i}const hD=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let mo=null,Nm=class{constructor(){mo||(mo=URL.createObjectURL(new Blob([hD],{type:"application/javascript"}))),this.worker=new Worker(mo)}};Nm.revokeObjectURL=function(){mo&&(URL.revokeObjectURL(mo),mo=null)};const dD=`(function () {
    'use strict';

    async function loadImageBitmap(url) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      const imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap;
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let go=null;class uS{constructor(){go||(go=URL.createObjectURL(new Blob([dD],{type:"application/javascript"}))),this.worker=new Worker(go)}}uS.revokeObjectURL=function(){go&&(URL.revokeObjectURL(go),go=null)};let xb=0,im;class fD{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const{worker:e}=new Nm;e.addEventListener("message",i=>{e.terminate(),Nm.revokeObjectURL(),t(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){im===void 0&&(im=navigator.hardwareConcurrency||4);let t=this._workerPool.pop();return!t&&this._createdWorkers<im&&(this._createdWorkers++,t=new uS().worker,t.addEventListener("message",e=>{this._complete(e.data),this._returnWorker(e.target),this._next()})),t}_returnWorker(t){this._workerPool.push(t)}_complete(t){t.error!==void 0?this._resolveHash[t.uuid].reject(t.error):this._resolveHash[t.uuid].resolve(t.data),this._resolveHash[t.uuid]=null}async _run(t,e){await this._initWorkers();const i=new Promise((a,l)=>{this._queue.push({id:t,arguments:e,resolve:a,reject:l})});return this._next(),i}_next(){if(!this._queue.length)return;const t=this._getWorker();if(!t)return;const e=this._queue.pop(),i=e.id;this._resolveHash[xb]={resolve:e.resolve,reject:e.reject},t.postMessage({data:e.arguments,uuid:xb++,id:i})}}const Sb=new fD,pD=[".jpeg",".jpg",".png",".webp",".avif"],mD=["image/jpeg","image/png","image/webp","image/avif"];async function gD(n){const t=await en.get().fetch(n);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${t.status} ${t.statusText}`);const e=await t.blob();return await createImageBitmap(e)}const hS={name:"loadTextures",extension:{type:Rt.LoadParser,priority:ma.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return Vo(n,mD)||Ho(n,pD)},async load(n,t,e){let i=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await Sb.isImageBitmapSupported()?i=await Sb.loadImageBitmap(n):i=await gD(n):i=await new Promise(l=>{i=new Image,i.crossOrigin=this.config.crossOrigin,i.src=n,i.complete?l(i):i.onload=()=>{l(i)}});const a=new vc({resource:i,alphaMode:"premultiply-alpha-on-upload",resolution:t.data?.resolution||Cg(n),...t.data});return Eg(a,e,n)},unload(n){n.destroy(!0)}},dS=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],yD=dS.map(n=>`video/${n.substring(1)}`);function _D(n,t,e){e===void 0&&!t.startsWith("data:")?n.crossOrigin=wD(t):e!==!1&&(n.crossOrigin=typeof e=="string"?e:"anonymous")}function vD(n){return new Promise((t,e)=>{n.addEventListener("canplaythrough",i),n.addEventListener("error",a),n.load();function i(){l(),t()}function a(c){l(),e(c)}function l(){n.removeEventListener("canplaythrough",i),n.removeEventListener("error",a)}})}function wD(n,t=globalThis.location){if(n.startsWith("data:"))return"";t=t||globalThis.location;const e=new URL(n,document.baseURI);return e.hostname!==t.hostname||e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}const bD={name:"loadVideo",extension:{type:Rt.LoadParser},config:null,test(n){const t=Vo(n,yD),e=Ho(n,dS);return t||e},async load(n,t,e){const i={...ph.defaultOptions,resolution:t.data?.resolution||Cg(n),alphaMode:t.data?.alphaMode||await Px(),...t.data},a=document.createElement("video"),l={preload:i.autoLoad!==!1?"auto":void 0,"webkit-playsinline":i.playsinline!==!1?"":void 0,playsinline:i.playsinline!==!1?"":void 0,muted:i.muted===!0?"":void 0,loop:i.loop===!0?"":void 0,autoplay:i.autoPlay!==!1?"":void 0};Object.keys(l).forEach(d=>{const f=l[d];f!==void 0&&a.setAttribute(d,f)}),i.muted===!0&&(a.muted=!0),_D(a,n,i.crossorigin);const c=document.createElement("source");let h;if(n.startsWith("data:"))h=n.slice(5,n.indexOf(";"));else if(!n.startsWith("blob:")){const d=n.split("?")[0].slice(n.lastIndexOf(".")+1).toLowerCase();h=ph.MIME_TYPES[d]||`video/${d}`}return c.src=n,h&&(c.type=h),new Promise(d=>{const f=async()=>{const m=new ph({...i,resource:a});a.removeEventListener("canplay",f),t.data.preload&&await vD(a),d(Eg(m,e,n))};a.addEventListener("canplay",f),a.appendChild(c)})},unload(n){n.destroy(!0)}},fS={extension:Rt.ResolveParser,test:hS.test,parse:n=>({resolution:parseFloat(Fo.RETINA_PREFIX.exec(n)?.[1]??"1"),format:n.split(".").pop(),src:n})},xD={extension:Rt.ResolveParser,test:n=>Fo.RETINA_PREFIX.test(n)&&n.endsWith(".json"),parse:fS.parse};class SD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Fo,this.loader=new WR,this.cache=Cn,this._backgroundLoader=new PR(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){if(this._initialized){pn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let l=t.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const e=t.texturePreference?.resolution??1,i=typeof e=="number"?[e]:e,a=await this._detectFormats({preferredFormats:t.texturePreference?.format,skipDetections:t.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:a,resolution:i}}),t.preferences&&this.setPreferences(t.preferences)}add(t){this.resolver.add(t)}async load(t,e){this._initialized||await this.init();const i=Mh(t),a=Ds(t).map(h=>{if(typeof h!="string"){const d=this.resolver.getAlias(h);return d.some(f=>!this.resolver.hasKey(f))&&this.add(h),Array.isArray(d)?d[0]:d}return this.resolver.hasKey(h)||this.add({alias:h,src:h}),h}),l=this.resolver.resolve(a),c=await this._mapLoadToResolve(l,e);return i?c[a[0]]:c}addBundle(t,e){this.resolver.addBundle(t,e)}async loadBundle(t,e){this._initialized||await this.init();let i=!1;typeof t=="string"&&(i=!0,t=[t]);const a=this.resolver.resolveBundle(t),l={},c=Object.keys(a);let h=0,d=0;const f=()=>{e?.(++h/d)},m=c.map(y=>{const _=a[y];return d+=Object.keys(_).length,this._mapLoadToResolve(_,f).then(v=>{l[y]=v})});return await Promise.all(m),i?l[t[0]]:l}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(e))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const e=this.resolver.resolveBundle(t);Object.values(e).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return Cn.get(t);const e={};for(let i=0;i<t.length;i++)e[i]=Cn.get(t[i]);return e}async _mapLoadToResolve(t,e){const i=[...new Set(Object.values(t))];this._backgroundLoader.active=!1;const a=await this.loader.load(i,e);this._backgroundLoader.active=!0;const l={};return i.forEach(c=>{const h=a[c.src],d=[c.src];c.alias&&d.push(...c.alias),d.forEach(f=>{l[f]=h}),Cn.set(d,h)}),l}async unload(t){this._initialized||await this.init();const e=Ds(t).map(a=>typeof a!="string"?a.src:a),i=this.resolver.resolve(e);await this._unloadFromResolved(i)}async unloadBundle(t){this._initialized||await this.init(),t=Ds(t);const e=this.resolver.resolveBundle(t),i=Object.keys(e).map(a=>this._unloadFromResolved(e[a]));await Promise.all(i)}async _unloadFromResolved(t){const e=Object.values(t);e.forEach(i=>{Cn.remove(i.src)}),await this.loader.unload(e)}async _detectFormats(t){let e=[];t.preferredFormats&&(e=Array.isArray(t.preferredFormats)?t.preferredFormats:[t.preferredFormats]);for(const i of t.detections)t.skipDetections||await i.test()?e=await i.add(e):t.skipDetections||(e=await i.remove(e));return e=e.filter((i,a)=>e.indexOf(i)===a),e}get detections(){return this._detections}setPreferences(t){this.loader.parsers.forEach(e=>{e.config&&Object.keys(e.config).filter(i=>i in t).forEach(i=>{e.config[i]=t[i]})})}}const Ri=new SD;xs.handleByList(Rt.LoadParser,Ri.loader.parsers).handleByList(Rt.ResolveParser,Ri.resolver.parsers).handleByList(Rt.CacheParser,Ri.cache.parsers).handleByList(Rt.DetectionParser,Ri.detections);xs.add(jR,FR,UR,YR,HR,qR,GR,ZR,JR,o3,lD,hS,bD,fS,xD);const Ab={loader:Rt.LoadParser,resolver:Rt.ResolveParser,cache:Rt.CacheParser,detection:Rt.DetectionParser};xs.handle(Rt.Asset,n=>{const t=n.ref;Object.entries(Ab).filter(([e])=>!!t[e]).forEach(([e,i])=>xs.add(Object.assign(t[e],{extension:t[e].extension??i})))},n=>{const t=n.ref;Object.keys(Ab).filter(e=>!!t[e]).forEach(e=>xs.remove(t[e]))});class Os extends mn{constructor(t){t instanceof _r&&(t={context:t});const{context:e,roundPixels:i,...a}=t||{};super({label:"Graphics",...a}),this.canBundle=!0,this.renderPipeId="graphics",this._roundPixels=0,e?this._context=e:this._context=this._ownedContext=new _r,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=i??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}addBounds(t){t.addBounds(this._context.bounds)}containsPoint(t){return this._context.containsPoint(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}onViewUpdate(){if(this._didChangeId+=4096,this._didGraphicsUpdate=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||t?.context===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,e){return this.context[t](...e),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Os(this._context.clone()):(this._ownedContext=null,new Os(this._context))}lineStyle(t,e,i){Re(Ne,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const a={};return t&&(a.width=t),e&&(a.color=e),i&&(a.alpha=i),this.context.strokeStyle=a,this}beginFill(t,e){Re(Ne,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const i={};return t&&(i.color=t),e&&(i.alpha=e),this.context.fillStyle=i,this}endFill(){Re(Ne,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==_r.defaultStrokeStyle.width||t.color!==_r.defaultStrokeStyle.color||t.alpha!==_r.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return Re(Ne,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return Re(Ne,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return Re(Ne,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return Re(Ne,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return Re(Ne,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return Re(Ne,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}class vr extends To{constructor(t,e=!0){super(t[0]instanceof Jt?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=e,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Di.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Di.shared.add(this.update,this,Eh.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=t.deltaTime,i=this.animationSpeed*e,a=this.currentFrame;if(this._durations!==null){let l=this._currentTime%1*this._durations[this.currentFrame];for(l+=i/60*1e3;l<0;)this._currentTime--,l+=this._durations[this.currentFrame];const c=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);l>=this._durations[this.currentFrame];)l-=this._durations[this.currentFrame]*c,this._currentTime+=c;this._currentTime+=l/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):a!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<a||this.animationSpeed<0&&this.currentFrame>a)&&this.onLoop(),this._updateTexture())}_updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this.texture=this._textures[t],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let i=0;i<t.length;++i)e.push(Jt.from(t[i]));return new vr(e)}static fromImages(t){const e=[];for(let i=0;i<t.length;++i)e.push(Jt.from(t[i]));return new vr(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof Jt)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Di.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Di.shared.add(this.update,this),this._isConnectedToTicker=!0))}}class AD extends mn{constructor(t,e){const{text:i,resolution:a,style:l,anchor:c,width:h,height:d,roundPixels:f,...m}=t;super({...m}),this.batched=!0,this.resolution=null,this._didTextUpdate=!0,this._roundPixels=0,this._bounds=new Js,this._boundsDirty=!0,this._styleClass=e,this.text=i??"",this.style=l,this.resolution=a??null,this.allowChildren=!1,this._anchor=new Ln({_onUpdate:()=>{this.onViewUpdate()}}),c&&(this.anchor=c),this.roundPixels=f??!1,h&&(this.width=h),d&&(this.height=d)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}set text(t){t=t.toString(),this._text!==t&&(this._text=t,this.onViewUpdate())}get text(){return this._text}get style(){return this._style}set style(t){t=t||{},this._style?.off("update",this.onViewUpdate,this),t instanceof this._styleClass?this._style=t:this._style=new this._styleClass(t),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(t){this._setWidth(t,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(t){this._setHeight(t,this.bounds.height)}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this.bounds.width,t.height=Math.abs(this.scale.y)*this.bounds.height,t}setSize(t,e){let i,a;typeof t!="object"?(i=t,a=e??t):(i=t.width,a=t.height??t.width),i!==void 0&&this._setWidth(i,this.bounds.width),a!==void 0&&this._setHeight(a,this.bounds.height)}addBounds(t){const e=this.bounds;t.addFrame(e.minX,e.minY,e.maxX,e.maxY)}containsPoint(t){const e=this.bounds.maxX,i=this.bounds.maxY,a=-e*this.anchor.x;let l=0;return t.x>=a&&t.x<=a+e&&(l=-i*this.anchor.y,t.y>=l&&t.y<=l+i)}onViewUpdate(){if(this._didChangeId+=4096,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0,this._didTextUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}_getKey(){return`${this.text}:${this._style.styleKey}`}destroy(t=!1){super.destroy(t),this.owner=null,this._bounds=null,this._anchor=null,(typeof t=="boolean"?t:t?.style)&&this._style.destroy(t),this._style=null,this._text=null}}function TD(n,t){let e=n[0]??{};return(typeof e=="string"||n[1])&&(Re(Ne,`use new ${t}({ text: "hi!", style }) instead`),e={text:e,style:n[1]}),e}const CD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function ED(n){const t=typeof n.fontSize=="number"?`${n.fontSize}px`:n.fontSize;let e=n.fontFamily;Array.isArray(n.fontFamily)||(e=n.fontFamily.split(","));for(let i=e.length-1;i>=0;i--){let a=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(a)&&!CD.includes(a)&&(a=`"${a}"`),e[i]=a}return`${n.fontStyle} ${n.fontVariant} ${n.fontWeight} ${t} ${e.join(",")}`}const rm={willReadFrequently:!0},Ls=class At{static get experimentalLetterSpacingSupported(){let t=At._experimentalLetterSpacingSupported;if(t!==void 0){const e=en.get().getCanvasRenderingContext2D().prototype;t=At._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,i,a,l,c,h,d,f){this.text=t,this.style=e,this.width=i,this.height=a,this.lines=l,this.lineWidths=c,this.lineHeight=h,this.maxLineWidth=d,this.fontProperties=f}static measureText(t=" ",e,i=At._canvas,a=e.wordWrap){const l=`${t}:${e.styleKey}`;if(At._measurementCache[l])return At._measurementCache[l];const c=ED(e),h=At.measureFont(c);h.fontSize===0&&(h.fontSize=e.fontSize,h.ascent=e.fontSize);const d=At.__context;d.font=c;const m=(a?At._wordWrap(t,e,i):t).split(/(?:\r\n|\r|\n)/),y=new Array(m.length);let _=0;for(let k=0;k<m.length;k++){const R=At._measureText(m[k],e.letterSpacing,d);y[k]=R,_=Math.max(_,R)}const v=e._stroke?.width||0;let w=_+v;e.dropShadow&&(w+=e.dropShadow.distance);const S=e.lineHeight||h.fontSize+v;let x=Math.max(S,h.fontSize+v*2)+(m.length-1)*(S+e.leading);return e.dropShadow&&(x+=e.dropShadow.distance),new At(t,e,w,x,m,y,S+e.leading,_,h)}static _measureText(t,e,i){let a=!1;At.experimentalLetterSpacingSupported&&(At.experimentalLetterSpacing?(i.letterSpacing=`${e}px`,i.textLetterSpacing=`${e}px`,a=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let l=i.measureText(t).width;return l>0&&(a?l-=e:l+=(At.graphemeSegmenter(t).length-1)*e),l}static _wordWrap(t,e,i=At._canvas){const a=i.getContext("2d",rm);let l=0,c="",h="";const d=Object.create(null),{letterSpacing:f,whiteSpace:m}=e,y=At._collapseSpaces(m),_=At._collapseNewlines(m);let v=!y;const w=e.wordWrapWidth+f,S=At._tokenize(t);for(let x=0;x<S.length;x++){let T=S[x];if(At._isNewline(T)){if(!_){h+=At._addLine(c),v=!y,c="",l=0;continue}T=" "}if(y){const R=At.isBreakingSpace(T),U=At.isBreakingSpace(c[c.length-1]);if(R&&U)continue}const k=At._getFromCache(T,f,d,a);if(k>w)if(c!==""&&(h+=At._addLine(c),c="",l=0),At.canBreakWords(T,e.breakWords)){const R=At.wordWrapSplit(T);for(let U=0;U<R.length;U++){let O=R[U],j=O,z=1;for(;R[U+z];){const V=R[U+z];if(!At.canBreakChars(j,V,T,U,e.breakWords))O+=V;else break;j=V,z++}U+=z-1;const L=At._getFromCache(O,f,d,a);L+l>w&&(h+=At._addLine(c),v=!1,c="",l=0),c+=O,l+=L}}else{c.length>0&&(h+=At._addLine(c),c="",l=0);const R=x===S.length-1;h+=At._addLine(T,!R),v=!1,c="",l=0}else k+l>w&&(v=!1,h+=At._addLine(c),c="",l=0),(c.length>0||!At.isBreakingSpace(T)||v)&&(c+=T,l+=k)}return h+=At._addLine(c,!1),h}static _addLine(t,e=!0){return t=At._trimRight(t),t=e?`${t}
`:t,t}static _getFromCache(t,e,i,a){let l=i[t];return typeof l!="number"&&(l=At._measureText(t,e,a)+e,i[t]=l),l}static _collapseSpaces(t){return t==="normal"||t==="pre-line"}static _collapseNewlines(t){return t==="normal"}static _trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const i=t[e];if(!At.isBreakingSpace(i))break;t=t.slice(0,-1)}return t}static _isNewline(t){return typeof t!="string"?!1:At._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:At._breakingSpaces.includes(t.charCodeAt(0))}static _tokenize(t){const e=[];let i="";if(typeof t!="string")return e;for(let a=0;a<t.length;a++){const l=t[a],c=t[a+1];if(At.isBreakingSpace(l,c)||At._isNewline(l)){i!==""&&(e.push(i),i=""),e.push(l);continue}i+=l}return i!==""&&e.push(i),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,a,l){return!0}static wordWrapSplit(t){return At.graphemeSegmenter(t)}static measureFont(t){if(At._fonts[t])return At._fonts[t];const e=At._context;e.font=t;const i=e.measureText(At.METRICS_STRING+At.BASELINE_SYMBOL),a={ascent:i.actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent,fontSize:i.actualBoundingBoxAscent+i.actualBoundingBoxDescent};return At._fonts[t]=a,a}static clearMetrics(t=""){t?delete At._fonts[t]:At._fonts={}}static get _canvas(){if(!At.__canvas){let t;try{const e=new OffscreenCanvas(0,0);if(e.getContext("2d",rm)?.measureText)return At.__canvas=e,e;t=en.get().createCanvas()}catch{t=en.get().createCanvas()}t.width=t.height=10,At.__canvas=t}return At.__canvas}static get _context(){return At.__context||(At.__context=At._canvas.getContext("2d",rm)),At.__context}};Ls.METRICS_STRING="|q";Ls.BASELINE_SYMBOL="M";Ls.BASELINE_MULTIPLIER=1.4;Ls.HEIGHT_MULTIPLIER=2;Ls.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const n=new Intl.Segmenter;return t=>[...n.segment(t)].map(e=>e.segment)}return n=>[...n]})();Ls.experimentalLetterSpacing=!1;Ls._fonts={};Ls._newlines=[10,13];Ls._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];Ls._measurementCache={};let MD=Ls;const Tb=["_fontFamily","_fontStyle","_fontSize","_fontVariant","_fontWeight","_breakWords","_align","_leading","_letterSpacing","_lineHeight","_textBaseline","_whiteSpace","_wordWrap","_wordWrapWidth","_padding","_cssOverrides","_trim"];function kD(n){const t=[];let e=0;for(let i=0;i<Tb.length;i++){const a=Tb[i];t[e++]=n[a]}return e=pS(n._fill,t,e),e=ND(n._stroke,t,e),t.join("-")}function pS(n,t,e){return n&&(t[e++]=n.color,t[e++]=n.alpha,t[e++]=n.fill?.uid),e}function ND(n,t,e){return n&&(e=pS(n,t,e),t[e++]=n.width,t[e++]=n.alignment,t[e++]=n.cap,t[e++]=n.join,t[e++]=n.miterLimit),e}const Mg=class ao extends Ui{constructor(t={}){super(),RD(t);const e={...ao.defaultTextStyle,...t};for(const i in e){const a=i;this[a]=e[i]}this.update()}get align(){return this._align}set align(t){this._align=t,this.update()}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords=t,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(t){t!==null&&typeof t=="object"?this._dropShadow={...ao.defaultDropShadow,...t}:this._dropShadow=t?{...ao.defaultDropShadow}:null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(t){this._fontFamily=t,this.update()}get fontSize(){return this._fontSize}set fontSize(t){typeof t=="string"?this._fontSize=parseInt(t,10):this._fontSize=t,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle=t,this.update()}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant=t,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight=t,this.update()}get leading(){return this._leading}set leading(t){this._leading=t,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing=t,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight=t,this.update()}get padding(){return this._padding}set padding(t){this._padding=t,this.update()}get trim(){return this._trim}set trim(t){this._trim=t,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline=t,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace=t,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap=t,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth=t,this.update()}get fill(){return this._originalFill}set fill(t){t!==this._originalFill&&(this._originalFill=t,this._fill=gr(t===0?"black":t,_r.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(t){t!==this._originalStroke&&(this._originalStroke=t,this._stroke=gr(t,_r.defaultStrokeStyle),this.update())}_generateKey(){return this._styleKey=kD(this),this._styleKey}update(){this._styleKey=null,this.emit("update",this)}reset(){const t=ao.defaultTextStyle;for(const e in t)this[e]=t[e]}get styleKey(){return this._styleKey||this._generateKey()}clone(){return new ao({align:this.align,breakWords:this.breakWords,dropShadow:this.dropShadow,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth})}destroy(t=!1){if(this.removeAllListeners(),typeof t=="boolean"?t:t?.texture){const i=typeof t=="boolean"?t:t?.textureSource;this._fill?.texture&&this._fill.texture.destroy(i),this._originalFill?.texture&&this._originalFill.texture.destroy(i),this._stroke?.texture&&this._stroke.texture.destroy(i),this._originalStroke?.texture&&this._originalStroke.texture.destroy(i)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}};Mg.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};Mg.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let mS=Mg;function RD(n){const t=n;if(typeof t.dropShadow=="boolean"&&t.dropShadow){const e=mS.defaultDropShadow;n.dropShadow={alpha:t.dropShadowAlpha??e.alpha,angle:t.dropShadowAngle??e.angle,blur:t.dropShadowBlur??e.blur,color:t.dropShadowColor??e.color,distance:t.dropShadowDistance??e.distance}}if(t.strokeThickness!==void 0){Re(Ne,"strokeThickness is now a part of stroke");const e=t.stroke;n.stroke={color:e,width:t.strokeThickness}}if(Array.isArray(t.fill)){Re(Ne,"gradient fill is now a fill pattern: `new FillGradient(...)`");const e=new cS(0,0,0,n.fontSize*1.7),i=t.fill.map(a=>Un.shared.setValue(a).toNumber());i.forEach((a,l)=>{const c=t.fillGradientStops[l]??l/i.length;e.addColorStop(c,a)}),n.fill={fill:e}}}class DD extends AD{constructor(...t){const e=TD(t,"Text");super(e,mS),this.renderPipeId="text"}_updateBounds(){const t=this._bounds,e=this._style.padding,i=this._anchor,a=MD.measureText(this._text,this._style),{width:l,height:c}=a;t.minX=-i._x*l-e,t.maxX=t.minX+l+e*2,t.minY=-i._y*c-e,t.maxY=t.minY+c+e*2}}xs.add(MN,kN);class kg{constructor(t,e){this.targetElement=t,this.fullscreenButton=document.createElement("button"),this.fullscreenButton.textContent="Fullscreen",this.fullscreenButton.className="fullscreen-btn",e.append(this.fullscreenButton),this.attachEventListeners()}attachEventListeners(){this.fullscreenButton.addEventListener("click",()=>this.enterFullscreen()),document.addEventListener("fullscreenchange",()=>this.onFullscreenChange()),document.addEventListener("webkitfullscreenchange",()=>this.onFullscreenChange())}enterFullscreen(){this.targetElement.requestFullscreen?this.targetElement.requestFullscreen():this.targetElement.webkitRequestFullscreen&&this.targetElement.webkitRequestFullscreen()}onFullscreenChange(){document.fullscreenElement===this.targetElement||document.webkitFullscreenElement===this.targetElement?(this.fullscreenButton.style.display="none",this.targetElement.style.width=`${window.innerWidth}px`,this.targetElement.style.height=`${window.innerHeight}px`):(this.fullscreenButton.style.display="block",this.targetElement.style.width="",this.targetElement.style.height="")}}async function OD({container:n,uploadButton:t,fileInput:e}){const i=new _g;await i.init({antialias:!0,backgroundColor:"hsl(204, 92%, 80%)",width:si,height:Ks});const{canvas:a}=i;a.className="dancing-circles__canvas",a.id="dc-canvas",n.append(a),n.querySelectorAll(".fullscreen-btn").forEach(Z=>Z.remove()),new kg(a,n),Mi.initializeUploadButton(e,t);const l=2,c=new px,h=new Ns(0),d=()=>{H=!1,Ns.circleArray=[h];for(let Z=1;Z<h.arrayLength;Z++)new Ns(Z);Ns.circleArray.sort((Z,$)=>$.currentRadius-Z.currentRadius)},f=Z=>{const $=jw(h.arrayLength);for(let ut=0;ut<Z;ut++){const A=Ns.circleArray[$[ut]];A.targetX=bo(A.currentRadius,h.gap),A.targetY=xo(A.currentRadius,h.gap),Mi.playing||(A.targetRadius=A.baseRadius,A.targetColor=c.getRandomColor(h.colorSettings))}},m=30;let y=m;const _=30;let v=_,w=_*.5,S=!0;const x=()=>{if(Mi.playing){if(y>=m){const $=jw(h.arrayLength);for(let ut=0;ut<h.arrayLength;ut++){const A=Ns.circleArray[$[ut]];h.colorSettings.hertz=Math.round(Mi.pitch),A.targetColor=c.convertHertzToHSL(h.colorSettings)}y=0}else y++;const Z=Mi.getVolumePercentage(Mi.volume);if(Mi.volume!=-1/0){const $=1+Z*.02;v>=_?(Ns.circleArray.forEach((ut,A)=>{S?A%2==0&&(ut.targetRadius*=$):A%2!=0&&(ut.targetRadius*=$)}),v=0):v++,w>=_?(Ns.circleArray.forEach((ut,A)=>{S?A%2==0&&(ut.targetRadius=ut.baseRadius):A%2!=0&&(ut.targetRadius=ut.baseRadius)}),S=!S,w=0):w++}}};let T=0,k=0,R=0,U=1e3,O=0,j=10,z=0,L=40;const V=()=>{i.stage.removeChildren();const Z=new Os;Ns.circleArray.forEach($=>{$.lerpRadius();let ut=!0;$.lerpPosition(ut),ut=!1,$.lerpPosition(ut),$.lerpColor(),Z.circle($.x,$.y,$.currentRadius),Z.fill(c.convertHSLtoHSLA($.color,.7)),i.stage.addChild(Z)})};let H=!1;const K={id:0},Q=Z=>{H||(T=Z-k,k=Z,R+=T,O+=T,z+=T,R>=U&&(f(l),R=0),O>=j&&(x(),O=0),z>=L&&(V(),z=0),K.id=requestAnimationFrame(Q))};return d(),Q(0),()=>{H=!0,K.id&&cancelAnimationFrame(K.id),i.destroy(!0,{children:!0,texture:!0}),a.remove()}}const BD=()=>{const n=it.useRef(null),t=it.useRef(null),e=it.useRef(null);return it.useEffect(()=>{if(!n.current||!t.current||!e.current)return;let i;return(async()=>i=await OD({container:n.current,uploadButton:t.current,fileInput:e.current}))(),()=>{i?.()}},[]),W.jsxs("section",{className:"dancing-circles",ref:n,children:[W.jsx("h1",{className:"u-canvas-title",children:"Dancing Circles"}),W.jsx("label",{className:"dancing-circles__upload-btn floating",htmlFor:"file-upload",ref:t,children:"Upload Music"}),W.jsx("input",{className:"dancing-circles__input",id:"file-upload",type:"file",name:"fileupload",accept:"audio/*",ref:e})]})};class ah{constructor(t,e){this.colorPalette=t,this.currentColors=Array.from({length:e},()=>this.getRandomColorFromPalette()),this.targetColors=Array.from({length:e},()=>this.getRandomColorFromPalette())}getRandomColorFromPalette(){return this.colorPalette[Math.floor(Math.random()*this.colorPalette.length)]}interpolateColors(t){this.currentColors=this.currentColors.map((e,i)=>{const a=this.targetColors[i];return{hue:e.hue+(a.hue-e.hue)*t,saturation:e.saturation+(a.saturation-e.saturation)*t,lightness:e.lightness+(a.lightness-e.lightness)*t}})}updateTargetColors(){this.targetColors=this.targetColors.map(()=>this.getRandomColorFromPalette())}hslToString(t){try{return`hsl(${t.hue}, ${t.saturation}%, ${t.lightness}%)`}catch{return console.error("Invalid color object: ",t),console.error("Returning white color instead"),"hsl(0, 0%, 100%)"}}}async function ID(n){const t=new _g;globalThis.__PIXI_APP__=t,await t.init({antialias:!0,backgroundColor:"#223344",width:si,height:Ks}),n.append(t.canvas),new kg(t.canvas,n);const e=t.screen.width/2,i=t.screen.height/2,a=[{hue:3,saturation:80,lightness:85},{hue:5,saturation:80,lightness:85},{hue:8,saturation:80,lightness:85}],l=[],c=30,h=.3,d=new ah(a,c);for(let E=0;E<c;E++){const N=new Os;l.push(N),N.x=e,N.y=i,t.stage.addChild(N)}const f=E=>{l.forEach((N,B)=>{const P=d.hslToString(d.currentColors[B]);N.clear(),N.moveTo(0,0),N.lineTo(E.radius*Math.cos($+B*2)-Math.sin(E.radius)-B,E.radius*Math.sin($+B)),N.stroke({color:P,width:E.width,alpha:h,cap:"round"})})},m=[],y=50,_=7,v=.3,w=new ah(a,y);let S=0;const x=8;for(let E=0;E<y;E++){const N=[];S+=x;const B=E*Math.PI*2/y,P=e+S*Math.cos(B),C=i+S*Math.sin(B);for(let D=0;D<_;D++){const Y=new Os;N.push(Y),Y.x=P,Y.y=C,t.stage.addChild(Y)}m.push(N)}const T=E=>{m.forEach((N,B)=>{const P=w.hslToString(w.currentColors[B]);N.forEach((C,D)=>{C.clear(),C.moveTo(0,0),C.lineTo(E.radius*1.2*Math.cos($+D*3)-Math.sin(B),E.radius*Math.sin($+D*B)+1.2),C.stroke({color:P,width:E.width,alpha:v,cap:"round"})})})},k=[],R=12,U=.2,O=new ah(a,R);for(let E=0;E<R;E++){const N=new Os;k.push(N),N.x=e,N.y=i,t.stage.addChild(N)}const j=E=>{k.forEach((N,B)=>{const P=O.hslToString(O.currentColors[B]);N.clear(),N.moveTo(0,0),N.lineTo(E.radius*Math.cos($+B*3)-Math.sin(B),E.radius*Math.sin($+B));const C=15,D=Math.pow(Math.PI,Math.PI)/C;for(let Y=0;Y<2*C;Y++){const st=Y*D*D,et=E.radius*(Math.cos(st+B*4)-Math.sin(st+B))*2,mt=E.radius*(Math.sin(st+B)+Math.sin(B))*3;N.lineTo(et,mt)}N.stroke({color:P,width:E.width,alpha:U,cap:"round"})})},z=new Os;z.x=0,z.y=0,t.stage.addChild(z);const L=12,V=6,H=.8,K=new ah(a,L);for(let E=0;E<L;E++){const N=new Os;N.x=e,N.y=i,t.stage.addChild(N)}let Q=5;const Z=(E,N,B,P,C,D)=>{if(D===0)E.moveTo(N,B),E.lineTo(P,C);else{const st=(P-N)/3,et=(C-B)/3,mt=N+st,gt=B+et,ot=P-st,vt=C-et,xt=(mt+ot)/2-Math.sqrt(3)*(vt-gt)/2,Wt=(gt+vt)/2+Math.sqrt(3)*(ot-mt)/2;Z(E,N,B,mt,gt,D-1),Z(E,mt,gt,xt,Wt,D-1),Z(E,xt,Wt,ot,vt,D-1),Z(E,ot,vt,P,C,D-1)}const Y=K.hslToString(K.currentColors[D]);E.stroke({color:Y,alpha:H,width:Q})};let $=0;const ut=50;let A=0;return t.ticker.add(E=>{$+=.01,A+=E.deltaMS/100,A>=ut&&(d.updateTargetColors(),w.updateTargetColors(),O.updateTargetColors(),K.updateTargetColors(),A=0);const N=A/ut;d.interpolateColors(N),w.interpolateColors(N),O.interpolateColors(N),K.interpolateColors(N);const B=7+3*Math.sin(E.lastTime/800),P=400+120*Math.sin(E.lastTime/800);f({width:B,radius:P});const D=8+3*Math.sin(E.lastTime/500*2+3),Y=100+50*Math.cos(E.lastTime/800+10);T({width:D,radius:Y});const et=10+3*Math.sin(E.lastTime/500),mt=50*Math.cos(E.lastTime/800+10);j({width:et,radius:mt}),z.clear();for(let ot=0;ot<2;ot++)Z(z,10*ot,400*ot,t.canvas.width/ot*10,t.canvas.height/ot,V);Q=15*Math.sin($)}),()=>{t.destroy(!0,{children:!0,texture:!0})}}const zD=()=>{const n=tC.useRef(null);return it.useEffect(()=>{if(!n.current)return;let t;return(async()=>t=await ID(n.current))(),()=>{t?.()}},[]),W.jsx("section",{className:"dancing-fractals",ref:n,children:W.jsx("h1",{className:"u-canvas-title",children:"Dancing Fractals"})})},LD=()=>W.jsxs("section",{className:"games",children:[W.jsx("h1",{className:"games__title",children:"Games"}),W.jsx("div",{className:"games__grid",children:W.jsx("div",{className:"games__grid-item",children:W.jsx(sc,{to:"/games/p4-Vega",children:W.jsx("h3",{className:"games__grid-item--p4 floating",children:"p4-Vega"})})})})]});var am={exports:{}},Cb;function PD(){return Cb||(Cb=1,(function(n){(function(){function t(I,G,ht){return I.call.apply(I.bind,arguments)}function e(I,G,ht){if(!I)throw Error();if(2<arguments.length){var lt=Array.prototype.slice.call(arguments,2);return function(){var _t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(_t,lt),I.apply(G,_t)}}return function(){return I.apply(G,arguments)}}function i(I,G,ht){return i=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?t:e,i.apply(null,arguments)}var a=Date.now||function(){return+new Date};function l(I,G){this.a=I,this.o=G||I,this.c=this.o.document}var c=!!window.FontFace;function h(I,G,ht,lt){if(G=I.c.createElement(G),ht)for(var _t in ht)ht.hasOwnProperty(_t)&&(_t=="style"?G.style.cssText=ht[_t]:G.setAttribute(_t,ht[_t]));return lt&&G.appendChild(I.c.createTextNode(lt)),G}function d(I,G,ht){I=I.c.getElementsByTagName(G)[0],I||(I=document.documentElement),I.insertBefore(ht,I.lastChild)}function f(I){I.parentNode&&I.parentNode.removeChild(I)}function m(I,G,ht){G=G||[],ht=ht||[];for(var lt=I.className.split(/\s+/),_t=0;_t<G.length;_t+=1){for(var St=!1,Ct=0;Ct<lt.length;Ct+=1)if(G[_t]===lt[Ct]){St=!0;break}St||lt.push(G[_t])}for(G=[],_t=0;_t<lt.length;_t+=1){for(St=!1,Ct=0;Ct<ht.length;Ct+=1)if(lt[_t]===ht[Ct]){St=!0;break}St||G.push(lt[_t])}I.className=G.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(I,G){for(var ht=I.className.split(/\s+/),lt=0,_t=ht.length;lt<_t;lt++)if(ht[lt]==G)return!0;return!1}function _(I){return I.o.location.hostname||I.a.location.hostname}function v(I,G,ht){function lt(){Xt&&_t&&St&&(Xt(Ct),Xt=null)}G=h(I,"link",{rel:"stylesheet",href:G,media:"all"});var _t=!1,St=!0,Ct=null,Xt=ht||null;c?(G.onload=function(){_t=!0,lt()},G.onerror=function(){_t=!0,Ct=Error("Stylesheet failed to load"),lt()}):setTimeout(function(){_t=!0,lt()},0),d(I,"head",G)}function w(I,G,ht,lt){var _t=I.c.getElementsByTagName("head")[0];if(_t){var St=h(I,"script",{src:G}),Ct=!1;return St.onload=St.onreadystatechange=function(){Ct||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Ct=!0,ht&&ht(null),St.onload=St.onreadystatechange=null,St.parentNode.tagName=="HEAD"&&_t.removeChild(St))},_t.appendChild(St),setTimeout(function(){Ct||(Ct=!0,ht&&ht(Error("Script load timeout")))},lt||5e3),St}return null}function S(){this.a=0,this.c=null}function x(I){return I.a++,function(){I.a--,k(I)}}function T(I,G){I.c=G,k(I)}function k(I){I.a==0&&I.c&&(I.c(),I.c=null)}function R(I){this.a=I||"-"}R.prototype.c=function(I){for(var G=[],ht=0;ht<arguments.length;ht++)G.push(arguments[ht].replace(/[\W_]+/g,"").toLowerCase());return G.join(this.a)};function U(I,G){this.c=I,this.f=4,this.a="n";var ht=(G||"n4").match(/^([nio])([1-9])$/i);ht&&(this.a=ht[1],this.f=parseInt(ht[2],10))}function O(I){return L(I)+" "+(I.f+"00")+" 300px "+j(I.c)}function j(I){var G=[];I=I.split(/,\s*/);for(var ht=0;ht<I.length;ht++){var lt=I[ht].replace(/['"]/g,"");lt.indexOf(" ")!=-1||/^\d/.test(lt)?G.push("'"+lt+"'"):G.push(lt)}return G.join(",")}function z(I){return I.a+I.f}function L(I){var G="normal";return I.a==="o"?G="oblique":I.a==="i"&&(G="italic"),G}function V(I){var G=4,ht="n",lt=null;return I&&((lt=I.match(/(normal|oblique|italic)/i))&&lt[1]&&(ht=lt[1].substr(0,1).toLowerCase()),(lt=I.match(/([1-9]00|normal|bold)/i))&&lt[1]&&(/bold/i.test(lt[1])?G=7:/[1-9]00/.test(lt[1])&&(G=parseInt(lt[1].substr(0,1),10)))),ht+G}function H(I,G){this.c=I,this.f=I.o.document.documentElement,this.h=G,this.a=new R("-"),this.j=G.events!==!1,this.g=G.classes!==!1}function K(I){I.g&&m(I.f,[I.a.c("wf","loading")]),Z(I,"loading")}function Q(I){if(I.g){var G=y(I.f,I.a.c("wf","active")),ht=[],lt=[I.a.c("wf","loading")];G||ht.push(I.a.c("wf","inactive")),m(I.f,ht,lt)}Z(I,"inactive")}function Z(I,G,ht){I.j&&I.h[G]&&(ht?I.h[G](ht.c,z(ht)):I.h[G]())}function $(){this.c={}}function ut(I,G,ht){var lt=[],_t;for(_t in G)if(G.hasOwnProperty(_t)){var St=I.c[_t];St&&lt.push(St(G[_t],ht))}return lt}function A(I,G){this.c=I,this.f=G,this.a=h(this.c,"span",{"aria-hidden":"true"},this.f)}function E(I){d(I.c,"body",I.a)}function N(I){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+j(I.c)+";"+("font-style:"+L(I)+";font-weight:"+(I.f+"00")+";")}function B(I,G,ht,lt,_t,St){this.g=I,this.j=G,this.a=lt,this.c=ht,this.f=_t||3e3,this.h=St||void 0}B.prototype.start=function(){var I=this.c.o.document,G=this,ht=a(),lt=new Promise(function(Ct,Xt){function Yt(){a()-ht>=G.f?Xt():I.fonts.load(O(G.a),G.h).then(function(ue){1<=ue.length?Ct():setTimeout(Yt,25)},function(){Xt()})}Yt()}),_t=null,St=new Promise(function(Ct,Xt){_t=setTimeout(Xt,G.f)});Promise.race([St,lt]).then(function(){_t&&(clearTimeout(_t),_t=null),G.g(G.a)},function(){G.j(G.a)})};function P(I,G,ht,lt,_t,St,Ct){this.v=I,this.B=G,this.c=ht,this.a=lt,this.s=Ct||"BESbswy",this.f={},this.w=_t||3e3,this.u=St||null,this.m=this.j=this.h=this.g=null,this.g=new A(this.c,this.s),this.h=new A(this.c,this.s),this.j=new A(this.c,this.s),this.m=new A(this.c,this.s),I=new U(this.a.c+",serif",z(this.a)),I=N(I),this.g.a.style.cssText=I,I=new U(this.a.c+",sans-serif",z(this.a)),I=N(I),this.h.a.style.cssText=I,I=new U("serif",z(this.a)),I=N(I),this.j.a.style.cssText=I,I=new U("sans-serif",z(this.a)),I=N(I),this.m.a.style.cssText=I,E(this.g),E(this.h),E(this.j),E(this.m)}var C={D:"serif",C:"sans-serif"},D=null;function Y(){if(D===null){var I=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!I&&(536>parseInt(I[1],10)||parseInt(I[1],10)===536&&11>=parseInt(I[2],10))}return D}P.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),et(this)};function st(I,G,ht){for(var lt in C)if(C.hasOwnProperty(lt)&&G===I.f[C[lt]]&&ht===I.f[C[lt]])return!0;return!1}function et(I){var G=I.g.a.offsetWidth,ht=I.h.a.offsetWidth,lt;(lt=G===I.f.serif&&ht===I.f["sans-serif"])||(lt=Y()&&st(I,G,ht)),lt?a()-I.A>=I.w?Y()&&st(I,G,ht)&&(I.u===null||I.u.hasOwnProperty(I.a.c))?gt(I,I.v):gt(I,I.B):mt(I):gt(I,I.v)}function mt(I){setTimeout(i(function(){et(this)},I),50)}function gt(I,G){setTimeout(i(function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),G(this.a)},I),0)}function ot(I,G,ht){this.c=I,this.a=G,this.f=0,this.m=this.j=!1,this.s=ht}var vt=null;ot.prototype.g=function(I){var G=this.a;G.g&&m(G.f,[G.a.c("wf",I.c,z(I).toString(),"active")],[G.a.c("wf",I.c,z(I).toString(),"loading"),G.a.c("wf",I.c,z(I).toString(),"inactive")]),Z(G,"fontactive",I),this.m=!0,xt(this)},ot.prototype.h=function(I){var G=this.a;if(G.g){var ht=y(G.f,G.a.c("wf",I.c,z(I).toString(),"active")),lt=[],_t=[G.a.c("wf",I.c,z(I).toString(),"loading")];ht||lt.push(G.a.c("wf",I.c,z(I).toString(),"inactive")),m(G.f,lt,_t)}Z(G,"fontinactive",I),xt(this)};function xt(I){--I.f==0&&I.j&&(I.m?(I=I.a,I.g&&m(I.f,[I.a.c("wf","active")],[I.a.c("wf","loading"),I.a.c("wf","inactive")]),Z(I,"active")):Q(I.a))}function Wt(I){this.j=I,this.a=new $,this.h=0,this.f=this.g=!0}Wt.prototype.load=function(I){this.c=new l(this.j,I.context||this.j),this.g=I.events!==!1,this.f=I.classes!==!1,Ue(this,new H(this.c,I),I)};function te(I,G,ht,lt,_t){var St=--I.h==0;(I.f||I.g)&&setTimeout(function(){var Ct=_t||null,Xt=lt||null||{};if(ht.length===0&&St)Q(G.a);else{G.f+=ht.length,St&&(G.j=St);var Yt,ue=[];for(Yt=0;Yt<ht.length;Yt++){var he=ht[Yt],Ae=Xt[he.c],yn=G.a,os=he;if(yn.g&&m(yn.f,[yn.a.c("wf",os.c,z(os).toString(),"loading")]),Z(yn,"fontloading",os),yn=null,vt===null)if(window.FontFace){var os=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent),md=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);vt=os?42<parseInt(os[1],10):!md}else vt=!1;vt?yn=new B(i(G.g,G),i(G.h,G),G.c,he,G.s,Ae):yn=new P(i(G.g,G),i(G.h,G),G.c,he,G.s,Ct,Ae),ue.push(yn)}for(Yt=0;Yt<ue.length;Yt++)ue[Yt].start()}},0)}function Ue(I,G,ht){var _t=[],lt=ht.timeout;K(G);var _t=ut(I.a,ht,I.c),St=new ot(I.c,G,lt);for(I.h=_t.length,G=0,ht=_t.length;G<ht;G++)_t[G].load(function(Ct,Xt,Yt){te(I,St,Ct,Xt,Yt)})}function be(I,G){this.c=I,this.a=G}be.prototype.load=function(I){function G(){if(St["__mti_fntLst"+lt]){var Ct=St["__mti_fntLst"+lt](),Xt=[],Yt;if(Ct)for(var ue=0;ue<Ct.length;ue++){var he=Ct[ue].fontfamily;Ct[ue].fontStyle!=null&&Ct[ue].fontWeight!=null?(Yt=Ct[ue].fontStyle+Ct[ue].fontWeight,Xt.push(new U(he,Yt))):Xt.push(new U(he))}I(Xt)}else setTimeout(function(){G()},50)}var ht=this,lt=ht.a.projectId,_t=ht.a.version;if(lt){var St=ht.c.o;w(this.c,(ht.a.api||"https://fast.fonts.net/jsapi")+"/"+lt+".js"+(_t?"?v="+_t:""),function(Ct){Ct?I([]):(St["__MonotypeConfiguration__"+lt]=function(){return ht.a},G())}).id="__MonotypeAPIScript__"+lt}else I([])};function ft(I,G){this.c=I,this.a=G}ft.prototype.load=function(I){var G,ht,lt=this.a.urls||[],_t=this.a.families||[],St=this.a.testStrings||{},Ct=new S;for(G=0,ht=lt.length;G<ht;G++)v(this.c,lt[G],x(Ct));var Xt=[];for(G=0,ht=_t.length;G<ht;G++)if(lt=_t[G].split(":"),lt[1])for(var Yt=lt[1].split(","),ue=0;ue<Yt.length;ue+=1)Xt.push(new U(lt[0],Yt[ue]));else Xt.push(new U(lt[0]));T(Ct,function(){I(Xt,St)})};function yt(I,G){I?this.c=I:this.c=Ht,this.a=[],this.f=[],this.g=G||""}var Ht="https://fonts.googleapis.com/css";function It(I,G){for(var ht=G.length,lt=0;lt<ht;lt++){var _t=G[lt].split(":");_t.length==3&&I.f.push(_t.pop());var St="";_t.length==2&&_t[1]!=""&&(St=":"),I.a.push(_t.join(St))}}function Nt(I){if(I.a.length==0)throw Error("No fonts to load!");if(I.c.indexOf("kit=")!=-1)return I.c;for(var G=I.a.length,ht=[],lt=0;lt<G;lt++)ht.push(I.a[lt].replace(/ /g,"+"));return G=I.c+"?family="+ht.join("%7C"),0<I.f.length&&(G+="&subset="+I.f.join(",")),0<I.g.length&&(G+="&text="+encodeURIComponent(I.g)),G}function qt(I){this.f=I,this.a=[],this.c={}}var me={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},Sn={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},Ts={i:"i",italic:"i",n:"n",normal:"n"},Be=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Nr(I){for(var G=I.f.length,ht=0;ht<G;ht++){var lt=I.f[ht].split(":"),_t=lt[0].replace(/\+/g," "),St=["n4"];if(2<=lt.length){var Ct,Xt=lt[1];if(Ct=[],Xt)for(var Xt=Xt.split(","),Yt=Xt.length,ue=0;ue<Yt;ue++){var he;if(he=Xt[ue],he.match(/^[\w-]+$/)){var Ae=Be.exec(he.toLowerCase());if(Ae==null)he="";else{if(he=Ae[2],he=he==null||he==""?"n":Ts[he],Ae=Ae[1],Ae==null||Ae=="")Ae="4";else var yn=Sn[Ae],Ae=yn||(isNaN(Ae)?"4":Ae.substr(0,1));he=[he,Ae].join("")}}else he="";he&&Ct.push(he)}0<Ct.length&&(St=Ct),lt.length==3&&(lt=lt[2],Ct=[],lt=lt?lt.split(","):Ct,0<lt.length&&(lt=me[lt[0]])&&(I.c[_t]=lt))}for(I.c[_t]||(lt=me[_t])&&(I.c[_t]=lt),lt=0;lt<St.length;lt+=1)I.a.push(new U(_t,St[lt]))}}function oi(I,G){this.c=I,this.a=G}var va={Arimo:!0,Cousine:!0,Tinos:!0};oi.prototype.load=function(I){var G=new S,ht=this.c,lt=new yt(this.a.api,this.a.text),_t=this.a.families;It(lt,_t);var St=new qt(_t);Nr(St),v(ht,Nt(lt),x(G)),T(G,function(){I(St.a,St.c,va)})};function li(I,G){this.c=I,this.a=G}li.prototype.load=function(I){var G=this.a.id,ht=this.c.o;G?w(this.c,(this.a.api||"https://use.typekit.net")+"/"+G+".js",function(lt){if(lt)I([]);else if(ht.Typekit&&ht.Typekit.config&&ht.Typekit.config.fn){lt=ht.Typekit.config.fn;for(var _t=[],St=0;St<lt.length;St+=2)for(var Ct=lt[St],Xt=lt[St+1],Yt=0;Yt<Xt.length;Yt++)_t.push(new U(Ct,Xt[Yt]));try{ht.Typekit.load({events:!1,classes:!1,async:!0})}catch{}I(_t)}},2e3):I([])};function wa(I,G){this.c=I,this.f=G,this.a=[]}wa.prototype.load=function(I){var G=this.f.id,ht=this.c.o,lt=this;G?(ht.__webfontfontdeckmodule__||(ht.__webfontfontdeckmodule__={}),ht.__webfontfontdeckmodule__[G]=function(_t,St){for(var Ct=0,Xt=St.fonts.length;Ct<Xt;++Ct){var Yt=St.fonts[Ct];lt.a.push(new U(Yt.name,V("font-weight:"+Yt.weight+";font-style:"+Yt.style)))}I(lt.a)},w(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+_(this.c)+"/"+G+".js",function(_t){_t&&I([])})):I([])};var Yn=new Wt(window);Yn.a.c.custom=function(I,G){return new ft(G,I)},Yn.a.c.fontdeck=function(I,G){return new wa(G,I)},Yn.a.c.monotype=function(I,G){return new be(G,I)},Yn.a.c.typekit=function(I,G){return new li(G,I)},Yn.a.c.google=function(I,G){return new oi(G,I)};var ba={load:i(Yn.load,Yn)};n.exports?n.exports=ba:(window.WebFont=ba,window.WebFontConfig&&Yn.load(window.WebFontConfig))})()})(am)),am.exports}var jD=PD();const UD=ha(jD),om=(n,t,e,i)=>{const a=new DD({text:n,style:{fontFamily:"Space Grotesk",fontSize:t,fill:e,align:"center"}});return a.position.set(si*.5-a.width/2,Ks*.5-a.height/2+i),a},FD=(n,t,e,i,a)=>{const l=Math.min(...n.map(y=>y.y-t)),h=Math.max(...n.map(y=>y.y+y.height+t))-l,d=Math.max(...n.map(y=>y.width))+2*t,f=si*.5-d/2,m=new Os;return m.fill({color:e,alpha:i}),m.roundRect(f,l,d,h,a),m.fill(),m};function VD(n,t){return new Promise(e=>{n||UD.load({google:{families:["Space Grotesk"]},active:()=>{const i=om("GAME OVER",63,13107200,-20),a=om(`Total Water:  ${t.totalWater}`,40,16777215,50),l=om("Press space to try again",40,16777215,100),c=[i,a,l],h=FD(c,10,16777215,.5,10);e([h,...c])}})})}class Eb{constructor(t,e,i){this.dropdownDataAttribute=t,this.buttonDataAttribute=e,this.selectedDataAttribute=i}toggle(){return t=>{if(!(t.target.matches(`[${this.buttonDataAttribute}]`)||t.target.closest(`[${this.dropdownDataAttribute}]`)!==null))return;let i=t.target.closest(`[${this.dropdownDataAttribute}]`);document.querySelectorAll(`[${this.dropdownDataAttribute}]`).forEach(l=>{l===i?l.classList.toggle("active"):l.classList.remove("active")})}}toggleSelection(t){return e=>{const i=e.target.getAttribute(t),a=e.target.closest(`[${this.dropdownDataAttribute}]`);i&&(a.querySelector(`[${this.selectedDataAttribute}]`).textContent=i,a.classList.remove("active"))}}}const Hh=class Hh{constructor(t){this.anim=t,this.play(this.anim)}play(t){t.animationSpeed=.1,t.play()}};Hh.gap=10,Hh.hitBoxAdjust=.8;let ns=Hh;class HD extends ns{constructor(t,e){super(e),this.p4Anim=e,this.startX=ns.gap,this.startY=Ks*.5,this.speed=8,this.totalWater=0,this.isMovingRight=!1,this.isMovingLeft=!1,this.isMovingUp=!1,this.isMovingDown=!1,t.addChild(e),e.x=this.startX,e.y=this.startY}update(t){this.isMovingRight&&(t.x+=this.speed),this.isMovingLeft&&(t.x-=this.speed),this.isMovingUp&&(t.y-=this.speed),this.isMovingDown&&(t.y+=this.speed),t.x+t.width>si&&(t.x-=this.speed),t.x<0&&(t.x+=this.speed),t.y+t.height>Ks&&(t.y-=this.speed),t.y<0&&(t.y+=this.speed)}destroy(){this.p4Anim.destroy()}}function gS(n,t){const e=n.getBounds(),i=t.getBounds();return e.x+e.width*ns.hitBoxAdjust>i.x&&e.x<i.x+i.width*ns.hitBoxAdjust&&e.y+e.height*ns.hitBoxAdjust>i.y&&e.y<i.y+i.height*ns.hitBoxAdjust}const lm={Major:{description:"Bright, happy, and uplifting. Fundamental to Western music and often used in pop, classical, and folk music.",notes:[261.63,293.66,329.63,349.23,392,440,493.88,523.25]},Minor:{description:"Sad, serious, and introspective. Used widely in classical, rock, and pop music to convey deeper emotions.",notes:[261.63,293.66,311.13,349.23,392,415.3,466.16,523.25]},Pentatonic:{description:"Simple, versatile, and pleasing. Found in folk, rock, blues, and pop music. Known for its ease of use in improvisation.",notes:[261.63,293.66,329.63,392,440,523.25]},Blues:{description:'Gritty, soulful, and expressive. Central to blues, rock, and jazz music. Known for its "blue notes" which add a sense of longing and emotion.',notes:[261.63,293.66,311.13,349.23,391.99,415.3,523.25]},Dorian:{description:"Mellow, jazzy, and slightly brighter than the natural minor scale. Common in jazz, rock, and folk music.",notes:[261.63,293.66,311.13,349.23,392,440,466.16,523.25]},Mixolydian:{description:"Bluesy, relaxed, and slightly tense. Frequently used in rock, blues, and jazz music.",notes:[261.63,293.66,329.63,349.23,392,440,466.16,523.25]},Phrygian:{description:"Exotic, intense, and slightly Spanish-sounding. Used in flamenco, metal, and classical music.",notes:[261.63,277.18,311.13,349.23,392,415.3,466.16,523.25]},Lydian:{description:"Dreamy, ethereal, and bright. Popular in jazz, classical, and film scores for its unique sound.",notes:[261.63,293.66,329.63,370,392,440,493.88,523.25]},Locrian:{description:"Dark, tense, and unresolved. Rarely used but found in jazz and metal for creating dissonance and tension.",notes:[261.63,277.18,311.13,349.23,370,415.3,466.16,523.25]},Chromatic:{description:"Tense, atonal, and fluid. Used for adding tension, in classical compositions, and for chromatic runs in various genres.",notes:[261.63,277.18,293.66,311.13,329.63,349.23,370,392,415.3,440,466.16,493.88,523.25]},"Harmonic Major":{description:"A mix of bright and dark, with a slightly exotic feel. Used in jazz and classical music.",notes:[261.63,293.66,329.63,349.23,392,415.3,493.88,523.25]},"Melodic Minor":{description:"Versatile, with a mix of minor and major qualities. Used in jazz, classical, and modern music for its smooth melodic lines.",notes:[261.63,293.66,311.13,349.23,392,440,493.88,523.25]},"Whole Tone":{description:"Mystical, ambiguous, and symmetrical. Used in classical and jazz music to create dreamy and floating atmospheres.",notes:[261.63,293.66,329.63,370,415.3,466.16,523.25]},"Hungarian Minor":{description:"Exotic, dramatic, and folk-like. Found in Eastern European folk music and classical compositions.",notes:[261.63,293.66,311.13,370,392,415.3,493.88,523.25]},"Double Harmonic":{description:"Intense, Eastern-sounding, and exotic. Used in Middle Eastern and Eastern European music.",notes:[261.63,277.18,311.13,349.23,392,415.3,493.88,523.25]},"Neapolitan Major":{description:"Tense, dramatic, and slightly exotic. Used in classical and operatic music.",notes:[261.63,277.18,329.63,349.23,392,440,493.88,523.25]},"Neapolitan Minor":{description:"Dark, dramatic, and unique. Found in classical music for its emotional depth.",notes:[261.63,277.18,311.13,349.23,392,415.3,493.88,523.25]},Augmented:{description:"Dissonant, symmetrical, and otherworldly. Used in jazz and modern classical music.",notes:[261.63,293.66,329.63,370,415.3,466.16,523.25]},Hexatonic:{description:"Versatile, simple, and often used in various forms. Found in folk and modern music.",notes:[261.63,293.66,329.63,392,440,523.25]},Enigmatic:{description:"Mysterious, unconventional, and ambiguous. Rarely used but found in modern classical music for its unique sound.",notes:[261.63,277.18,329.63,370,415.3,466.16,493.88,523.25]},"Spanish Gypsy":{description:"Exotic, intense, and Flamenco-like. Central to Flamenco music and used in metal and classical compositions.",notes:[261.63,277.18,329.63,349.23,392,415.3,466.16,523.25]},Hirajoshi:{description:"Eastern, pentatonic, and traditional. Found in Japanese music and used to evoke an Eastern sound.",notes:[261.63,277.18,329.63,392,466.16,523.25]},"Balinese Pelog":{description:"Exotic, uneven, and traditional. Used in Indonesian gamelan music.",notes:[261.63,277.18,311.13,370,392,523.25]},Egyptian:{description:"Ancient, exotic, and folk-like. Used in Middle Eastern and African music to create an ancient sound.",notes:[261.63,293.66,311.13,392,466.16,523.25]},"Hungarian Gypsy":{description:"Rich, exotic, and dramatic. Found in Eastern European folk music and classical compositions.",notes:[261.63,293.66,311.13,370,392,415.3,523.25]},Persian:{description:"Middle Eastern, tense, and exotic. Used in Persian and Middle Eastern music.",notes:[261.63,277.18,311.13,370,392,415.3,466.16,523.25]},Tritone:{description:"Tense, symmetrical, and dissonant. Found in jazz and modern classical music.",notes:[261.63,293.66,329.63,370,415.3,466.16,523.25]},Flamenco:{description:"Passionate, intense, and Spanish. Central to Flamenco music.",notes:[261.63,277.18,329.63,349.23,392,415.3,523.25]},Iwato:{description:"Dissonant, exotic, and traditional. Found in Japanese music for creating an unusual sound.",notes:[261.63,277.18,329.63,370,523.25]},"Blues Heptatonic":{description:"Rich, soulful, and expressive. Extends the traditional blues scale with added notes for more melodic options.",notes:[261.63,293.66,311.13,349.23,391.99,415.3,523.25]}},Mb={C:{frequency:261.63,characteristics:"Neutral, balanced, foundational.",knownFor:"Often considered the starting point for Western music theory, making it a common key for beginners. It's also the key in which most piano music is written due to its lack of sharps and flats.",semitone:1},"C#/Db":{frequency:277.18,characteristics:"Sharp, intense, and slightly dissonant.",knownFor:"Used in genres that want to evoke a sense of tension or brightness. It's common in jazz and contemporary classical music.",semitone:2},D:{frequency:293.66,characteristics:"Bright, open, and uplifting.",knownFor:"Often associated with triumph and joy. Popular in classical and folk music, and often used for string instruments due to their resonance.",semitone:3},"D#/Eb":{frequency:311.13,characteristics:"Mellow, rich, and expressive.",knownFor:"Known for its warm sound, often used in jazz, blues, and ballads.",semitone:4},E:{frequency:329.63,characteristics:"Strong, clear, and resonant.",knownFor:"Common in rock and pop music, often chosen for its strong, resonant sound on guitar and piano.",semitone:5},F:{frequency:349.23,characteristics:"Calm, serious, and somewhat somber.",knownFor:"Often associated with pastoral or reflective music, frequently used in classical and religious compositions.",semitone:6},"F#/Gb":{frequency:370,characteristics:"Bright, tense, and slightly sharp.",knownFor:"Used in genres that require a sense of tension or brightness, such as modern classical music and some rock genres.",semitone:7},G:{frequency:392,characteristics:"Warm, full, and natural.",knownFor:"A favorite key in folk music and classical compositions, often associated with a natural, earthy quality.",semitone:8},"G#/Ab":{frequency:415.3,characteristics:"Dark, rich, and somewhat mysterious.",knownFor:"Used in jazz and blues for its expressive and somewhat melancholic sound.",semitone:9},A:{frequency:440,characteristics:"Clear, bright, and straightforward.",knownFor:"The standard pitch for tuning musical instruments. Common in a wide range of genres including classical, rock, and pop.",semitone:10},"A#/Bb":{frequency:466.16,characteristics:"Bold, warm, and rich.",knownFor:"Popular in jazz and blues, known for its warm, rich sound that is both bold and expressive.",semitone:11},B:{frequency:493.88,characteristics:"Bright, strong, and slightly tense.",knownFor:"Often used in classical and religious music for its strong, bright sound. It's also common in rock and pop.",semitone:12}},oh=[261.63,277.18,293.66,311.13,329.63,349.23,370,392,415.3,440,466.16,493.88,523.25],qD=(n,t)=>n.map(e=>{const a=(oh.indexOf(e)+t+oh.length)%oh.length;return oh[a]}),yS="15.0.4",kb=(n,t,e)=>({endTime:t,insertTime:e,type:"exponentialRampToValue",value:n}),Nb=(n,t,e)=>({endTime:t,insertTime:e,type:"linearRampToValue",value:n}),Rm=(n,t)=>({startTime:t,type:"setValue",value:n}),_S=(n,t,e)=>({duration:e,startTime:t,type:"setValueCurve",values:n}),vS=(n,t,{startTime:e,target:i,timeConstant:a})=>i+(t-i)*Math.exp((e-n)/a),lo=n=>n.type==="exponentialRampToValue",kh=n=>n.type==="linearRampToValue",yr=n=>lo(n)||kh(n),Ng=n=>n.type==="setValue",ki=n=>n.type==="setValueCurve",Nh=(n,t,e,i)=>{const a=n[t];return a===void 0?i:yr(a)||Ng(a)?a.value:ki(a)?a.values[a.values.length-1]:vS(e,Nh(n,t-1,a.startTime,i),a)},Rb=(n,t,e,i,a)=>e===void 0?[i.insertTime,a]:yr(e)?[e.endTime,e.value]:Ng(e)?[e.startTime,e.value]:ki(e)?[e.startTime+e.duration,e.values[e.values.length-1]]:[e.startTime,Nh(n,t-1,e.startTime,a)],Dm=n=>n.type==="cancelAndHold",Om=n=>n.type==="cancelScheduledValues",pr=n=>Dm(n)||Om(n)?n.cancelTime:lo(n)||kh(n)?n.endTime:n.startTime,Db=(n,t,e,{endTime:i,value:a})=>e===a?a:0<e&&0<a||e<0&&a<0?e*(a/e)**((n-t)/(i-t)):0,Ob=(n,t,e,{endTime:i,value:a})=>e+(n-t)/(i-t)*(a-e),GD=(n,t)=>{const e=Math.floor(t),i=Math.ceil(t);return e===i?n[e]:(1-(t-e))*n[e]+(1-(i-t))*n[i]},YD=(n,{duration:t,startTime:e,values:i})=>{const a=(n-e)/t*(i.length-1);return GD(i,a)},lh=n=>n.type==="setTarget";class WD{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const e=pr(t);if(Dm(t)||Om(t)){const i=this._automationEvents.findIndex(l=>Om(t)&&ki(l)?l.startTime+l.duration>=e:pr(l)>=e),a=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),Dm(t)){const l=this._automationEvents[this._automationEvents.length-1];if(a!==void 0&&yr(a)){if(l!==void 0&&lh(l))throw new Error("The internal list is malformed.");const c=l===void 0?a.insertTime:ki(l)?l.startTime+l.duration:pr(l),h=l===void 0?this._defaultValue:ki(l)?l.values[l.values.length-1]:l.value,d=lo(a)?Db(e,c,h,a):Ob(e,c,h,a),f=lo(a)?kb(d,e,this._currenTime):Nb(d,e,this._currenTime);this._automationEvents.push(f)}if(l!==void 0&&lh(l)&&this._automationEvents.push(Rm(this.getValue(e),e)),l!==void 0&&ki(l)&&l.startTime+l.duration>e){const c=e-l.startTime,h=(l.values.length-1)/l.duration,d=Math.max(2,1+Math.ceil(c*h)),f=c/(d-1)*h,m=l.values.slice(0,d);if(f<1)for(let y=1;y<d;y+=1){const _=f*y%1;m[y]=l.values[y-1]*(1-_)+l.values[y]*_}this._automationEvents[this._automationEvents.length-1]=_S(m,l.startTime,c)}}}else{const i=this._automationEvents.findIndex(c=>pr(c)>e),a=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(a!==void 0&&ki(a)&&pr(a)+a.duration>e)return!1;const l=lo(t)?kb(t.value,t.endTime,this._currenTime):kh(t)?Nb(t.value,e,this._currenTime):t;if(i===-1)this._automationEvents.push(l);else{if(ki(t)&&e+t.duration>pr(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,l)}}return!0}flush(t){const e=this._automationEvents.findIndex(i=>pr(i)>t);if(e>1){const i=this._automationEvents.slice(e-1),a=i[0];lh(a)&&i.unshift(Rm(Nh(this._automationEvents,e-2,a.startTime,this._defaultValue),a.startTime)),this._automationEvents=i}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const e=this._automationEvents.findIndex(c=>pr(c)>t),i=this._automationEvents[e],a=(e===-1?this._automationEvents.length:e)-1,l=this._automationEvents[a];if(l!==void 0&&lh(l)&&(i===void 0||!yr(i)||i.insertTime>t))return vS(t,Nh(this._automationEvents,a-1,l.startTime,this._defaultValue),l);if(l!==void 0&&Ng(l)&&(i===void 0||!yr(i)))return l.value;if(l!==void 0&&ki(l)&&(i===void 0||!yr(i)||l.startTime+l.duration>t))return t<l.startTime+l.duration?YD(t,l):l.values[l.values.length-1];if(l!==void 0&&yr(l)&&(i===void 0||!yr(i)))return l.value;if(i!==void 0&&lo(i)){const[c,h]=Rb(this._automationEvents,a,l,i,this._defaultValue);return Db(t,c,h,i)}if(i!==void 0&&kh(i)){const[c,h]=Rb(this._automationEvents,a,l,i,this._defaultValue);return Ob(t,c,h,i)}return this._defaultValue}}const XD=n=>({cancelTime:n,type:"cancelAndHold"}),$D=n=>({cancelTime:n,type:"cancelScheduledValues"}),ZD=(n,t)=>({endTime:t,type:"exponentialRampToValue",value:n}),QD=(n,t)=>({endTime:t,type:"linearRampToValue",value:n}),KD=(n,t,e)=>({startTime:t,target:n,timeConstant:e,type:"setTarget"}),JD=()=>new DOMException("","AbortError"),tO=n=>(t,e,[i,a,l],c)=>{n(t[a],[e,i,l],h=>h[0]===e&&h[1]===i,c)},eO=n=>(t,e,i)=>{const a=[];for(let l=0;l<i.numberOfInputs;l+=1)a.push(new Set);n.set(t,{activeInputs:a,outputs:new Set,passiveInputs:new WeakMap,renderer:e})},nO=n=>(t,e)=>{n.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})},Eo=new WeakSet,wS=new WeakMap,Rg=new WeakMap,bS=new WeakMap,Dg=new WeakMap,Kh=new WeakMap,xS=new WeakMap,Bm=new WeakMap,Im=new WeakMap,zm=new WeakMap,SS={construct(){return SS}},sO=n=>{try{const t=new Proxy(n,SS);new t}catch{return!1}return!0},Bb=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Ib=(n,t)=>{const e=[];let i=n.replace(/^[\s]+/,""),a=i.match(Bb);for(;a!==null;){const l=a[1].slice(1,-1),c=a[0].replace(/([\s]+)?;?$/,"").replace(l,new URL(l,t).toString());e.push(c),i=i.slice(a[0].length).replace(/^[\s]+/,""),a=i.match(Bb)}return[e.join(";"),i]},zb=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Lb=n=>{if(!sO(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},iO=(n,t,e,i,a,l,c,h,d,f,m,y,_)=>{let v=0;return(w,S,x={credentials:"omit"})=>{const T=m.get(w);if(T!==void 0&&T.has(S))return Promise.resolve();const k=f.get(w);if(k!==void 0){const O=k.get(S);if(O!==void 0)return O}const R=l(w),U=R.audioWorklet===void 0?a(S).then(([O,j])=>{const[z,L]=Ib(O,j),V=`${z};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${L}
})})(window,'_AWGS')`;return e(V)}).then(()=>{const O=_._AWGS.pop();if(O===void 0)throw new SyntaxError;i(R.currentTime,R.sampleRate,()=>O(class{},void 0,(j,z)=>{if(j.trim()==="")throw t();const L=Im.get(R);if(L!==void 0){if(L.has(j))throw t();Lb(z),zb(z.parameterDescriptors),L.set(j,z)}else Lb(z),zb(z.parameterDescriptors),Im.set(R,new Map([[j,z]]))},R.sampleRate,void 0,void 0))}):Promise.all([a(S),Promise.resolve(n(y,y))]).then(([[O,j],z])=>{const L=v+1;v=L;const[V,H]=Ib(O,j),$=`${V};((AudioWorkletProcessor,registerProcessor)=>{${H}
})(${z?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${z?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${z?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${L}',class extends AudioWorkletProcessor{process(){return !1}})`,ut=new Blob([$],{type:"application/javascript; charset=utf-8"}),A=URL.createObjectURL(ut);return R.audioWorklet.addModule(A,x).then(()=>{if(h(R))return R;const E=c(R);return E.audioWorklet.addModule(A,x).then(()=>E)}).then(E=>{if(d===null)throw new SyntaxError;try{new d(E,`__sac${L}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(A))});return k===void 0?f.set(w,new Map([[S,U]])):k.set(S,U),U.then(()=>{const O=m.get(w);O===void 0?m.set(w,new Set([S])):O.add(S)}).finally(()=>{const O=f.get(w);O!==void 0&&O.delete(S)}),U}},zs=(n,t)=>{const e=n.get(t);if(e===void 0)throw new Error("A value with the given key could not be found.");return e},Jh=(n,t)=>{const e=Array.from(n).filter(t);if(e.length>1)throw Error("More than one element was found.");if(e.length===0)throw Error("No element was found.");const[i]=e;return n.delete(i),i},AS=(n,t,e,i)=>{const a=zs(n,t),l=Jh(a,c=>c[0]===e&&c[1]===i);return a.size===0&&n.delete(t),l},wc=n=>zs(xS,n),Mo=n=>{if(Eo.has(n))throw new Error("The AudioNode is already stored.");Eo.add(n),wc(n).forEach(t=>t(!0))},TS=n=>"port"in n,bc=n=>{if(!Eo.has(n))throw new Error("The AudioNode is not stored.");Eo.delete(n),wc(n).forEach(t=>t(!1))},Lm=(n,t)=>{!TS(n)&&t.every(e=>e.size===0)&&bc(n)},rO=(n,t,e,i,a,l,c,h,d,f,m,y,_)=>{const v=new WeakMap;return(w,S,x,T,k)=>{const{activeInputs:R,passiveInputs:U}=l(S),{outputs:O}=l(w),j=h(w),z=L=>{const V=d(S),H=d(w);if(L){const K=AS(U,w,x,T);n(R,w,K,!1),!k&&!y(w)&&e(H,V,x,T),_(S)&&Mo(S)}else{const K=i(R,w,x,T);t(U,T,K,!1),!k&&!y(w)&&a(H,V,x,T);const Q=c(S);if(Q===0)m(S)&&Lm(S,R);else{const Z=v.get(S);Z!==void 0&&clearTimeout(Z),v.set(S,setTimeout(()=>{m(S)&&Lm(S,R)},Q*1e3))}}};return f(O,[S,x,T],L=>L[0]===S&&L[1]===x&&L[2]===T,!0)?(j.add(z),m(w)?n(R,w,[x,T,z],!0):t(U,T,[w,x,z],!0),!0):!1}},aO=n=>(t,e,[i,a,l],c)=>{const h=t.get(i);h===void 0?t.set(i,new Set([[a,e,l]])):n(h,[a,e,l],d=>d[0]===a&&d[1]===e,c)},oO=n=>(t,e)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});e.connect(i).connect(t.destination);const a=()=>{e.removeEventListener("ended",a),e.disconnect(i),i.disconnect()};e.addEventListener("ended",a)},lO=n=>(t,e)=>{n(t).add(e)},cO={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},uO=(n,t,e,i,a,l)=>class extends n{constructor(h,d){const f=a(h),m={...cO,...d},y=i(f,m),_=l(f)?t():null;super(h,!1,y,_),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(h){this._nativeAnalyserNode.fftSize=h}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(h){const d=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=h,!(h>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=d,e()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(h){const d=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=h,!(this._nativeAnalyserNode.maxDecibels>h))throw this._nativeAnalyserNode.minDecibels=d,e()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(h){this._nativeAnalyserNode.smoothingTimeConstant=h}getByteFrequencyData(h){this._nativeAnalyserNode.getByteFrequencyData(h)}getByteTimeDomainData(h){this._nativeAnalyserNode.getByteTimeDomainData(h)}getFloatFrequencyData(h){this._nativeAnalyserNode.getFloatFrequencyData(h)}getFloatTimeDomainData(h){this._nativeAnalyserNode.getFloatTimeDomainData(h)}},xn=(n,t)=>n.context===t,hO=(n,t,e)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=t(l);if(!xn(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,fftSize:h.fftSize,maxDecibels:h.maxDecibels,minDecibels:h.minDecibels,smoothingTimeConstant:h.smoothingTimeConstant};h=n(c,f)}return i.set(c,h),await e(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},Rh=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ii=()=>new DOMException("","IndexSizeError"),Og=n=>{n.getChannelData=(t=>e=>{try{return t.call(n,e)}catch(i){throw i.code===12?ii():i}})(n.getChannelData)},dO={numberOfChannels:1},fO=(n,t,e,i,a,l,c,h)=>{let d=null;return class CS{constructor(m){if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:_,sampleRate:v}={...dO,...m};d===null&&(d=new a(1,1,44100));const w=i!==null&&t(l,l)?new i({length:y,numberOfChannels:_,sampleRate:v}):d.createBuffer(_,y,v);if(w.numberOfChannels===0)throw e();return typeof w.copyFromChannel!="function"?(c(w),Og(w)):t(Rh,()=>Rh(w))||h(w),n.add(w),w}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===CS.prototype||n.has(m)}}},jn=-34028234663852886e22,Tn=-jn,zi=n=>Eo.has(n),pO={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},mO=(n,t,e,i,a,l,c,h)=>class extends n{constructor(f,m){const y=l(f),_={...pO,...m},v=a(y,_),w=c(y),S=w?t():null;super(f,!1,v,S),this._audioBufferSourceNodeRenderer=S,this._isBufferNullified=!1,this._isBufferSet=_.buffer!==null,this._nativeAudioBufferSourceNode=v,this._onended=null,this._playbackRate=e(this,w,v.playbackRate,Tn,jn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(f){if(this._nativeAudioBufferSourceNode.buffer=f,f!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(f){this._nativeAudioBufferSourceNode.loop=f}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(f){this._nativeAudioBufferSourceNode.loopEnd=f}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(f){this._nativeAudioBufferSourceNode.loopStart=f}get onended(){return this._onended}set onended(f){const m=typeof f=="function"?h(this,f):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?f:y}get playbackRate(){return this._playbackRate}start(f=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(f,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[f,m]:[f,m,y]),this.context.state!=="closed"){Mo(this);const _=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",_),zi(this)&&bc(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",_)}}stop(f=0){this._nativeAudioBufferSourceNode.stop(f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=f)}},gO=(n,t,e,i,a)=>()=>{const l=new WeakMap;let c=null,h=null;const d=async(f,m)=>{let y=e(f);const _=xn(y,m);if(!_){const v={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=t(m,v),c!==null&&y.start(...c),h!==null&&y.stop(h)}return l.set(m,y),_?await n(m,f.playbackRate,y.playbackRate):await i(m,f.playbackRate,y.playbackRate),await a(f,m,y),y};return{set start(f){c=f},set stop(f){h=f},render(f,m){const y=l.get(m);return y!==void 0?Promise.resolve(y):d(f,m)}}},yO=n=>"playbackRate"in n,_O=n=>"frequency"in n&&"gain"in n,vO=n=>"offset"in n,wO=n=>!("frequency"in n)&&"gain"in n,bO=n=>"detune"in n&&"frequency"in n,xO=n=>"pan"in n,En=n=>zs(wS,n),xc=n=>zs(bS,n),Pm=(n,t)=>{const{activeInputs:e}=En(n);e.forEach(a=>a.forEach(([l])=>{t.includes(n)||Pm(l,[...t,n])}));const i=yO(n)?[n.playbackRate]:TS(n)?Array.from(n.parameters.values()):_O(n)?[n.Q,n.detune,n.frequency,n.gain]:vO(n)?[n.offset]:wO(n)?[n.gain]:bO(n)?[n.detune,n.frequency]:xO(n)?[n.pan]:[];for(const a of i){const l=xc(a);l!==void 0&&l.activeInputs.forEach(([c])=>Pm(c,t))}zi(n)&&bc(n)},ES=n=>{Pm(n.destination,[])},SO=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),AO=(n,t,e,i,a,l,c,h,d)=>class extends n{constructor(m={}){if(d===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new d(m)}catch(w){throw w.code===12&&w.message==="sampleRate is not in range"?e():w}if(y===null)throw i();if(!SO(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw e();super(y,2);const{latencyHint:_}=m,{sampleRate:v}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:_==="balanced"?512/v:_==="interactive"||_===void 0?256/v:_==="playback"?1024/v:Math.max(2,Math.min(128,Math.round(_*v/128)))*128/v,this._nativeAudioContext=y,d.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const w=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",w)};y.addEventListener("statechange",w)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ES(this)}))}createMediaElementSource(m){return new a(this,{mediaElement:m})}createMediaStreamDestination(){return new l(this)}createMediaStreamSource(m){return new c(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new h(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const _=()=>{this._nativeAudioContext.removeEventListener("statechange",_),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",_)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?t():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?t():m})}},TO=(n,t,e,i,a,l,c,h)=>class extends n{constructor(f,m){const y=l(f),_=c(y),v=a(y,m,_),w=_?t(h):null;super(f,!1,v,w),this._isNodeOfNativeOfflineAudioContext=_,this._nativeAudioDestinationNode=v}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(f){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(f>this._nativeAudioDestinationNode.maxChannelCount)throw e();this._nativeAudioDestinationNode.channelCount=f}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(f){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=f}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},CO=n=>{const t=new WeakMap,e=async(i,a)=>{const l=a.destination;return t.set(a,l),await n(i,a,l),l};return{render(i,a){const l=t.get(a);return l!==void 0?Promise.resolve(l):e(i,a)}}},EO=(n,t,e,i,a,l,c,h)=>(d,f)=>{const m=f.listener,y=()=>{const O=new Float32Array(1),j=t(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),z=c(f);let L=!1,V=[0,0,-1,0,1,0],H=[0,0,0];const K=()=>{if(L)return;L=!0;const ut=i(f,256,9,0);ut.onaudioprocess=({inputBuffer:A})=>{const E=[l(A,O,0),l(A,O,1),l(A,O,2),l(A,O,3),l(A,O,4),l(A,O,5)];E.some((B,P)=>B!==V[P])&&(m.setOrientation(...E),V=E);const N=[l(A,O,6),l(A,O,7),l(A,O,8)];N.some((B,P)=>B!==H[P])&&(m.setPosition(...N),H=N)},j.connect(ut)},Q=ut=>A=>{A!==V[ut]&&(V[ut]=A,m.setOrientation(...V))},Z=ut=>A=>{A!==H[ut]&&(H[ut]=A,m.setPosition(...H))},$=(ut,A,E)=>{const N=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:A});N.connect(j,0,ut),N.start(),Object.defineProperty(N.offset,"defaultValue",{get(){return A}});const B=n({context:d},z,N.offset,Tn,jn);return h(B,"value",P=>()=>P.call(B),P=>C=>{try{P.call(B,C)}catch(D){if(D.code!==9)throw D}K(),z&&E(C)}),B.cancelAndHoldAtTime=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.cancelAndHoldAtTime),B.cancelScheduledValues=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.cancelScheduledValues),B.exponentialRampToValueAtTime=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.exponentialRampToValueAtTime),B.linearRampToValueAtTime=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.linearRampToValueAtTime),B.setTargetAtTime=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.setTargetAtTime),B.setValueAtTime=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.setValueAtTime),B.setValueCurveAtTime=(P=>z?()=>{throw a()}:(...C)=>{const D=P.apply(B,C);return K(),D})(B.setValueCurveAtTime),B};return{forwardX:$(0,0,Q(0)),forwardY:$(1,0,Q(1)),forwardZ:$(2,-1,Q(2)),positionX:$(6,0,Z(0)),positionY:$(7,0,Z(1)),positionZ:$(8,0,Z(2)),upX:$(3,0,Q(3)),upY:$(4,1,Q(4)),upZ:$(5,0,Q(5))}},{forwardX:_,forwardY:v,forwardZ:w,positionX:S,positionY:x,positionZ:T,upX:k,upY:R,upZ:U}=m.forwardX===void 0?y():m;return{get forwardX(){return _},get forwardY(){return v},get forwardZ(){return w},get positionX(){return S},get positionY(){return x},get positionZ(){return T},get upX(){return k},get upY(){return R},get upZ(){return U}}},Dh=n=>"context"in n,Sc=n=>Dh(n[0]),ga=(n,t,e,i)=>{for(const a of n)if(e(a)){if(i)return!1;throw Error("The set contains at least one similar element.")}return n.add(t),!0},Pb=(n,t,[e,i],a)=>{ga(n,[t,e,i],l=>l[0]===t&&l[1]===e,a)},jb=(n,[t,e,i],a)=>{const l=n.get(t);l===void 0?n.set(t,new Set([[e,i]])):ga(l,[e,i],c=>c[0]===e,a)},qo=n=>"inputs"in n,Oh=(n,t,e,i)=>{if(qo(t)){const a=t.inputs[i];return n.connect(a,e,0),[a,e,0]}return n.connect(t,e,i),[t,e,i]},MS=(n,t,e)=>{for(const i of n)if(i[0]===t&&i[1]===e)return n.delete(i),i;return null},MO=(n,t,e)=>Jh(n,i=>i[0]===t&&i[1]===e),kS=(n,t)=>{if(!wc(n).delete(t))throw new Error("Missing the expected event listener.")},NS=(n,t,e)=>{const i=zs(n,t),a=Jh(i,l=>l[0]===e);return i.size===0&&n.delete(t),a},Bh=(n,t,e,i)=>{qo(t)?n.disconnect(t.inputs[i],e,0):n.disconnect(t,e,i)},we=n=>zs(Rg,n),rc=n=>zs(Dg,n),oa=n=>Bm.has(n),mh=n=>!Eo.has(n),Ub=(n,t)=>new Promise(e=>{if(t!==null)e(!0);else{const i=n.createScriptProcessor(256,1,1),a=n.createGain(),l=n.createBuffer(1,2,44100),c=l.getChannelData(0);c[0]=1,c[1]=1;const h=n.createBufferSource();h.buffer=l,h.loop=!0,h.connect(i).connect(n.destination),h.connect(a),h.disconnect(a),i.onaudioprocess=d=>{const f=d.inputBuffer.getChannelData(0);Array.prototype.some.call(f,m=>m===1)?e(!0):e(!1),h.stop(),i.onaudioprocess=null,h.disconnect(i),i.disconnect(n.destination)},h.start()}}),cm=(n,t)=>{const e=new Map;for(const i of n)for(const a of i){const l=e.get(a);e.set(a,l===void 0?1:l+1)}e.forEach((i,a)=>t(a,i))},Ih=n=>"context"in n,kO=n=>{const t=new Map;n.connect=(e=>(i,a=0,l=0)=>{const c=Ih(i)?e(i,a,l):e(i,a),h=t.get(i);return h===void 0?t.set(i,[{input:l,output:a}]):h.every(d=>d.input!==l||d.output!==a)&&h.push({input:l,output:a}),c})(n.connect.bind(n)),n.disconnect=(e=>(i,a,l)=>{if(e.apply(n),i===void 0)t.clear();else if(typeof i=="number")for(const[c,h]of t){const d=h.filter(f=>f.output!==i);d.length===0?t.delete(c):t.set(c,d)}else if(t.has(i))if(a===void 0)t.delete(i);else{const c=t.get(i);if(c!==void 0){const h=c.filter(d=>d.output!==a&&(d.input!==l||l===void 0));h.length===0?t.delete(i):t.set(i,h)}}for(const[c,h]of t)h.forEach(d=>{Ih(c)?n.connect(c,d.output,d.input):n.connect(c,d.output)})})(n.disconnect)},NO=(n,t,e,i)=>{const{activeInputs:a,passiveInputs:l}=xc(t),{outputs:c}=En(n),h=wc(n),d=f=>{const m=we(n),y=rc(t);if(f){const _=NS(l,n,e);Pb(a,n,_,!1),!i&&!oa(n)&&m.connect(y,e)}else{const _=MO(a,n,e);jb(l,_,!1),!i&&!oa(n)&&m.disconnect(y,e)}};return ga(c,[t,e],f=>f[0]===t&&f[1]===e,!0)?(h.add(d),zi(n)?Pb(a,n,[e,d],!0):jb(l,[n,e,d],!0),!0):!1},RO=(n,t,e,i)=>{const{activeInputs:a,passiveInputs:l}=En(t),c=MS(a[i],n,e);return c===null?[AS(l,n,e,i)[2],!1]:[c[2],!0]},DO=(n,t,e)=>{const{activeInputs:i,passiveInputs:a}=xc(t),l=MS(i,n,e);return l===null?[NS(a,n,e)[1],!1]:[l[2],!0]},Bg=(n,t,e,i,a)=>{const[l,c]=RO(n,e,i,a);if(l!==null&&(kS(n,l),c&&!t&&!oa(n)&&Bh(we(n),we(e),i,a)),zi(e)){const{activeInputs:h}=En(e);Lm(e,h)}},Ig=(n,t,e,i)=>{const[a,l]=DO(n,e,i);a!==null&&(kS(n,a),l&&!t&&!oa(n)&&we(n).disconnect(rc(e),i))},OO=(n,t)=>{const e=En(n),i=[];for(const a of e.outputs)Sc(a)?Bg(n,t,...a):Ig(n,t,...a),i.push(a[0]);return e.outputs.clear(),i},BO=(n,t,e)=>{const i=En(n),a=[];for(const l of i.outputs)l[1]===e&&(Sc(l)?Bg(n,t,...l):Ig(n,t,...l),a.push(l[0]),i.outputs.delete(l));return a},IO=(n,t,e,i,a)=>{const l=En(n);return Array.from(l.outputs).filter(c=>c[0]===e&&(i===void 0||c[1]===i)&&(a===void 0||c[2]===a)).map(c=>(Sc(c)?Bg(n,t,...c):Ig(n,t,...c),l.outputs.delete(c),c[0]))},zO=(n,t,e,i,a,l,c,h,d,f,m,y,_,v,w,S)=>class extends f{constructor(T,k,R,U){super(R),this._context=T,this._nativeAudioNode=R;const O=m(T);y(O)&&e(Ub,()=>Ub(O,S))!==!0&&kO(R),Rg.set(this,R),xS.set(this,new Set),T.state!=="closed"&&k&&Mo(this),n(this,U,R)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(T){this._nativeAudioNode.channelCount=T}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(T){this._nativeAudioNode.channelCountMode=T}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(T){this._nativeAudioNode.channelInterpretation=T}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(T,k=0,R=0){if(k<0||k>=this._nativeAudioNode.numberOfOutputs)throw a();const U=m(this._context),O=w(U);if(_(T)||v(T))throw l();if(Dh(T)){const L=we(T);try{const H=Oh(this._nativeAudioNode,L,k,R),K=mh(this);(O||K)&&this._nativeAudioNode.disconnect(...H),this.context.state!=="closed"&&!K&&mh(T)&&Mo(T)}catch(H){throw H.code===12?l():H}if(t(this,T,k,R,O)){const H=d([this],T);cm(H,i(O))}return T}const j=rc(T);if(j.name==="playbackRate"&&j.maxValue===1024)throw c();try{this._nativeAudioNode.connect(j,k),(O||mh(this))&&this._nativeAudioNode.disconnect(j,k)}catch(L){throw L.code===12?l():L}if(NO(this,T,k,O)){const L=d([this],T);cm(L,i(O))}}disconnect(T,k,R){let U;const O=m(this._context),j=w(O);if(T===void 0)U=OO(this,j);else if(typeof T=="number"){if(T<0||T>=this.numberOfOutputs)throw a();U=BO(this,j,T)}else{if(k!==void 0&&(k<0||k>=this.numberOfOutputs)||Dh(T)&&R!==void 0&&(R<0||R>=T.numberOfInputs))throw a();if(U=IO(this,j,T,k,R),U.length===0)throw l()}for(const z of U){const L=d([this],z);cm(L,h)}}},LO=(n,t,e,i,a,l,c,h,d,f,m,y,_)=>(v,w,S,x=null,T=null)=>{const k=S.value,R=new WD(k),U=w?i(R):null,O={get defaultValue(){return k},get maxValue(){return x===null?S.maxValue:x},get minValue(){return T===null?S.minValue:T},get value(){return S.value},set value(j){S.value=j,O.setValueAtTime(j,v.context.currentTime)},cancelAndHoldAtTime(j){if(typeof S.cancelAndHoldAtTime=="function")U===null&&R.flush(v.context.currentTime),R.add(a(j)),S.cancelAndHoldAtTime(j);else{const z=Array.from(R).pop();U===null&&R.flush(v.context.currentTime),R.add(a(j));const L=Array.from(R).pop();S.cancelScheduledValues(j),z!==L&&L!==void 0&&(L.type==="exponentialRampToValue"?S.exponentialRampToValueAtTime(L.value,L.endTime):L.type==="linearRampToValue"?S.linearRampToValueAtTime(L.value,L.endTime):L.type==="setValue"?S.setValueAtTime(L.value,L.startTime):L.type==="setValueCurve"&&S.setValueCurveAtTime(L.values,L.startTime,L.duration))}return O},cancelScheduledValues(j){return U===null&&R.flush(v.context.currentTime),R.add(l(j)),S.cancelScheduledValues(j),O},exponentialRampToValueAtTime(j,z){if(j===0)throw new RangeError;if(!Number.isFinite(z)||z<0)throw new RangeError;const L=v.context.currentTime;return U===null&&R.flush(L),Array.from(R).length===0&&(R.add(f(k,L)),S.setValueAtTime(k,L)),R.add(c(j,z)),S.exponentialRampToValueAtTime(j,z),O},linearRampToValueAtTime(j,z){const L=v.context.currentTime;return U===null&&R.flush(L),Array.from(R).length===0&&(R.add(f(k,L)),S.setValueAtTime(k,L)),R.add(h(j,z)),S.linearRampToValueAtTime(j,z),O},setTargetAtTime(j,z,L){return U===null&&R.flush(v.context.currentTime),R.add(d(j,z,L)),S.setTargetAtTime(j,z,L),O},setValueAtTime(j,z){return U===null&&R.flush(v.context.currentTime),R.add(f(j,z)),S.setValueAtTime(j,z),O},setValueCurveAtTime(j,z,L){const V=j instanceof Float32Array?j:new Float32Array(j);if(y!==null&&y.name==="webkitAudioContext"){const H=z+L,K=v.context.sampleRate,Q=Math.ceil(z*K),Z=Math.floor(H*K),$=Z-Q,ut=new Float32Array($);for(let E=0;E<$;E+=1){const N=(V.length-1)/L*((Q+E)/K-z),B=Math.floor(N),P=Math.ceil(N);ut[E]=B===P?V[B]:(1-(N-B))*V[B]+(1-(P-N))*V[P]}U===null&&R.flush(v.context.currentTime),R.add(m(ut,z,L)),S.setValueCurveAtTime(ut,z,L);const A=Z/K;A<H&&_(O,ut[ut.length-1],A),_(O,V[V.length-1],H)}else U===null&&R.flush(v.context.currentTime),R.add(m(V,z,L)),S.setValueCurveAtTime(V,z,L);return O}};return e.set(O,S),t.set(O,v),n(O,U),O},PO=n=>({replay(t){for(const e of n)if(e.type==="exponentialRampToValue"){const{endTime:i,value:a}=e;t.exponentialRampToValueAtTime(a,i)}else if(e.type==="linearRampToValue"){const{endTime:i,value:a}=e;t.linearRampToValueAtTime(a,i)}else if(e.type==="setTarget"){const{startTime:i,target:a,timeConstant:l}=e;t.setTargetAtTime(a,i,l)}else if(e.type==="setValue"){const{startTime:i,value:a}=e;t.setValueAtTime(a,i)}else if(e.type==="setValueCurve"){const{duration:i,startTime:a,values:l}=e;t.setValueCurveAtTime(l,a,i)}else throw new Error("Can't apply an unknown automation.")}});class RS{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach((i,a)=>t.call(e,i,a,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const jO={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},UO=(n,t,e,i,a,l,c,h,d,f,m,y,_,v)=>class extends t{constructor(S,x,T){var k;const R=h(S),U=d(R),O=m({...jO,...T});_(O);const j=Im.get(R),z=j?.get(x),L=U||R.state!=="closed"?R:(k=c(R))!==null&&k!==void 0?k:R,V=a(L,U?null:S.baseLatency,f,x,z,O),H=U?i(x,O,z):null;super(S,!0,V,H);const K=[];V.parameters.forEach((Z,$)=>{const ut=e(this,U,Z);K.push([$,ut])}),this._nativeAudioWorkletNode=V,this._onprocessorerror=null,this._parameters=new RS(K),U&&n(R,this);const{activeInputs:Q}=l(this);y(V,Q)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(S){const x=typeof S=="function"?v(this,S):null;this._nativeAudioWorkletNode.onprocessorerror=x;const T=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=T!==null&&T===x?S:T}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function zh(n,t,e,i,a){if(typeof n.copyFromChannel=="function")t[e].byteLength===0&&(t[e]=new Float32Array(128)),n.copyFromChannel(t[e],i,a);else{const l=n.getChannelData(i);if(t[e].byteLength===0)t[e]=l.slice(a,a+128);else{const c=new Float32Array(l.buffer,a*Float32Array.BYTES_PER_ELEMENT,128);t[e].set(c)}}}const DS=(n,t,e,i,a)=>{typeof n.copyToChannel=="function"?t[e].byteLength!==0&&n.copyToChannel(t[e],i,a):t[e].byteLength!==0&&n.getChannelData(i).set(t[e],a)},Lh=(n,t)=>{const e=[];for(let i=0;i<n;i+=1){const a=[],l=typeof t=="number"?t:t[i];for(let c=0;c<l;c+=1)a.push(new Float32Array(128));e.push(a)}return e},FO=(n,t)=>{const e=zs(zm,n),i=we(t);return zs(e,i)},VO=async(n,t,e,i,a,l,c)=>{const h=t===null?Math.ceil(n.context.length/128)*128:t.length,d=i.channelCount*i.numberOfInputs,f=a.reduce((x,T)=>x+T,0),m=f===0?null:e.createBuffer(f,h,e.sampleRate);if(l===void 0)throw new Error("Missing the processor constructor.");const y=En(n),_=await FO(e,n),v=Lh(i.numberOfInputs,i.channelCount),w=Lh(i.numberOfOutputs,a),S=Array.from(n.parameters.keys()).reduce((x,T)=>({...x,[T]:new Float32Array(128)}),{});for(let x=0;x<h;x+=128){if(i.numberOfInputs>0&&t!==null)for(let T=0;T<i.numberOfInputs;T+=1)for(let k=0;k<i.channelCount;k+=1)zh(t,v[T],k,k,x);l.parameterDescriptors!==void 0&&t!==null&&l.parameterDescriptors.forEach(({name:T},k)=>{zh(t,S,T,d+k,x)});for(let T=0;T<i.numberOfInputs;T+=1)for(let k=0;k<a[T];k+=1)w[T][k].byteLength===0&&(w[T][k]=new Float32Array(128));try{const T=v.map((R,U)=>y.activeInputs[U].size===0?[]:R),k=c(x/e.sampleRate,e.sampleRate,()=>_.process(T,w,S));if(m!==null)for(let R=0,U=0;R<i.numberOfOutputs;R+=1){for(let O=0;O<a[R];O+=1)DS(m,w[R],O,U+O,x);U+=a[R]}if(!k)break}catch(T){n.dispatchEvent(new ErrorEvent("processorerror",{colno:T.colno,filename:T.filename,lineno:T.lineno,message:T.message}));break}}return m},HO=(n,t,e,i,a,l,c,h,d,f,m,y,_,v,w,S)=>(x,T,k)=>{const R=new WeakMap;let U=null;const O=async(j,z)=>{let L=m(j),V=null;const H=xn(L,z),K=Array.isArray(T.outputChannelCount)?T.outputChannelCount:Array.from(T.outputChannelCount);if(y===null){const Q=K.reduce((A,E)=>A+E,0),Z=a(z,{channelCount:Math.max(1,Q),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,Q)}),$=[];for(let A=0;A<j.numberOfOutputs;A+=1)$.push(i(z,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:K[A]}));const ut=c(z,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1});ut.connect=t.bind(null,$),ut.disconnect=d.bind(null,$),V=[Z,$,ut]}else H||(L=new y(z,x));if(R.set(z,V===null?L:V[2]),V!==null){if(U===null){if(k===void 0)throw new Error("Missing the processor constructor.");if(_===null)throw new Error("Missing the native OfflineAudioContext constructor.");const E=j.channelCount*j.numberOfInputs,N=k.parameterDescriptors===void 0?0:k.parameterDescriptors.length,B=E+N;U=VO(j,B===0?null:await(async()=>{const C=new _(B,Math.ceil(j.context.length/128)*128,z.sampleRate),D=[],Y=[];for(let mt=0;mt<T.numberOfInputs;mt+=1)D.push(c(C,{channelCount:T.channelCount,channelCountMode:T.channelCountMode,channelInterpretation:T.channelInterpretation,gain:1})),Y.push(a(C,{channelCount:T.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:T.channelCount}));const st=await Promise.all(Array.from(j.parameters.values()).map(async mt=>{const gt=l(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:mt.value});return await v(C,mt,gt.offset),gt})),et=i(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,E+N)});for(let mt=0;mt<T.numberOfInputs;mt+=1){D[mt].connect(Y[mt]);for(let gt=0;gt<T.channelCount;gt+=1)Y[mt].connect(et,gt,mt*T.channelCount+gt)}for(const[mt,gt]of st.entries())gt.connect(et,0,E+mt),gt.start(0);return et.connect(C.destination),await Promise.all(D.map(mt=>w(j,C,mt))),S(C)})(),z,T,K,k,f)}const Q=await U,Z=e(z,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[$,ut,A]=V;Q!==null&&(Z.buffer=Q,Z.start(0)),Z.connect($);for(let E=0,N=0;E<j.numberOfOutputs;E+=1){const B=ut[E];for(let P=0;P<K[E];P+=1)$.connect(B,N+P,P);N+=K[E]}return A}if(H)for(const[Q,Z]of j.parameters.entries())await n(z,Z,L.parameters.get(Q));else for(const[Q,Z]of j.parameters.entries())await v(z,Z,L.parameters.get(Q));return await w(j,z,L),L};return{render(j,z){h(z,j);const L=R.get(z);return L!==void 0?Promise.resolve(L):O(j,z)}}},qO=(n,t,e,i,a,l,c,h,d,f,m,y,_,v,w,S,x,T,k,R)=>class extends w{constructor(O,j){super(O,j),this._nativeContext=O,this._audioWorklet=n===void 0?void 0:{addModule:(z,L)=>n(this,z,L)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new a(this)}createBuffer(O,j,z){return new e({length:j,numberOfChannels:O,sampleRate:z})}createBufferSource(){return new i(this)}createChannelMerger(O=6){return new l(this,{numberOfInputs:O})}createChannelSplitter(O=6){return new c(this,{numberOfOutputs:O})}createConstantSource(){return new h(this)}createConvolver(){return new d(this)}createDelay(O=1){return new m(this,{maxDelayTime:O})}createDynamicsCompressor(){return new y(this)}createGain(){return new _(this)}createIIRFilter(O,j){return new v(this,{feedback:j,feedforward:O})}createOscillator(){return new S(this)}createPanner(){return new x(this)}createPeriodicWave(O,j,z={disableNormalization:!1}){return new T(this,{...z,imag:j,real:O})}createStereoPanner(){return new k(this)}createWaveShaper(){return new R(this)}decodeAudioData(O,j,z){return f(this._nativeContext,O).then(L=>(typeof j=="function"&&j(L),L),L=>{throw typeof z=="function"&&z(L),L})}},GO={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},YO=(n,t,e,i,a,l,c,h)=>class extends n{constructor(f,m){const y=l(f),_={...GO,...m},v=a(y,_),w=c(y),S=w?e():null;super(f,!1,v,S),this._Q=t(this,w,v.Q,Tn,jn),this._detune=t(this,w,v.detune,1200*Math.log2(Tn),-1200*Math.log2(Tn)),this._frequency=t(this,w,v.frequency,f.sampleRate/2,0),this._gain=t(this,w,v.gain,40*Math.log10(Tn),jn),this._nativeBiquadFilterNode=v,h(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(f){this._nativeBiquadFilterNode.type=f}getFrequencyResponse(f,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(f,m,y)}catch(_){throw _.code===11?i():_}if(f.length!==m.length||m.length!==y.length)throw i()}},WO=(n,t,e,i,a)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=e(h);const m=xn(f,d);if(!m){const y={Q:f.Q.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,gain:f.gain.value,type:f.type};f=t(d,y)}return l.set(d,f),m?(await n(d,h.Q,f.Q),await n(d,h.detune,f.detune),await n(d,h.frequency,f.frequency),await n(d,h.gain,f.gain)):(await i(d,h.Q,f.Q),await i(d,h.detune,f.detune),await i(d,h.frequency,f.frequency),await i(d,h.gain,f.gain)),await a(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},XO=(n,t)=>(e,i)=>{const a=t.get(e);if(a!==void 0)return a;const l=n.get(e);if(l!==void 0)return l;try{const c=i();return c instanceof Promise?(n.set(e,c),c.catch(()=>!1).then(h=>(n.delete(e),t.set(e,h),h))):(t.set(e,c),c)}catch{return t.set(e,!1),!1}},$O={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ZO=(n,t,e,i,a)=>class extends n{constructor(c,h){const d=i(c),f={...$O,...h},m=e(d,f),y=a(d)?t():null;super(c,!1,m,y)}},QO=(n,t,e)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=t(l);if(!xn(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfInputs:h.numberOfInputs};h=n(c,f)}return i.set(c,h),await e(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},KO={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},JO=(n,t,e,i,a,l)=>class extends n{constructor(h,d){const f=i(h),m=l({...KO,...d}),y=e(f,m),_=a(f)?t():null;super(h,!1,y,_)}},t5=(n,t,e)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=t(l);if(!xn(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,numberOfOutputs:h.numberOfOutputs};h=n(c,f)}return i.set(c,h),await e(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},e5=n=>(t,e,i)=>n(e,t,i),n5=n=>(t,e,i=0,a=0)=>{const l=t[i];if(l===void 0)throw n();return Ih(e)?l.connect(e,0,a):l.connect(e,0)},s5=n=>(t,e)=>{const i=n(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),a=t.createBuffer(1,2,44100);return i.buffer=a,i.loop=!0,i.connect(e),i.start(),()=>{i.stop(),i.disconnect(e)}},i5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},r5=(n,t,e,i,a,l,c)=>class extends n{constructor(d,f){const m=a(d),y={...i5,...f},_=i(m,y),v=l(m),w=v?e():null;super(d,!1,_,w),this._constantSourceNodeRenderer=w,this._nativeConstantSourceNode=_,this._offset=t(this,v,_.offset,Tn,jn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?c(this,d):null;this._nativeConstantSourceNode.onended=f;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===f?d:m}start(d=0){if(this._nativeConstantSourceNode.start(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=d),this.context.state!=="closed"){Mo(this);const f=()=>{this._nativeConstantSourceNode.removeEventListener("ended",f),zi(this)&&bc(this)};this._nativeConstantSourceNode.addEventListener("ended",f)}}stop(d=0){this._nativeConstantSourceNode.stop(d),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=d)}},a5=(n,t,e,i,a)=>()=>{const l=new WeakMap;let c=null,h=null;const d=async(f,m)=>{let y=e(f);const _=xn(y,m);if(!_){const v={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=t(m,v),c!==null&&y.start(c),h!==null&&y.stop(h)}return l.set(m,y),_?await n(m,f.offset,y.offset):await i(m,f.offset,y.offset),await a(f,m,y),y};return{set start(f){c=f},set stop(f){h=f},render(f,m){const y=l.get(m);return y!==void 0?Promise.resolve(y):d(f,m)}}},o5=n=>t=>(n[0]=t,n[0]),l5={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},c5=(n,t,e,i,a,l)=>class extends n{constructor(h,d){const f=i(h),m={...l5,...d},y=e(f,m),v=a(f)?t():null;super(h,!1,y,v),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&l(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(h){if(this._nativeConvolverNode.buffer=h,h===null&&this._nativeConvolverNode.buffer!==null){const d=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=d.createBuffer(1,1,d.sampleRate),this._isBufferNullified=!0,l(this,0)}else this._isBufferNullified=!1,l(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(h){this._nativeConvolverNode.normalize=h}},u5=(n,t,e)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=t(l);if(!xn(h,c)){const f={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,disableNormalization:!h.normalize};h=n(c,f)}return i.set(c,h),qo(h)?await e(l,c,h.inputs[0]):await e(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},h5=(n,t)=>(e,i,a)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(e,i,a)}catch(l){throw l.name==="SyntaxError"?n():l}},d5=()=>new DOMException("","DataCloneError"),Fb=n=>{const{port1:t,port2:e}=new MessageChannel;return new Promise(i=>{const a=()=>{e.onmessage=null,t.close(),e.close(),i()};e.onmessage=()=>a();try{t.postMessage(n,[n])}catch{}finally{a()}})},f5=(n,t,e,i,a,l,c,h,d,f,m)=>(y,_)=>{const v=c(y)?y:l(y);if(a.has(_)){const w=e();return Promise.reject(w)}try{a.add(_)}catch{}return t(d,()=>d(v))?v.decodeAudioData(_).then(w=>(Fb(_).catch(()=>{}),t(h,()=>h(w))||m(w),n.add(w),w)):new Promise((w,S)=>{const x=async()=>{try{await Fb(_)}catch{}},T=k=>{S(k),x()};try{v.decodeAudioData(_,k=>{typeof k.copyFromChannel!="function"&&(f(k),Og(k)),n.add(k),x().then(()=>w(k))},k=>{T(k===null?i():k)})}catch(k){T(k)}})},p5=(n,t,e,i,a,l,c,h)=>(d,f)=>{const m=t.get(d);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=l(d.context),_=h(y);if(m===f){if(t.delete(d),!_&&c(d)){const v=i(d),{outputs:w}=e(d);for(const S of w)if(Sc(S)){const x=i(S[0]);n(v,x,S[1],S[2])}else{const x=a(S[0]);v.connect(x,S[1])}}}else t.set(d,m-f)},m5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},g5=(n,t,e,i,a,l,c)=>class extends n{constructor(d,f){const m=a(d),y={...m5,...f},_=i(m,y),v=l(m),w=v?e(y.maxDelayTime):null;super(d,!1,_,w),this._delayTime=t(this,v,_.delayTime),c(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},y5=(n,t,e,i,a)=>l=>{const c=new WeakMap,h=async(d,f)=>{let m=e(d);const y=xn(m,f);if(!y){const _={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:l};m=t(f,_)}return c.set(f,m),y?await n(f,d.delayTime,m.delayTime):await i(f,d.delayTime,m.delayTime),await a(d,f,m),m};return{render(d,f){const m=c.get(f);return m!==void 0?Promise.resolve(m):h(d,f)}}},_5=n=>(t,e,i,a)=>n(t[a],l=>l[0]===e&&l[1]===i),v5=n=>(t,e)=>{n(t).delete(e)},w5=n=>"delayTime"in n,b5=(n,t,e)=>function i(a,l){const c=Dh(l)?l:e(n,l);if(w5(c))return[];if(a[0]===c)return[a];if(a.includes(c))return[];const{outputs:h}=t(c);return Array.from(h).map(d=>i([...a,c],d[0])).reduce((d,f)=>d.concat(f),[])},ch=(n,t,e)=>{const i=t[e];if(i===void 0)throw n();return i},x5=n=>(t,e=void 0,i=void 0,a=0)=>e===void 0?t.forEach(l=>l.disconnect()):typeof e=="number"?ch(n,t,e).disconnect():Ih(e)?i===void 0?t.forEach(l=>l.disconnect(e)):a===void 0?ch(n,t,i).disconnect(e,0):ch(n,t,i).disconnect(e,0,a):i===void 0?t.forEach(l=>l.disconnect(e)):ch(n,t,i).disconnect(e,0),S5={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},A5=(n,t,e,i,a,l,c,h)=>class extends n{constructor(f,m){const y=l(f),_={...S5,...m},v=i(y,_),w=c(y),S=w?e():null;super(f,!1,v,S),this._attack=t(this,w,v.attack),this._knee=t(this,w,v.knee),this._nativeDynamicsCompressorNode=v,this._ratio=t(this,w,v.ratio),this._release=t(this,w,v.release),this._threshold=t(this,w,v.threshold),h(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(f){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=f,f>2)throw this._nativeDynamicsCompressorNode.channelCount=m,a()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(f){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=f,f==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,a()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},T5=(n,t,e,i,a)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=e(h);const m=xn(f,d);if(!m){const y={attack:f.attack.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,knee:f.knee.value,ratio:f.ratio.value,release:f.release.value,threshold:f.threshold.value};f=t(d,y)}return l.set(d,f),m?(await n(d,h.attack,f.attack),await n(d,h.knee,f.knee),await n(d,h.ratio,f.ratio),await n(d,h.release,f.release),await n(d,h.threshold,f.threshold)):(await i(d,h.attack,f.attack),await i(d,h.knee,f.knee),await i(d,h.ratio,f.ratio),await i(d,h.release,f.release),await i(d,h.threshold,f.threshold)),await a(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},C5=()=>new DOMException("","EncodingError"),E5=n=>t=>new Promise((e,i)=>{if(n===null){i(new SyntaxError);return}const a=n.document.head;if(a===null)i(new SyntaxError);else{const l=n.document.createElement("script"),c=new Blob([t],{type:"application/javascript"}),h=URL.createObjectURL(c),d=n.onerror,f=()=>{n.onerror=d,URL.revokeObjectURL(h)};n.onerror=(m,y,_,v,w)=>{if(y===h||y===n.location.href&&_===1&&v===1)return f(),i(w),!1;if(d!==null)return d(m,y,_,v,w)},l.onerror=()=>{f(),i(new SyntaxError)},l.onload=()=>{f(),e()},l.src=h,l.type="module",a.appendChild(l)}}),M5=n=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(e,i,a){if(i!==null){let l=this._listeners.get(i);l===void 0&&(l=n(this,i),typeof i=="function"&&this._listeners.set(i,l)),this._nativeEventTarget.addEventListener(e,l,a)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,i,a){const l=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(e,l===void 0?null:l,a)}},k5=n=>(t,e,i)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(t*e)}},currentTime:{configurable:!0,get(){return t}}});try{return i()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},N5=n=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw n()},R5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},D5=(n,t,e,i,a,l)=>class extends n{constructor(h,d){const f=a(h),m={...R5,...d},y=i(f,m),_=l(f),v=_?e():null;super(h,!1,y,v),this._gain=t(this,_,y.gain,Tn,jn)}get gain(){return this._gain}},O5=(n,t,e,i,a)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=e(h);const m=xn(f,d);if(!m){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:f.gain.value};f=t(d,y)}return l.set(d,f),m?await n(d,h.gain,f.gain):await i(d,h.gain,f.gain),await a(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},B5=(n,t)=>e=>t(n,e),I5=n=>t=>{const e=n(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return e.renderer},z5=n=>t=>{var e;return(e=n.get(t))!==null&&e!==void 0?e:0},L5=n=>t=>{const e=n(t);if(e.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return e.renderer},P5=n=>t=>n.get(t),nn=()=>new DOMException("","InvalidStateError"),j5=n=>t=>{const e=n.get(t);if(e===void 0)throw nn();return e},U5=(n,t)=>e=>{let i=n.get(e);if(i!==void 0)return i;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new t(1,1,44100),n.set(e,i),i},F5=n=>t=>{const e=n.get(t);if(e===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return e},td=()=>new DOMException("","InvalidAccessError"),V5=n=>{n.getFrequencyResponse=(t=>(e,i,a)=>{if(e.length!==i.length||i.length!==a.length)throw td();return t.call(n,e,i,a)})(n.getFrequencyResponse)},H5={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},q5=(n,t,e,i,a,l)=>class extends n{constructor(h,d){const f=i(h),m=a(f),y={...H5,...d},_=t(f,m?null:h.baseLatency,y),v=m?e(y.feedback,y.feedforward):null;super(h,!1,_,v),V5(_),this._nativeIIRFilterNode=_,l(this,1)}getFrequencyResponse(h,d,f){return this._nativeIIRFilterNode.getFrequencyResponse(h,d,f)}},OS=(n,t,e,i,a,l,c,h,d,f,m)=>{const y=f.length;let _=h;for(let v=0;v<y;v+=1){let w=e[0]*f[v];for(let S=1;S<a;S+=1){const x=_-S&d-1;w+=e[S]*l[x],w-=n[S]*c[x]}for(let S=a;S<i;S+=1)w+=e[S]*l[_-S&d-1];for(let S=a;S<t;S+=1)w-=n[S]*c[_-S&d-1];l[_]=f[v],c[_]=w,_=_+1&d-1,m[v]=w}return _},G5=(n,t,e,i)=>{const a=e instanceof Float64Array?e:new Float64Array(e),l=i instanceof Float64Array?i:new Float64Array(i),c=a.length,h=l.length,d=Math.min(c,h);if(a[0]!==1){for(let w=0;w<c;w+=1)l[w]/=a[0];for(let w=1;w<h;w+=1)a[w]/=a[0]}const f=32,m=new Float32Array(f),y=new Float32Array(f),_=t.createBuffer(n.numberOfChannels,n.length,n.sampleRate),v=n.numberOfChannels;for(let w=0;w<v;w+=1){const S=n.getChannelData(w),x=_.getChannelData(w);m.fill(0),y.fill(0),OS(a,c,l,h,d,m,y,0,f,S,x)}return _},Y5=(n,t,e,i,a)=>(l,c)=>{const h=new WeakMap;let d=null;const f=async(m,y)=>{let _=null,v=t(m);const w=xn(v,y);if(y.createIIRFilter===void 0?_=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):w||(v=y.createIIRFilter(c,l)),h.set(y,_===null?v:_),_!==null){if(d===null){if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new e(m.context.destination.channelCount,m.context.length,y.sampleRate);d=(async()=>{await i(m,x,x.destination);const T=await a(x);return G5(T,y,l,c)})()}const S=await d;return _.buffer=S,_.start(0),_}return await i(m,y,v),v};return{render(m,y){const _=h.get(y);return _!==void 0?Promise.resolve(_):f(m,y)}}},W5=(n,t,e,i,a,l)=>c=>(h,d)=>{const f=n.get(h);if(f===void 0){if(!c&&l(h)){const m=i(h),{outputs:y}=e(h);for(const _ of y)if(Sc(_)){const v=i(_[0]);t(m,v,_[1],_[2])}else{const v=a(_[0]);m.disconnect(v,_[1])}}n.set(h,d)}else n.set(h,f+d)},X5=(n,t)=>e=>{const i=n.get(e);return t(i)||t(e)},$5=(n,t)=>e=>n.has(e)||t(e),Z5=(n,t)=>e=>n.has(e)||t(e),Q5=(n,t)=>e=>{const i=n.get(e);return t(i)||t(e)},K5=n=>t=>n!==null&&t instanceof n,J5=n=>t=>n!==null&&typeof n.AudioNode=="function"&&t instanceof n.AudioNode,t4=n=>t=>n!==null&&typeof n.AudioParam=="function"&&t instanceof n.AudioParam,e4=(n,t)=>e=>n(e)||t(e),n4=n=>t=>n!==null&&t instanceof n,s4=n=>n!==null&&n.isSecureContext,i4=(n,t,e,i)=>class extends n{constructor(l,c){const h=e(l),d=t(h,c);if(i(h))throw TypeError();super(l,!0,d,null),this._nativeMediaElementAudioSourceNode=d}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},r4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},a4=(n,t,e,i)=>class extends n{constructor(l,c){const h=e(l);if(i(h))throw new TypeError;const d={...r4,...c},f=t(h,d);super(l,!1,f,null),this._nativeMediaStreamAudioDestinationNode=f}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},o4=(n,t,e,i)=>class extends n{constructor(l,c){const h=e(l),d=t(h,c);if(i(h))throw new TypeError;super(l,!0,d,null),this._nativeMediaStreamAudioSourceNode=d}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},l4=(n,t,e)=>class extends n{constructor(a,l){const c=e(a),h=t(c,l);super(a,!0,h,null)}},c4=(n,t,e,i,a,l)=>class extends e{constructor(h,d){super(h),this._nativeContext=h,Kh.set(this,h),i(h)&&a.set(h,new Set),this._destination=new n(this,d),this._listener=t(this,h),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(h){const d=typeof h=="function"?l(this,h):null;this._nativeContext.onstatechange=d;const f=this._nativeContext.onstatechange;this._onstatechange=f!==null&&f===d?h:f}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ac=n=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const e=n.decodeAudioData(t.buffer,()=>{});return e===void 0?!1:(e.catch(()=>{}),!0)}catch{}return!1},u4=(n,t)=>(e,i,a)=>{const l=new Set;return e.connect=(c=>(h,d=0,f=0)=>{const m=l.size===0;if(t(h))return c.call(e,h,d,f),n(l,[h,d,f],y=>y[0]===h&&y[1]===d&&y[2]===f,!0),m&&i(),h;c.call(e,h,d),n(l,[h,d],y=>y[0]===h&&y[1]===d,!0),m&&i()})(e.connect),e.disconnect=(c=>(h,d,f)=>{const m=l.size>0;if(h===void 0)c.apply(e),l.clear();else if(typeof h=="number"){c.call(e,h);for(const _ of l)_[1]===h&&l.delete(_)}else{t(h)?c.call(e,h,d,f):c.call(e,h,d);for(const _ of l)_[0]===h&&(d===void 0||_[1]===d)&&(f===void 0||_[2]===f)&&l.delete(_)}const y=l.size===0;m&&y&&a()})(e.disconnect),e},Se=(n,t,e)=>{const i=t[e];i!==void 0&&i!==n[e]&&(n[e]=i)},Ze=(n,t)=>{Se(n,t,"channelCount"),Se(n,t,"channelCountMode"),Se(n,t,"channelInterpretation")},Vb=n=>typeof n.getFloatTimeDomainData=="function",h4=n=>{n.getFloatTimeDomainData=t=>{const e=new Uint8Array(t.length);n.getByteTimeDomainData(e);const i=Math.max(e.length,n.fftSize);for(let a=0;a<i;a+=1)t[a]=(e[a]-128)*.0078125;return t}},d4=(n,t)=>(e,i)=>{const a=e.createAnalyser();if(Ze(a,i),!(i.maxDecibels>i.minDecibels))throw t();return Se(a,i,"fftSize"),Se(a,i,"maxDecibels"),Se(a,i,"minDecibels"),Se(a,i,"smoothingTimeConstant"),n(Vb,()=>Vb(a))||h4(a),a},f4=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,De=(n,t,e)=>{const i=t[e];i!==void 0&&i!==n[e].value&&(n[e].value=i)},p4=n=>{n.start=(t=>{let e=!1;return(i=0,a=0,l)=>{if(e)throw nn();t.call(n,i,a,l),e=!0}})(n.start)},zg=n=>{n.start=(t=>(e=0,i=0,a)=>{if(typeof a=="number"&&a<0||i<0||e<0)throw new RangeError("The parameters can't be negative.");t.call(n,e,i,a)})(n.start)},Lg=n=>{n.stop=(t=>(e=0)=>{if(e<0)throw new RangeError("The parameter can't be negative.");t.call(n,e)})(n.stop)},m4=(n,t,e,i,a,l,c,h,d,f,m)=>(y,_)=>{const v=y.createBufferSource();return Ze(v,_),De(v,_,"playbackRate"),Se(v,_,"buffer"),Se(v,_,"loop"),Se(v,_,"loopEnd"),Se(v,_,"loopStart"),t(e,()=>e(y))||p4(v),t(i,()=>i(y))||d(v),t(a,()=>a(y))||f(v,y),t(l,()=>l(y))||zg(v),t(c,()=>c(y))||m(v,y),t(h,()=>h(y))||Lg(v),n(y,v),v},g4=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,y4=(n,t)=>(e,i,a)=>{const l=e.destination;if(l.channelCount!==i)try{l.channelCount=i}catch{}a&&l.channelCountMode!=="explicit"&&(l.channelCountMode="explicit"),l.maxChannelCount===0&&Object.defineProperty(l,"maxChannelCount",{value:i});const c=n(e,{channelCount:i,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:1});return t(c,"channelCount",h=>()=>h.call(c),h=>d=>{h.call(c,d);try{l.channelCount=d}catch(f){if(d>l.maxChannelCount)throw f}}),t(c,"channelCountMode",h=>()=>h.call(c),h=>d=>{h.call(c,d),l.channelCountMode=d}),t(c,"channelInterpretation",h=>()=>h.call(c),h=>d=>{h.call(c,d),l.channelInterpretation=d}),Object.defineProperty(c,"maxChannelCount",{get:()=>l.maxChannelCount}),c.connect(l),c},_4=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,v4=n=>{const{port1:t}=new MessageChannel;try{t.postMessage(n)}finally{t.close()}},w4=(n,t,e,i,a)=>(l,c,h,d,f,m)=>{if(h!==null)try{const y=new h(l,d,m),_=new Map;let v=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>v,set:w=>{typeof v=="function"&&y.removeEventListener("processorerror",v),v=typeof w=="function"?w:null,typeof v=="function"&&y.addEventListener("processorerror",v)}}}),y.addEventListener=(w=>(...S)=>{if(S[0]==="processorerror"){const x=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(x!==null){const T=_.get(S[1]);T!==void 0?S[1]=T:(S[1]=k=>{k.type==="error"?(Object.defineProperties(k,{type:{value:"processorerror"}}),x(k)):x(new ErrorEvent(S[0],{...k}))},_.set(x,S[1]))}}return w.call(y,"error",S[1],S[2]),w.call(y,...S)})(y.addEventListener),y.removeEventListener=(w=>(...S)=>{if(S[0]==="processorerror"){const x=_.get(S[1]);x!==void 0&&(_.delete(S[1]),S[1]=x)}return w.call(y,"error",S[1],S[2]),w.call(y,S[0],S[1],S[2])})(y.removeEventListener),m.numberOfOutputs!==0){const w=e(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(w).connect(l.destination),a(y,()=>w.disconnect(),()=>w.connect(l.destination))}return y}catch(y){throw y.code===11?i():y}if(f===void 0)throw i();return v4(m),t(l,c,f,m)},BS=(n,t)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*t))))),b4=n=>new Promise((t,e)=>{const{port1:i,port2:a}=new MessageChannel;i.onmessage=({data:l})=>{i.close(),a.close(),t(l)},i.onmessageerror=({data:l})=>{i.close(),a.close(),e(l)},a.postMessage(n)}),x4=async(n,t)=>{const e=await b4(t);return new n(e)},S4=(n,t,e,i)=>{let a=zm.get(n);a===void 0&&(a=new WeakMap,zm.set(n,a));const l=x4(e,i);return a.set(t,l),l},A4=(n,t,e,i,a,l,c,h,d,f,m,y,_)=>(v,w,S,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw d();const T=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(T.some(ft=>ft<1))throw d();if(T.length!==x.numberOfOutputs)throw t();if(x.channelCountMode!=="explicit")throw d();const k=x.channelCount*x.numberOfInputs,R=T.reduce((ft,yt)=>ft+yt,0),U=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length;if(k+U>6||R>6)throw d();const O=new MessageChannel,j=[],z=[];for(let ft=0;ft<x.numberOfInputs;ft+=1)j.push(c(v,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),z.push(a(v,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const L=[];if(S.parameterDescriptors!==void 0)for(const{defaultValue:ft,maxValue:yt,minValue:Ht,name:It}of S.parameterDescriptors){const Nt=l(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[It]!==void 0?x.parameterData[It]:ft===void 0?0:ft});Object.defineProperties(Nt.offset,{defaultValue:{get:()=>ft===void 0?0:ft},maxValue:{get:()=>yt===void 0?Tn:yt},minValue:{get:()=>Ht===void 0?jn:Ht}}),L.push(Nt)}const V=i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,k+U)}),H=BS(w,v.sampleRate),K=h(v,H,k+U,Math.max(1,R)),Q=a(v,{channelCount:Math.max(1,R),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,R)}),Z=[];for(let ft=0;ft<x.numberOfOutputs;ft+=1)Z.push(i(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:T[ft]}));for(let ft=0;ft<x.numberOfInputs;ft+=1){j[ft].connect(z[ft]);for(let yt=0;yt<x.channelCount;yt+=1)z[ft].connect(V,yt,ft*x.channelCount+yt)}const $=new RS(S.parameterDescriptors===void 0?[]:S.parameterDescriptors.map(({name:ft},yt)=>{const Ht=L[yt];return Ht.connect(V,0,k+yt),Ht.start(0),[ft,Ht.offset]}));V.connect(K);let ut=x.channelInterpretation,A=null;const E=x.numberOfOutputs===0?[K]:Z,N={get bufferSize(){return H},get channelCount(){return x.channelCount},set channelCount(ft){throw e()},get channelCountMode(){return x.channelCountMode},set channelCountMode(ft){throw e()},get channelInterpretation(){return ut},set channelInterpretation(ft){for(const yt of j)yt.channelInterpretation=ft;ut=ft},get context(){return K.context},get inputs(){return j},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return A},set onprocessorerror(ft){typeof A=="function"&&N.removeEventListener("processorerror",A),A=typeof ft=="function"?ft:null,typeof A=="function"&&N.addEventListener("processorerror",A)},get parameters(){return $},get port(){return O.port2},addEventListener(...ft){return K.addEventListener(ft[0],ft[1],ft[2])},connect:n.bind(null,E),disconnect:f.bind(null,E),dispatchEvent(...ft){return K.dispatchEvent(ft[0])},removeEventListener(...ft){return K.removeEventListener(ft[0],ft[1],ft[2])}},B=new Map;O.port1.addEventListener=(ft=>(...yt)=>{if(yt[0]==="message"){const Ht=typeof yt[1]=="function"?yt[1]:typeof yt[1]=="object"&&yt[1]!==null&&typeof yt[1].handleEvent=="function"?yt[1].handleEvent:null;if(Ht!==null){const It=B.get(yt[1]);It!==void 0?yt[1]=It:(yt[1]=Nt=>{m(v.currentTime,v.sampleRate,()=>Ht(Nt))},B.set(Ht,yt[1]))}}return ft.call(O.port1,yt[0],yt[1],yt[2])})(O.port1.addEventListener),O.port1.removeEventListener=(ft=>(...yt)=>{if(yt[0]==="message"){const Ht=B.get(yt[1]);Ht!==void 0&&(B.delete(yt[1]),yt[1]=Ht)}return ft.call(O.port1,yt[0],yt[1],yt[2])})(O.port1.removeEventListener);let P=null;Object.defineProperty(O.port1,"onmessage",{get:()=>P,set:ft=>{typeof P=="function"&&O.port1.removeEventListener("message",P),P=typeof ft=="function"?ft:null,typeof P=="function"&&(O.port1.addEventListener("message",P),O.port1.start())}}),S.prototype.port=O.port1;let C=null;S4(v,N,S,x).then(ft=>C=ft);const Y=Lh(x.numberOfInputs,x.channelCount),st=Lh(x.numberOfOutputs,T),et=S.parameterDescriptors===void 0?[]:S.parameterDescriptors.reduce((ft,{name:yt})=>({...ft,[yt]:new Float32Array(128)}),{});let mt=!0;const gt=()=>{x.numberOfOutputs>0&&K.disconnect(Q);for(let ft=0,yt=0;ft<x.numberOfOutputs;ft+=1){const Ht=Z[ft];for(let It=0;It<T[ft];It+=1)Q.disconnect(Ht,yt+It,It);yt+=T[ft]}},ot=new Map;K.onaudioprocess=({inputBuffer:ft,outputBuffer:yt})=>{if(C!==null){const Ht=y(N);for(let It=0;It<H;It+=128){for(let Nt=0;Nt<x.numberOfInputs;Nt+=1)for(let qt=0;qt<x.channelCount;qt+=1)zh(ft,Y[Nt],qt,qt,It);S.parameterDescriptors!==void 0&&S.parameterDescriptors.forEach(({name:Nt},qt)=>{zh(ft,et,Nt,k+qt,It)});for(let Nt=0;Nt<x.numberOfInputs;Nt+=1)for(let qt=0;qt<T[Nt];qt+=1)st[Nt][qt].byteLength===0&&(st[Nt][qt]=new Float32Array(128));try{const Nt=Y.map((me,Sn)=>{if(Ht[Sn].size>0)return ot.set(Sn,H/128),me;const Be=ot.get(Sn);return Be===void 0?[]:(me.every(Nr=>Nr.every(oi=>oi===0))&&(Be===1?ot.delete(Sn):ot.set(Sn,Be-1)),me)});mt=m(v.currentTime+It/v.sampleRate,v.sampleRate,()=>C.process(Nt,st,et));for(let me=0,Sn=0;me<x.numberOfOutputs;me+=1){for(let Ts=0;Ts<T[me];Ts+=1)DS(yt,st[me],Ts,Sn+Ts,It);Sn+=T[me]}}catch(Nt){mt=!1,N.dispatchEvent(new ErrorEvent("processorerror",{colno:Nt.colno,filename:Nt.filename,lineno:Nt.lineno,message:Nt.message}))}if(!mt){for(let Nt=0;Nt<x.numberOfInputs;Nt+=1){j[Nt].disconnect(z[Nt]);for(let qt=0;qt<x.channelCount;qt+=1)z[It].disconnect(V,qt,Nt*x.channelCount+qt)}if(S.parameterDescriptors!==void 0){const Nt=S.parameterDescriptors.length;for(let qt=0;qt<Nt;qt+=1){const me=L[qt];me.disconnect(V,0,k+qt),me.stop()}}V.disconnect(K),K.onaudioprocess=null,vt?gt():te();break}}}};let vt=!1;const xt=c(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Wt=()=>K.connect(xt).connect(v.destination),te=()=>{K.disconnect(xt),xt.disconnect()},Ue=()=>{if(mt){te(),x.numberOfOutputs>0&&K.connect(Q);for(let ft=0,yt=0;ft<x.numberOfOutputs;ft+=1){const Ht=Z[ft];for(let It=0;It<T[ft];It+=1)Q.connect(Ht,yt+It,It);yt+=T[ft]}}vt=!0},be=()=>{mt&&(Wt(),gt()),vt=!1};return Wt(),_(N,Ue,be)},IS=(n,t)=>{const e=n.createBiquadFilter();return Ze(e,t),De(e,t,"Q"),De(e,t,"detune"),De(e,t,"frequency"),De(e,t,"gain"),Se(e,t,"type"),e},T4=(n,t)=>(e,i)=>{const a=e.createChannelMerger(i.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&t(e,a),Ze(a,i),a},C4=n=>{const t=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw nn()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:e=>{if(e!=="explicit")throw nn()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:e=>{if(e!=="discrete")throw nn()}})},Ac=(n,t)=>{const e=n.createChannelSplitter(t.numberOfOutputs);return Ze(e,t),C4(e),e},E4=(n,t,e,i,a)=>(l,c)=>{if(l.createConstantSource===void 0)return e(l,c);const h=l.createConstantSource();return Ze(h,c),De(h,c,"offset"),t(i,()=>i(l))||zg(h),t(a,()=>a(l))||Lg(h),n(l,h),h},Go=(n,t)=>(n.connect=t.connect.bind(t),n.disconnect=t.disconnect.bind(t),n),M4=(n,t,e,i)=>(a,{offset:l,...c})=>{const h=a.createBuffer(1,2,44100),d=t(a,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),f=e(a,{...c,gain:l}),m=h.getChannelData(0);m[0]=1,m[1]=1,d.buffer=h,d.loop=!0;const y={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(w){f.channelCount=w},get channelCountMode(){return f.channelCountMode},set channelCountMode(w){f.channelCountMode=w},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(w){f.channelInterpretation=w},get context(){return f.context},get inputs(){return[]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get offset(){return f.gain},get onended(){return d.onended},set onended(w){d.onended=w},addEventListener(...w){return d.addEventListener(w[0],w[1],w[2])},dispatchEvent(...w){return d.dispatchEvent(w[0])},removeEventListener(...w){return d.removeEventListener(w[0],w[1],w[2])},start(w=0){d.start.call(d,w)},stop(w=0){d.stop.call(d,w)}},_=()=>d.connect(f),v=()=>d.disconnect(f);return n(a,d),i(Go(y,f),_,v)},k4=(n,t)=>(e,i)=>{const a=e.createConvolver();if(Ze(a,i),i.disableNormalization===a.normalize&&(a.normalize=!i.disableNormalization),Se(a,i,"buffer"),i.channelCount>2||(t(a,"channelCount",l=>()=>l.call(a),l=>c=>{if(c>2)throw n();return l.call(a,c)}),i.channelCountMode==="max"))throw n();return t(a,"channelCountMode",l=>()=>l.call(a),l=>c=>{if(c==="max")throw n();return l.call(a,c)}),a},zS=(n,t)=>{const e=n.createDelay(t.maxDelayTime);return Ze(e,t),De(e,t,"delayTime"),e},N4=n=>(t,e)=>{const i=t.createDynamicsCompressor();if(Ze(i,e),e.channelCount>2||e.channelCountMode==="max")throw n();return De(i,e,"attack"),De(i,e,"knee"),De(i,e,"ratio"),De(i,e,"release"),De(i,e,"threshold"),i},Hn=(n,t)=>{const e=n.createGain();return Ze(e,t),De(e,t,"gain"),e},R4=n=>(t,e,i)=>{if(t.createIIRFilter===void 0)return n(t,e,i);const a=t.createIIRFilter(i.feedforward,i.feedback);return Ze(a,i),a};function D4(n,t){const e=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/e,(n[1]*t[0]-n[0]*t[1])/e]}function O4(n,t){return[n[0]*t[0]-n[1]*t[1],n[0]*t[1]+n[1]*t[0]]}function Hb(n,t){let e=[0,0];for(let i=n.length-1;i>=0;i-=1)e=O4(e,t),e[0]+=n[i];return e}const B4=(n,t,e,i)=>(a,l,{channelCount:c,channelCountMode:h,channelInterpretation:d,feedback:f,feedforward:m})=>{const y=BS(l,a.sampleRate),_=f instanceof Float64Array?f:new Float64Array(f),v=m instanceof Float64Array?m:new Float64Array(m),w=_.length,S=v.length,x=Math.min(w,S);if(w===0||w>20)throw i();if(_[0]===0)throw t();if(S===0||S>20)throw i();if(v[0]===0)throw t();if(_[0]!==1){for(let L=0;L<S;L+=1)v[L]/=_[0];for(let L=1;L<w;L+=1)_[L]/=_[0]}const T=e(a,y,c,c);T.channelCount=c,T.channelCountMode=h,T.channelInterpretation=d;const k=32,R=[],U=[],O=[];for(let L=0;L<c;L+=1){R.push(0);const V=new Float32Array(k),H=new Float32Array(k);V.fill(0),H.fill(0),U.push(V),O.push(H)}T.onaudioprocess=L=>{const V=L.inputBuffer,H=L.outputBuffer,K=V.numberOfChannels;for(let Q=0;Q<K;Q+=1){const Z=V.getChannelData(Q),$=H.getChannelData(Q);R[Q]=OS(_,w,v,S,x,U[Q],O[Q],R[Q],k,Z,$)}};const j=a.sampleRate/2;return Go({get bufferSize(){return y},get channelCount(){return T.channelCount},set channelCount(L){T.channelCount=L},get channelCountMode(){return T.channelCountMode},set channelCountMode(L){T.channelCountMode=L},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(L){T.channelInterpretation=L},get context(){return T.context},get inputs(){return[T]},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},addEventListener(...L){return T.addEventListener(L[0],L[1],L[2])},dispatchEvent(...L){return T.dispatchEvent(L[0])},getFrequencyResponse(L,V,H){if(L.length!==V.length||V.length!==H.length)throw n();const K=L.length;for(let Q=0;Q<K;Q+=1){const Z=-Math.PI*(L[Q]/j),$=[Math.cos(Z),Math.sin(Z)],ut=Hb(v,$),A=Hb(_,$),E=D4(ut,A);V[Q]=Math.sqrt(E[0]*E[0]+E[1]*E[1]),H[Q]=Math.atan2(E[1],E[0])}},removeEventListener(...L){return T.removeEventListener(L[0],L[1],L[2])}},T)},I4=(n,t)=>n.createMediaElementSource(t.mediaElement),z4=(n,t)=>{const e=n.createMediaStreamDestination();return Ze(e,t),e.numberOfOutputs===1&&Object.defineProperty(e,"numberOfOutputs",{get:()=>0}),e},L4=(n,{mediaStream:t})=>{const e=t.getAudioTracks();e.sort((l,c)=>l.id<c.id?-1:l.id>c.id?1:0);const i=e.slice(0,1),a=n.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(a,"mediaStream",{value:t}),a},P4=(n,t)=>(e,{mediaStreamTrack:i})=>{if(typeof e.createMediaStreamTrackSource=="function")return e.createMediaStreamTrackSource(i);const a=new MediaStream([i]),l=e.createMediaStreamSource(a);if(i.kind!=="audio")throw n();if(t(e))throw new TypeError;return l},j4=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,U4=(n,t,e,i,a,l)=>(c,h)=>{const d=c.createOscillator();return Ze(d,h),De(d,h,"detune"),De(d,h,"frequency"),h.periodicWave!==void 0?d.setPeriodicWave(h.periodicWave):Se(d,h,"type"),t(e,()=>e(c))||zg(d),t(i,()=>i(c))||l(d,c),t(a,()=>a(c))||Lg(d),n(c,d),d},F4=n=>(t,e)=>{const i=t.createPanner();return i.orientationX===void 0?n(t,e):(Ze(i,e),De(i,e,"orientationX"),De(i,e,"orientationY"),De(i,e,"orientationZ"),De(i,e,"positionX"),De(i,e,"positionY"),De(i,e,"positionZ"),Se(i,e,"coneInnerAngle"),Se(i,e,"coneOuterAngle"),Se(i,e,"coneOuterGain"),Se(i,e,"distanceModel"),Se(i,e,"maxDistance"),Se(i,e,"panningModel"),Se(i,e,"refDistance"),Se(i,e,"rolloffFactor"),i)},V4=(n,t,e,i,a,l,c,h,d,f)=>(m,{coneInnerAngle:y,coneOuterAngle:_,coneOuterGain:v,distanceModel:w,maxDistance:S,orientationX:x,orientationY:T,orientationZ:k,panningModel:R,positionX:U,positionY:O,positionZ:j,refDistance:z,rolloffFactor:L,...V})=>{const H=m.createPanner();if(V.channelCount>2||V.channelCountMode==="max")throw c();Ze(H,V);const K={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},Q=e(m,{...K,channelInterpretation:"speakers",numberOfInputs:6}),Z=i(m,{...V,gain:1}),$=i(m,{...K,gain:1}),ut=i(m,{...K,gain:0}),A=i(m,{...K,gain:0}),E=i(m,{...K,gain:0}),N=i(m,{...K,gain:0}),B=i(m,{...K,gain:0}),P=a(m,256,6,1),C=l(m,{...K,curve:new Float32Array([1,1]),oversample:"none"});let D=[x,T,k],Y=[U,O,j];const st=new Float32Array(1);P.onaudioprocess=({inputBuffer:ot})=>{const vt=[d(ot,st,0),d(ot,st,1),d(ot,st,2)];vt.some((Wt,te)=>Wt!==D[te])&&(H.setOrientation(...vt),D=vt);const xt=[d(ot,st,3),d(ot,st,4),d(ot,st,5)];xt.some((Wt,te)=>Wt!==Y[te])&&(H.setPosition(...xt),Y=xt)},Object.defineProperty(ut.gain,"defaultValue",{get:()=>0}),Object.defineProperty(A.gain,"defaultValue",{get:()=>0}),Object.defineProperty(E.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(B.gain,"defaultValue",{get:()=>0});const et={get bufferSize(){},get channelCount(){return H.channelCount},set channelCount(ot){if(ot>2)throw c();Z.channelCount=ot,H.channelCount=ot},get channelCountMode(){return H.channelCountMode},set channelCountMode(ot){if(ot==="max")throw c();Z.channelCountMode=ot,H.channelCountMode=ot},get channelInterpretation(){return H.channelInterpretation},set channelInterpretation(ot){Z.channelInterpretation=ot,H.channelInterpretation=ot},get coneInnerAngle(){return H.coneInnerAngle},set coneInnerAngle(ot){H.coneInnerAngle=ot},get coneOuterAngle(){return H.coneOuterAngle},set coneOuterAngle(ot){H.coneOuterAngle=ot},get coneOuterGain(){return H.coneOuterGain},set coneOuterGain(ot){if(ot<0||ot>1)throw t();H.coneOuterGain=ot},get context(){return H.context},get distanceModel(){return H.distanceModel},set distanceModel(ot){H.distanceModel=ot},get inputs(){return[Z]},get maxDistance(){return H.maxDistance},set maxDistance(ot){if(ot<0)throw new RangeError;H.maxDistance=ot},get numberOfInputs(){return H.numberOfInputs},get numberOfOutputs(){return H.numberOfOutputs},get orientationX(){return $.gain},get orientationY(){return ut.gain},get orientationZ(){return A.gain},get panningModel(){return H.panningModel},set panningModel(ot){H.panningModel=ot},get positionX(){return E.gain},get positionY(){return N.gain},get positionZ(){return B.gain},get refDistance(){return H.refDistance},set refDistance(ot){if(ot<0)throw new RangeError;H.refDistance=ot},get rolloffFactor(){return H.rolloffFactor},set rolloffFactor(ot){if(ot<0)throw new RangeError;H.rolloffFactor=ot},addEventListener(...ot){return Z.addEventListener(ot[0],ot[1],ot[2])},dispatchEvent(...ot){return Z.dispatchEvent(ot[0])},removeEventListener(...ot){return Z.removeEventListener(ot[0],ot[1],ot[2])}};y!==et.coneInnerAngle&&(et.coneInnerAngle=y),_!==et.coneOuterAngle&&(et.coneOuterAngle=_),v!==et.coneOuterGain&&(et.coneOuterGain=v),w!==et.distanceModel&&(et.distanceModel=w),S!==et.maxDistance&&(et.maxDistance=S),x!==et.orientationX.value&&(et.orientationX.value=x),T!==et.orientationY.value&&(et.orientationY.value=T),k!==et.orientationZ.value&&(et.orientationZ.value=k),R!==et.panningModel&&(et.panningModel=R),U!==et.positionX.value&&(et.positionX.value=U),O!==et.positionY.value&&(et.positionY.value=O),j!==et.positionZ.value&&(et.positionZ.value=j),z!==et.refDistance&&(et.refDistance=z),L!==et.rolloffFactor&&(et.rolloffFactor=L),(D[0]!==1||D[1]!==0||D[2]!==0)&&H.setOrientation(...D),(Y[0]!==0||Y[1]!==0||Y[2]!==0)&&H.setPosition(...Y);const mt=()=>{Z.connect(H),n(Z,C,0,0),C.connect($).connect(Q,0,0),C.connect(ut).connect(Q,0,1),C.connect(A).connect(Q,0,2),C.connect(E).connect(Q,0,3),C.connect(N).connect(Q,0,4),C.connect(B).connect(Q,0,5),Q.connect(P).connect(m.destination)},gt=()=>{Z.disconnect(H),h(Z,C,0,0),C.disconnect($),$.disconnect(Q),C.disconnect(ut),ut.disconnect(Q),C.disconnect(A),A.disconnect(Q),C.disconnect(E),E.disconnect(Q),C.disconnect(N),N.disconnect(Q),C.disconnect(B),B.disconnect(Q),Q.disconnect(P),P.disconnect(m.destination)};return f(Go(et,H),mt,gt)},H4=n=>(t,{disableNormalization:e,imag:i,real:a})=>{const l=i instanceof Float32Array?i:new Float32Array(i),c=a instanceof Float32Array?a:new Float32Array(a),h=t.createPeriodicWave(c,l,{disableNormalization:e});if(Array.from(i).length<2)throw n();return h},Tc=(n,t,e,i)=>n.createScriptProcessor(t,e,i),q4=(n,t)=>(e,i)=>{const a=i.channelCountMode;if(a==="clamped-max")throw t();if(e.createStereoPanner===void 0)return n(e,i);const l=e.createStereoPanner();return Ze(l,i),De(l,i,"pan"),Object.defineProperty(l,"channelCountMode",{get:()=>a,set:c=>{if(c!==a)throw t()}}),l},G4=(n,t,e,i,a,l)=>{const h=new Float32Array([1,1]),d=Math.PI/2,f={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...f,oversample:"none"},y=(w,S,x,T)=>{const k=new Float32Array(16385),R=new Float32Array(16385);for(let V=0;V<16385;V+=1){const H=V/16384*d;k[V]=Math.cos(H),R[V]=Math.sin(H)}const U=e(w,{...f,gain:0}),O=i(w,{...m,curve:k}),j=i(w,{...m,curve:h}),z=e(w,{...f,gain:0}),L=i(w,{...m,curve:R});return{connectGraph(){S.connect(U),S.connect(j.inputs===void 0?j:j.inputs[0]),S.connect(z),j.connect(x),x.connect(O.inputs===void 0?O:O.inputs[0]),x.connect(L.inputs===void 0?L:L.inputs[0]),O.connect(U.gain),L.connect(z.gain),U.connect(T,0,0),z.connect(T,0,1)},disconnectGraph(){S.disconnect(U),S.disconnect(j.inputs===void 0?j:j.inputs[0]),S.disconnect(z),j.disconnect(x),x.disconnect(O.inputs===void 0?O:O.inputs[0]),x.disconnect(L.inputs===void 0?L:L.inputs[0]),O.disconnect(U.gain),L.disconnect(z.gain),U.disconnect(T,0,0),z.disconnect(T,0,1)}}},_=(w,S,x,T)=>{const k=new Float32Array(16385),R=new Float32Array(16385),U=new Float32Array(16385),O=new Float32Array(16385),j=Math.floor(16385/2);for(let E=0;E<16385;E+=1)if(E>j){const N=(E-j)/(16384-j)*d;k[E]=Math.cos(N),R[E]=Math.sin(N),U[E]=0,O[E]=1}else{const N=E/(16384-j)*d;k[E]=1,R[E]=0,U[E]=Math.cos(N),O[E]=Math.sin(N)}const z=t(w,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),L=e(w,{...f,gain:0}),V=i(w,{...m,curve:k}),H=e(w,{...f,gain:0}),K=i(w,{...m,curve:R}),Q=i(w,{...m,curve:h}),Z=e(w,{...f,gain:0}),$=i(w,{...m,curve:U}),ut=e(w,{...f,gain:0}),A=i(w,{...m,curve:O});return{connectGraph(){S.connect(z),S.connect(Q.inputs===void 0?Q:Q.inputs[0]),z.connect(L,0),z.connect(H,0),z.connect(Z,1),z.connect(ut,1),Q.connect(x),x.connect(V.inputs===void 0?V:V.inputs[0]),x.connect(K.inputs===void 0?K:K.inputs[0]),x.connect($.inputs===void 0?$:$.inputs[0]),x.connect(A.inputs===void 0?A:A.inputs[0]),V.connect(L.gain),K.connect(H.gain),$.connect(Z.gain),A.connect(ut.gain),L.connect(T,0,0),Z.connect(T,0,0),H.connect(T,0,1),ut.connect(T,0,1)},disconnectGraph(){S.disconnect(z),S.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),z.disconnect(L,0),z.disconnect(H,0),z.disconnect(Z,1),z.disconnect(ut,1),Q.disconnect(x),x.disconnect(V.inputs===void 0?V:V.inputs[0]),x.disconnect(K.inputs===void 0?K:K.inputs[0]),x.disconnect($.inputs===void 0?$:$.inputs[0]),x.disconnect(A.inputs===void 0?A:A.inputs[0]),V.disconnect(L.gain),K.disconnect(H.gain),$.disconnect(Z.gain),A.disconnect(ut.gain),L.disconnect(T,0,0),Z.disconnect(T,0,0),H.disconnect(T,0,1),ut.disconnect(T,0,1)}}},v=(w,S,x,T,k)=>{if(S===1)return y(w,x,T,k);if(S===2)return _(w,x,T,k);throw a()};return(w,{channelCount:S,channelCountMode:x,pan:T,...k})=>{if(x==="max")throw a();const R=n(w,{...k,channelCount:1,channelCountMode:x,numberOfInputs:2}),U=e(w,{...k,channelCount:S,channelCountMode:x,gain:1}),O=e(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:T});let{connectGraph:j,disconnectGraph:z}=v(w,S,U,O,R);Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(O.gain,"maxValue",{get:()=>1}),Object.defineProperty(O.gain,"minValue",{get:()=>-1});const L={get bufferSize(){},get channelCount(){return U.channelCount},set channelCount(Q){U.channelCount!==Q&&(V&&z(),{connectGraph:j,disconnectGraph:z}=v(w,Q,U,O,R),V&&j()),U.channelCount=Q},get channelCountMode(){return U.channelCountMode},set channelCountMode(Q){if(Q==="clamped-max"||Q==="max")throw a();U.channelCountMode=Q},get channelInterpretation(){return U.channelInterpretation},set channelInterpretation(Q){U.channelInterpretation=Q},get context(){return U.context},get inputs(){return[U]},get numberOfInputs(){return U.numberOfInputs},get numberOfOutputs(){return U.numberOfOutputs},get pan(){return O.gain},addEventListener(...Q){return U.addEventListener(Q[0],Q[1],Q[2])},dispatchEvent(...Q){return U.dispatchEvent(Q[0])},removeEventListener(...Q){return U.removeEventListener(Q[0],Q[1],Q[2])}};let V=!1;const H=()=>{j(),V=!0},K=()=>{z(),V=!1};return l(Go(L,R),H,K)}},Y4=(n,t,e,i,a,l,c)=>(h,d)=>{const f=h.createWaveShaper();if(l!==null&&l.name==="webkitAudioContext"&&h.createGain().gain.automationRate===void 0)return e(h,d);Ze(f,d);const m=d.curve===null||d.curve instanceof Float32Array?d.curve:new Float32Array(d.curve);if(m!==null&&m.length<2)throw t();Se(f,{curve:m},"curve"),Se(f,d,"oversample");let y=null,_=!1;return c(f,"curve",S=>()=>S.call(f),S=>x=>(S.call(f,x),_&&(i(x)&&y===null?y=n(h,f):!i(x)&&y!==null&&(y(),y=null)),x)),a(f,()=>{_=!0,i(f.curve)&&(y=n(h,f))},()=>{_=!1,y!==null&&(y(),y=null)})},W4=(n,t,e,i,a)=>(l,{curve:c,oversample:h,...d})=>{const f=l.createWaveShaper(),m=l.createWaveShaper();Ze(f,d),Ze(m,d);const y=e(l,{...d,gain:1}),_=e(l,{...d,gain:-1}),v=e(l,{...d,gain:1}),w=e(l,{...d,gain:-1});let S=null,x=!1,T=null;const k={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(O){y.channelCount=O,_.channelCount=O,f.channelCount=O,v.channelCount=O,m.channelCount=O,w.channelCount=O},get channelCountMode(){return f.channelCountMode},set channelCountMode(O){y.channelCountMode=O,_.channelCountMode=O,f.channelCountMode=O,v.channelCountMode=O,m.channelCountMode=O,w.channelCountMode=O},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(O){y.channelInterpretation=O,_.channelInterpretation=O,f.channelInterpretation=O,v.channelInterpretation=O,m.channelInterpretation=O,w.channelInterpretation=O},get context(){return f.context},get curve(){return T},set curve(O){if(O!==null&&O.length<2)throw t();if(O===null)f.curve=O,m.curve=O;else{const j=O.length,z=new Float32Array(j+2-j%2),L=new Float32Array(j+2-j%2);z[0]=O[0],L[0]=-O[j-1];const V=Math.ceil((j+1)/2),H=(j+1)/2-1;for(let K=1;K<V;K+=1){const Q=K/V*H,Z=Math.floor(Q),$=Math.ceil(Q);z[K]=Z===$?O[Z]:(1-(Q-Z))*O[Z]+(1-($-Q))*O[$],L[K]=Z===$?-O[j-1-Z]:-((1-(Q-Z))*O[j-1-Z])-(1-($-Q))*O[j-1-$]}z[V]=j%2===1?O[V-1]:(O[V-2]+O[V-1])/2,f.curve=z,m.curve=L}T=O,x&&(i(T)&&S===null?S=n(l,y):S!==null&&(S(),S=null))},get inputs(){return[y]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get oversample(){return f.oversample},set oversample(O){f.oversample=O,m.oversample=O},addEventListener(...O){return y.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return y.dispatchEvent(O[0])},removeEventListener(...O){return y.removeEventListener(O[0],O[1],O[2])}};c!==null&&(k.curve=c instanceof Float32Array?c:new Float32Array(c)),h!==k.oversample&&(k.oversample=h);const R=()=>{y.connect(f).connect(v),y.connect(_).connect(m).connect(w).connect(v),x=!0,i(T)&&(S=n(l,y))},U=()=>{y.disconnect(f),f.disconnect(v),y.disconnect(_),_.disconnect(m),m.disconnect(w),w.disconnect(v),x=!1,S!==null&&(S(),S=null)};return a(Go(k,v),R,U)},Mn=()=>new DOMException("","NotSupportedError"),X4={numberOfChannels:1},$4=(n,t,e,i,a)=>class extends n{constructor(c,h,d){let f;if(typeof c=="number"&&h!==void 0&&d!==void 0)f={length:h,numberOfChannels:c,sampleRate:d};else if(typeof c=="object")f=c;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:_}={...X4,...f},v=i(y,m,_);t(ac,()=>ac(v))||v.addEventListener("statechange",(()=>{let w=0;const S=x=>{this._state==="running"&&(w>0?(v.removeEventListener("statechange",S),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):w+=1)};return S})()),super(v,y),this._length=m,this._nativeOfflineAudioContext=v,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(e()):(this._state="running",a(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,ES(this)}))}_waitForThePromiseToSettle(c){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(c):setTimeout(()=>this._waitForThePromiseToSettle(c))}},Z4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Q4=(n,t,e,i,a,l,c)=>class extends n{constructor(d,f){const m=a(d),y={...Z4,...f},_=e(m,y),v=l(m),w=v?i():null,S=d.sampleRate/2;super(d,!1,_,w),this._detune=t(this,v,_.detune,153600,-153600),this._frequency=t(this,v,_.frequency,S,-S),this._nativeOscillatorNode=_,this._onended=null,this._oscillatorNodeRenderer=w,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?c(this,d):null;this._nativeOscillatorNode.onended=f;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===f?d:m}get type(){return this._nativeOscillatorNode.type}set type(d){this._nativeOscillatorNode.type=d,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(d){this._nativeOscillatorNode.setPeriodicWave(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=d)}start(d=0){if(this._nativeOscillatorNode.start(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=d),this.context.state!=="closed"){Mo(this);const f=()=>{this._nativeOscillatorNode.removeEventListener("ended",f),zi(this)&&bc(this)};this._nativeOscillatorNode.addEventListener("ended",f)}}stop(d=0){this._nativeOscillatorNode.stop(d),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=d)}},K4=(n,t,e,i,a)=>()=>{const l=new WeakMap;let c=null,h=null,d=null;const f=async(m,y)=>{let _=e(m);const v=xn(_,y);if(!v){const w={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,detune:_.detune.value,frequency:_.frequency.value,periodicWave:c===null?void 0:c,type:_.type};_=t(y,w),h!==null&&_.start(h),d!==null&&_.stop(d)}return l.set(y,_),v?(await n(y,m.detune,_.detune),await n(y,m.frequency,_.frequency)):(await i(y,m.detune,_.detune),await i(y,m.frequency,_.frequency)),await a(m,y,_),_};return{set periodicWave(m){c=m},set start(m){h=m},set stop(m){d=m},render(m,y){const _=l.get(y);return _!==void 0?Promise.resolve(_):f(m,y)}}},J4={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},tB=(n,t,e,i,a,l,c)=>class extends n{constructor(d,f){const m=a(d),y={...J4,...f},_=e(m,y),v=l(m),w=v?i():null;super(d,!1,_,w),this._nativePannerNode=_,this._orientationX=t(this,v,_.orientationX,Tn,jn),this._orientationY=t(this,v,_.orientationY,Tn,jn),this._orientationZ=t(this,v,_.orientationZ,Tn,jn),this._positionX=t(this,v,_.positionX,Tn,jn),this._positionY=t(this,v,_.positionY,Tn,jn),this._positionZ=t(this,v,_.positionZ,Tn,jn),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(d){this._nativePannerNode.coneInnerAngle=d}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(d){this._nativePannerNode.coneOuterAngle=d}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(d){this._nativePannerNode.coneOuterGain=d}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(d){this._nativePannerNode.distanceModel=d}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(d){this._nativePannerNode.maxDistance=d}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(d){this._nativePannerNode.panningModel=d}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(d){this._nativePannerNode.refDistance=d}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(d){this._nativePannerNode.rolloffFactor=d}},eB=(n,t,e,i,a,l,c,h,d,f)=>()=>{const m=new WeakMap;let y=null;const _=async(v,w)=>{let S=null,x=l(v);const T={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},k={...T,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},R=xn(x,w);if("bufferSize"in x)S=i(w,{...T,gain:1});else if(!R){const U={...k,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=a(w,U)}if(m.set(w,S===null?x:S),S!==null){if(y===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const K=new c(6,v.context.length,w.sampleRate),Q=t(K,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});Q.connect(K.destination),y=(async()=>{const Z=await Promise.all([v.orientationX,v.orientationY,v.orientationZ,v.positionX,v.positionY,v.positionZ].map(async($,ut)=>{const A=e(K,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ut===0?1:0});return await h(K,$,A.offset),A}));for(let $=0;$<6;$+=1)Z[$].connect(Q,0,$),Z[$].start(0);return f(K)})()}const U=await y,O=i(w,{...T,gain:1});await d(v,w,O);const j=[];for(let K=0;K<U.numberOfChannels;K+=1)j.push(U.getChannelData(K));let z=[j[0][0],j[1][0],j[2][0]],L=[j[3][0],j[4][0],j[5][0]],V=i(w,{...T,gain:1}),H=a(w,{...k,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:L[0],positionY:L[1],positionZ:L[2]});O.connect(V).connect(H.inputs[0]),H.connect(S);for(let K=128;K<U.length;K+=128){const Q=[j[0][K],j[1][K],j[2][K]],Z=[j[3][K],j[4][K],j[5][K]];if(Q.some(($,ut)=>$!==z[ut])||Z.some(($,ut)=>$!==L[ut])){z=Q,L=Z;const $=K/w.sampleRate;V.gain.setValueAtTime(0,$),V=i(w,{...T,gain:0}),H=a(w,{...k,orientationX:z[0],orientationY:z[1],orientationZ:z[2],positionX:L[0],positionY:L[1],positionZ:L[2]}),V.gain.setValueAtTime(1,$),O.connect(V).connect(H.inputs[0]),H.connect(S)}}return S}return R?(await n(w,v.orientationX,x.orientationX),await n(w,v.orientationY,x.orientationY),await n(w,v.orientationZ,x.orientationZ),await n(w,v.positionX,x.positionX),await n(w,v.positionY,x.positionY),await n(w,v.positionZ,x.positionZ)):(await h(w,v.orientationX,x.orientationX),await h(w,v.orientationY,x.orientationY),await h(w,v.orientationZ,x.orientationZ),await h(w,v.positionX,x.positionX),await h(w,v.positionY,x.positionY),await h(w,v.positionZ,x.positionZ)),qo(x)?await d(v,w,x.inputs[0]):await d(v,w,x),x};return{render(v,w){const S=m.get(w);return S!==void 0?Promise.resolve(S):_(v,w)}}},nB={disableNormalization:!1},sB=(n,t,e,i)=>class LS{constructor(l,c){const h=t(l),d=i({...nB,...c}),f=n(h,d);return e.add(f),f}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===LS.prototype||e.has(l)}},iB=(n,t)=>(e,i,a)=>(n(i).replay(a),t(i,e,a)),rB=(n,t,e)=>async(i,a,l)=>{const c=n(i);await Promise.all(c.activeInputs.map((h,d)=>Array.from(h).map(async([f,m])=>{const _=await t(f).render(f,a),v=i.context.destination;!e(f)&&(i!==v||!e(i))&&_.connect(l,m,d)})).reduce((h,d)=>[...h,...d],[]))},aB=(n,t,e)=>async(i,a,l)=>{const c=t(i);await Promise.all(Array.from(c.activeInputs).map(async([h,d])=>{const m=await n(h).render(h,a);e(h)||m.connect(l,d)}))},oB=(n,t,e,i)=>a=>n(ac,()=>ac(a))?Promise.resolve(n(i,i)).then(l=>{if(!l){const c=e(a,512,0,1);a.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>a.currentTime,c.connect(a.destination)}return a.startRendering()}):new Promise(l=>{const c=t(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});a.oncomplete=h=>{c.disconnect(),l(h.renderedBuffer)},c.connect(a.destination),a.startRendering()}),lB=n=>(t,e)=>{n.set(t,e)},cB=n=>(t,e)=>n.set(t,e),uB=(n,t,e,i,a,l,c,h)=>(d,f)=>e(d).render(d,f).then(()=>Promise.all(Array.from(i(f)).map(m=>e(m).render(m,f)))).then(()=>a(f)).then(m=>(typeof m.copyFromChannel!="function"?(c(m),Og(m)):t(l,()=>l(m))||h(m),n.add(m),m)),hB={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},dB=(n,t,e,i,a,l)=>class extends n{constructor(h,d){const f=a(h),m={...hB,...d},y=e(f,m),_=l(f),v=_?i():null;super(h,!1,y,v),this._pan=t(this,_,y.pan)}get pan(){return this._pan}},fB=(n,t,e,i,a)=>()=>{const l=new WeakMap,c=async(h,d)=>{let f=e(h);const m=xn(f,d);if(!m){const y={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,pan:f.pan.value};f=t(d,y)}return l.set(d,f),m?await n(d,h.pan,f.pan):await i(d,h.pan,f.pan),qo(f)?await a(h,d,f.inputs[0]):await a(h,d,f),f};return{render(h,d){const f=l.get(d);return f!==void 0?Promise.resolve(f):c(h,d)}}},pB=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},mB=(n,t)=>async()=>{if(n===null)return!0;if(t===null)return!1;const e=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new t(1,128,44100),a=URL.createObjectURL(e);let l=!1,c=!1;try{await i.audioWorklet.addModule(a);const h=new n(i,"a",{numberOfOutputs:0}),d=i.createOscillator();h.port.onmessage=()=>l=!0,h.onprocessorerror=()=>c=!0,d.connect(h),d.start(0),await i.startRendering(),await new Promise(f=>setTimeout(f))}catch{}finally{URL.revokeObjectURL(a)}return l&&!c},gB=(n,t)=>()=>{if(t===null)return Promise.resolve(!1);const e=new t(1,1,44100),i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(a=>{e.oncomplete=()=>{i.disconnect(),a(e.currentTime!==0)},e.startRendering()})},yB=()=>new DOMException("","UnknownError"),_B={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},vB=(n,t,e,i,a,l,c)=>class extends n{constructor(d,f){const m=a(d),y={..._B,...f},_=e(m,y),w=l(m)?i():null;super(d,!0,_,w),this._isCurveNullified=!1,this._nativeWaveShaperNode=_,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(d){if(d===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(d.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=d}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(d){this._nativeWaveShaperNode.oversample=d}},wB=(n,t,e)=>()=>{const i=new WeakMap,a=async(l,c)=>{let h=t(l);if(!xn(h,c)){const f={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,curve:h.curve,oversample:h.oversample};h=n(c,f)}return i.set(c,h),qo(h)?await e(l,c,h.inputs[0]):await e(l,c,h),h};return{render(l,c){const h=i.get(c);return h!==void 0?Promise.resolve(h):a(l,c)}}},bB=()=>typeof window>"u"?null:window,xB=(n,t)=>e=>{e.copyFromChannel=(i,a,l=0)=>{const c=n(l),h=n(a);if(h>=e.numberOfChannels)throw t();const d=e.length,f=e.getChannelData(h),m=i.length;for(let y=c<0?-c:0;y+c<d&&y<m;y+=1)i[y]=f[y+c]},e.copyToChannel=(i,a,l=0)=>{const c=n(l),h=n(a);if(h>=e.numberOfChannels)throw t();const d=e.length,f=e.getChannelData(h),m=i.length;for(let y=c<0?-c:0;y+c<d&&y<m;y+=1)f[y+c]=i[y]}},SB=n=>t=>{t.copyFromChannel=(e=>(i,a,l=0)=>{const c=n(l),h=n(a);if(c<t.length)return e.call(t,i,h,c)})(t.copyFromChannel),t.copyToChannel=(e=>(i,a,l=0)=>{const c=n(l),h=n(a);if(c<t.length)return e.call(t,i,h,c)})(t.copyToChannel)},AB=n=>(t,e)=>{const i=e.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=i),n(t,"buffer",a=>()=>{const l=a.call(t);return l===i?null:l},a=>l=>a.call(t,l===null?i:l))},TB=(n,t)=>(e,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const a=e.createBufferSource();t(i,()=>{const h=i.numberOfInputs;for(let d=0;d<h;d+=1)a.connect(i,0,d)},()=>a.disconnect(i))},PS=(n,t,e)=>n.copyFromChannel===void 0?n.getChannelData(e)[0]:(n.copyFromChannel(t,e),t[0]),jS=n=>{if(n===null)return!1;const t=n.length;return t%2!==0?n[Math.floor(t/2)]!==0:n[t/2-1]+n[t/2]!==0},Cc=(n,t,e,i)=>{let a=n;for(;!a.hasOwnProperty(t);)a=Object.getPrototypeOf(a);const{get:l,set:c}=Object.getOwnPropertyDescriptor(a,t);Object.defineProperty(n,t,{get:e(l),set:i(c)})},CB=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),EB=n=>({...n,channelCount:n.numberOfOutputs}),MB=n=>{const{imag:t,real:e}=n;return t===void 0?e===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(e,()=>0),real:e}:e===void 0?{...n,imag:t,real:Array.from(t,()=>0)}:{...n,imag:t,real:e}},US=(n,t,e)=>{try{n.setValueAtTime(t,e)}catch(i){if(i.code!==9)throw i;US(n,t,e+1e-7)}},kB=n=>{const t=n.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},NB=n=>{const t=n.createBufferSource(),e=n.createBuffer(1,1,44100);t.buffer=e;try{t.start(0,1)}catch{return!1}return!0},RB=n=>{const t=n.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Pg=n=>{const t=n.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},FS=n=>{const t=n.createBuffer(1,1,44100),e=n.createBufferSource();e.buffer=t,e.start(),e.stop();try{return e.stop(),!0}catch{return!1}},jg=n=>{const t=n.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},DB=n=>{const{port1:t,port2:e}=new MessageChannel;try{t.postMessage(n)}finally{t.close(),e.close()}},OB=n=>{n.start=(t=>(e=0,i=0,a)=>{const l=n.buffer,c=l===null?i:Math.min(l.duration,i);l!==null&&c>l.duration-.5/n.context.sampleRate?t.call(n,e,0,0):t.call(n,e,c,a)})(n.start)},VS=(n,t)=>{const e=t.createGain();n.connect(e);const i=(a=>()=>{a.call(n,e),n.removeEventListener("ended",i)})(n.disconnect);n.addEventListener("ended",i),Go(n,e),n.stop=(a=>{let l=!1;return(c=0)=>{if(l)try{a.call(n,c)}catch{e.gain.setValueAtTime(0,c)}else a.call(n,c),l=!0}})(n.stop)},Yo=(n,t)=>e=>{const i={value:n};return Object.defineProperties(e,{currentTarget:i,target:i}),typeof t=="function"?t.call(n,e):t.handleEvent.call(n,e)},BB=tO(ga),IB=aO(ga),zB=_5(Jh),HS=new WeakMap,LB=z5(HS),Ps=XO(new Map,new WeakMap),ei=bB(),qS=d4(Ps,ii),Ug=I5(En),gn=rB(En,Ug,oa),PB=hO(qS,we,gn),pe=j5(Kh),Fi=j4(ei),ce=n4(Fi),GS=new WeakMap,YS=M5(Yo),Ec=g4(ei),Fg=K5(Ec),Vg=J5(ei),WS=t4(ei),oc=_4(ei),je=zO(eO(wS),rO(BB,IB,Oh,zB,Bh,En,LB,wc,we,ga,zi,oa,mh),Ps,W5(Bm,Bh,En,we,rc,zi),ii,td,Mn,p5(Oh,Bm,En,we,rc,pe,zi,ce),b5(GS,En,zs),YS,pe,Fg,Vg,WS,ce,oc),jB=uO(je,PB,ii,qS,pe,ce),Hg=new WeakSet,qb=f4(ei),XS=o5(new Uint32Array(1)),qg=xB(XS,ii),Gg=SB(XS),$S=fO(Hg,Ps,Mn,qb,Fi,pB(qb),qg,Gg),ed=oO(Hn),ZS=aB(Ug,xc,oa),ri=e5(ZS),Wo=m4(ed,Ps,kB,NB,RB,Pg,FS,jg,OB,AB(Cc),VS),ai=iB(L5(xc),ZS),UB=gO(ri,Wo,we,ai,gn),js=LO(nO(bS),GS,Dg,PO,XD,$D,ZD,QD,KD,Rm,_S,Ec,US),FB=mO(je,UB,js,nn,Wo,pe,ce,Yo),VB=TO(je,CO,ii,nn,y4(Hn,Cc),pe,ce,gn),HB=WO(ri,IS,we,ai,gn),ya=cB(HS),qB=YO(je,js,HB,td,IS,pe,ce,ya),Er=u4(ga,Vg),GB=TB(nn,Er),Mr=T4(Ec,GB),YB=QO(Mr,we,gn),WB=ZO(je,YB,Mr,pe,ce),XB=t5(Ac,we,gn),$B=JO(je,XB,Ac,pe,ce,EB),ZB=M4(ed,Wo,Hn,Er),Xo=E4(ed,Ps,ZB,Pg,jg),QB=a5(ri,Xo,we,ai,gn),KB=r5(je,js,QB,Xo,pe,ce,Yo),QS=k4(Mn,Cc),JB=u5(QS,we,gn),t6=c5(je,JB,QS,pe,ce,ya),e6=y5(ri,zS,we,ai,gn),n6=g5(je,js,e6,zS,pe,ce,ya),KS=N4(Mn),s6=T5(ri,KS,we,ai,gn),i6=A5(je,js,s6,KS,Mn,pe,ce,ya),r6=O5(ri,Hn,we,ai,gn),a6=D5(je,js,r6,Hn,pe,ce),o6=B4(td,nn,Tc,Mn),nd=oB(Ps,Hn,Tc,gB(Hn,Fi)),l6=Y5(Wo,we,Fi,gn,nd),c6=R4(o6),u6=q5(je,c6,l6,pe,ce,ya),h6=EO(js,Mr,Xo,Tc,Mn,PS,ce,Cc),JS=new WeakMap,d6=c4(VB,h6,YS,ce,JS,Yo),t2=U4(ed,Ps,Pg,FS,jg,VS),f6=K4(ri,t2,we,ai,gn),p6=Q4(je,js,t2,f6,pe,ce,Yo),e2=s5(Wo),m6=W4(e2,nn,Hn,jS,Er),sd=Y4(e2,nn,m6,jS,Er,Ec,Cc),g6=V4(Oh,nn,Mr,Hn,Tc,sd,Mn,Bh,PS,Er),n2=F4(g6),y6=eB(ri,Mr,Xo,Hn,n2,we,Fi,ai,gn,nd),_6=tB(je,js,n2,y6,pe,ce,ya),v6=H4(ii),w6=sB(v6,pe,new WeakSet,MB),b6=G4(Mr,Ac,Hn,sd,Mn,Er),s2=q4(b6,Mn),x6=fB(ri,s2,we,ai,gn),S6=dB(je,js,s2,x6,pe,ce),A6=wB(sd,we,gn),T6=vB(je,nn,sd,A6,pe,ce,ya),i2=s4(ei),Yg=k5(ei),r2=new WeakMap,C6=U5(r2,Fi),E6=i2?iO(Ps,Mn,E5(ei),Yg,N5(JD),pe,C6,ce,oc,new WeakMap,new WeakMap,mB(oc,Fi),ei):void 0,M6=e4(Fg,ce),k6=f5(Hg,Ps,d5,C5,new WeakSet,pe,M6,Rh,ac,qg,Gg),a2=qO(E6,jB,$S,FB,qB,WB,$B,KB,t6,k6,n6,i6,a6,u6,d6,p6,_6,w6,S6,T6),N6=i4(je,I4,pe,ce),R6=a4(je,z4,pe,ce),D6=o4(je,L4,pe,ce),O6=P4(nn,ce),B6=l4(je,O6,pe),I6=AO(a2,nn,Mn,yB,N6,R6,D6,B6,Ec),Wg=F5(JS),z6=lO(Wg),o2=n5(ii),L6=v5(Wg),l2=x5(ii),c2=new WeakMap,P6=B5(c2,zs),j6=A4(o2,ii,nn,Mr,Ac,Xo,Hn,Tc,Mn,l2,Yg,P6,Er),U6=w4(nn,j6,Hn,Mn,Er),F6=HO(ri,o2,Wo,Mr,Ac,Xo,Hn,L6,l2,Yg,we,oc,Fi,ai,gn,nd),V6=P5(r2),H6=lB(c2),Gb=i2?UO(z6,je,js,F6,U6,En,V6,pe,ce,oc,CB,H6,DB,Yo):void 0,q6=h5(Mn,Fi),G6=uB(Hg,Ps,Ug,Wg,nd,Rh,qg,Gg),Y6=$4(a2,Ps,nn,q6,G6),W6=X5(Kh,Fg),X6=$5(Rg,Vg),$6=Z5(Dg,WS),Z6=Q5(Kh,ce);function Ss(n){return n===void 0}function Vt(n){return n!==void 0}function Q6(n){return typeof n=="function"}function la(n){return typeof n=="number"}function ia(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function K6(n){return typeof n=="boolean"}function Is(n){return Array.isArray(n)}function Pi(n){return typeof n=="string"}function uh(n){return Pi(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function zt(n,t){if(!n)throw new Error(t)}function Ar(n,t,e=1/0){if(!(t<=n&&n<=e))throw new RangeError(`Value must be within [${t}, ${e}], got: ${n}`)}function u2(n){!n.isOffline&&n.state!=="running"&&Xg('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let h2=!1,Yb=!1;function Wb(n){h2=n}function J6(n){Ss(n)&&h2&&!Yb&&(Yb=!0,Xg("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let d2=console;function tI(...n){d2.log(...n)}function Xg(...n){d2.warn(...n)}function eI(n){return new I6(n)}function nI(n,t,e){return new Y6(n,t,e)}const es=typeof self=="object"?self:null,sI=es&&(es.hasOwnProperty("AudioContext")||es.hasOwnProperty("webkitAudioContext"));function iI(n,t,e){return zt(Vt(Gb),"AudioWorkletNode only works in a secure context (https or localhost)"),new(n instanceof es?.BaseAudioContext?es?.AudioWorkletNode:Gb)(n,t,e)}function Us(n,t,e,i){var a=arguments.length,l=a<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,t,e,i);else for(var h=n.length-1;h>=0;h--)(c=n[h])&&(l=(a<3?c(l):a>3?c(t,e,l):c(t,e))||l);return a>3&&l&&Object.defineProperty(t,e,l),l}function We(n,t,e,i){function a(l){return l instanceof e?l:new e(function(c){c(l)})}return new(e||(e=Promise))(function(l,c){function h(m){try{f(i.next(m))}catch(y){c(y)}}function d(m){try{f(i.throw(m))}catch(y){c(y)}}function f(m){m.done?l(m.value):a(m.value).then(h,d)}f((i=i.apply(n,t||[])).next())})}class rI{constructor(t,e,i,a){this._callback=t,this._type=e,this._minimumUpdateInterval=Math.max(128/(a||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),e=URL.createObjectURL(t),i=new Worker(e);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){var e;this._updateInterval=Math.max(t,this._minimumUpdateInterval),this._type==="worker"&&((e=this._worker)===null||e===void 0||e.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function ca(n){return $6(n)}function xr(n){return X6(n)}function gh(n){return Z6(n)}function oo(n){return W6(n)}function aI(n){return n instanceof $S}function oI(n,t){return n==="value"||ca(t)||xr(t)||aI(t)}function yo(n,...t){if(!t.length)return n;const e=t.shift();if(ia(n)&&ia(e))for(const i in e)oI(i,e[i])?n[i]=e[i]:ia(e[i])?(n[i]||Object.assign(n,{[i]:{}}),yo(n[i],e[i])):Object.assign(n,{[i]:e[i]});return yo(n,...t)}function lI(n,t){return n.length===t.length&&n.every((e,i)=>t[i]===e)}function Bt(n,t,e=[],i){const a={},l=Array.from(t);if(ia(l[0])&&i&&!Reflect.has(l[0],i)&&(Object.keys(l[0]).some(h=>Reflect.has(n,h))||(yo(a,{[i]:l[0]}),e.splice(e.indexOf(i),1),l.shift())),l.length===1&&ia(l[0]))yo(a,l[0]);else for(let c=0;c<e.length;c++)Vt(l[c])&&(a[e[c]]=l[c]);return yo(n,a)}function cI(n){return n.constructor.getDefaults()}function _o(n,t){return Ss(n)?t:n}function Xb(n,t){return t.forEach(e=>{Reflect.has(n,e)&&delete n[e]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Vi{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||es&&this.toString()===es.TONE_DEBUG_CLASS)&&tI(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Vi.version=yS;const $g=1e-6;function ko(n,t){return n>t+$g}function jm(n,t){return ko(n,t)||Rs(n,t)}function Ph(n,t){return n+$g<t}function Rs(n,t){return Math.abs(n-t)<$g}function uI(n,t,e){return Math.max(Math.min(n,e),t)}class As extends Vi{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Bt(As.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(zt(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];zt(jm(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(t){const e=this._timeline.indexOf(t);return e!==-1&&this._timeline.splice(e,1),this}get(t,e="time"){const i=this._search(t,e);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const i=this._search(t,e);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const i=this._search(t);return i-1>=0?this._timeline[i-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Rs(this._timeline[e].time,t)){for(let i=e;i>=0&&Rs(this._timeline[i].time,t);i--)e=i;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else this._timeline.length===1&&jm(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(this._timeline.length===0)return-1;let i=0;const a=this._timeline.length;let l=a;if(a>0&&this._timeline[a-1][e]<=t)return a-1;for(;i<l;){let c=Math.floor(i+(l-i)/2);const h=this._timeline[c],d=this._timeline[c+1];if(Rs(h[e],t)){for(let f=c;f<this._timeline.length;f++){const m=this._timeline[f];if(Rs(m[e],t))c=f;else break}return c}else{if(Ph(h[e],t)&&ko(d[e],t))return c;ko(h[e],t)?l=c:i=c+1}}return-1}_iterate(t,e=0,i=this._timeline.length-1){this._timeline.slice(e,i+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const i=this._search(t);return i!==-1&&this._iterate(e,0,i),this}forEachAfter(t,e){const i=this._search(t);return this._iterate(e,i+1),this}forEachBetween(t,e,i){let a=this._search(t),l=this._search(e);return a!==-1&&l!==-1?(this._timeline[a].time!==t&&(a+=1),this._timeline[l].time===e&&(l-=1),this._iterate(i,a,l)):a===-1&&this._iterate(i,0,l),this}forEachFrom(t,e){let i=this._search(t);for(;i>=0&&this._timeline[i].time>=t;)i--;return this._iterate(e,i+1),this}forEachAtTime(t,e){const i=this._search(t);if(i!==-1&&Rs(this._timeline[i].time,t)){let a=i;for(let l=i;l>=0&&Rs(this._timeline[l].time,t);l--)a=l;this._iterate(l=>{e(l)},a,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const f2=[];function id(n){f2.push(n)}function hI(n){f2.forEach(t=>t(n))}const p2=[];function rd(n){p2.push(n)}function dI(n){p2.forEach(t=>t(n))}class Mc extends Vi{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach(a=>{Ss(this._events)&&(this._events={}),this._events.hasOwnProperty(a)||(this._events[a]=[]),this._events[a].push(e)}),this}once(t,e){const i=(...a)=>{e(...a),this.off(t,i)};return this.on(t,i),this}off(t,e){return t.split(/\W+/).forEach(a=>{if(Ss(this._events)&&(this._events={}),this._events.hasOwnProperty(a))if(Ss(e))this._events[a]=[];else{const l=this._events[a];for(let c=l.length-1;c>=0;c--)l[c]===e&&l.splice(c,1)}}),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const i=this._events[t].slice(0);for(let a=0,l=i.length;a<l;a++)i[a].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach(e=>{const i=Object.getOwnPropertyDescriptor(Mc.prototype,e);Object.defineProperty(t.prototype,e,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class m2 extends Mc{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class kc extends m2{constructor(){var t,e;super(),this.name="Context",this._constants=new Map,this._timeouts=new As,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Bt(kc.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((t=arguments[0])===null||t===void 0?void 0:t.latencyHint)||""):(this._context=eI({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new rI(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((e=arguments[0])===null||e===void 0)&&e.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(hI(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,i){return this._context.createBuffer(t,e,i)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,i){return this._context.createPeriodicWave(t,e,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return zt(oo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return zt(oo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return zt(oo(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){zt(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){zt(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){zt(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){zt(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return iI(this.rawContext,t,e)}addAudioWorkletModule(t){return We(this,void 0,void 0,function*(){zt(Vt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(t)),yield this._workletPromise})}workletsAreReady(){return We(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get lookAhead(){return this._lookAhead}set lookAhead(t){this._lookAhead=t,this.updateInterval=t?t/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return oo(this._context)?this._context.resume():Promise.resolve()}close(){return We(this,void 0,void 0,function*(){oo(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&dI(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),i=e.getChannelData(0);for(let l=0;l<i.length;l++)i[l]=t;const a=this._context.createBufferSource();return a.channelCount=1,a.channelCountMode="explicit",a.buffer=e,a.loop=!0,a.start(0),this._constants.set(t,a),a}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this.close(),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:i+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(e=>{e.id===t&&this._timeouts.remove(e)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const i=++this._timeoutIds,a=()=>{const l=this.now();this._timeouts.add({callback:()=>{t(),a()},id:i,time:l+e})};return a(),i}}class fI extends m2{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,i){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t){return We(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Oe(n,t){Is(t)?t.forEach(e=>Oe(n,e)):Object.defineProperty(n,t,{enumerable:!0,writable:!1})}function g2(n,t){Is(t)?t.forEach(e=>g2(n,e)):Object.defineProperty(n,t,{writable:!0})}const oe=()=>{};class _e extends Vi{constructor(){super(),this.name="ToneAudioBuffer",this.onload=oe;const t=Bt(_e.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,Pi(t.url)?this.load(t.url).catch(t.onerror):t.url&&this.set(t.url)}static getDefaults(){return{onerror:oe,onload:oe,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ws().sampleRate}set(t){return t instanceof _e?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return We(this,void 0,void 0,function*(){const e=_e.load(t).then(i=>{this.set(i),this.onload(this)});_e.downloads.push(e);try{yield e}finally{const i=_e.downloads.indexOf(e);_e.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Is(t)&&t[0].length>0,i=e?t.length:1,a=e?t[0].length:t.length,l=ws(),c=l.createBuffer(i,a,l.sampleRate),h=!e&&i===1?[t]:t;for(let d=0;d<i;d++)c.copyToChannel(h[d],d);return this._buffer=c,this}toMono(t){if(la(t))this.fromArray(this.toArray(t));else{let e=new Float32Array(this.length);const i=this.numberOfChannels;for(let a=0;a<i;a++){const l=this.toArray(a);for(let c=0;c<l.length;c++)e[c]+=l[c]}e=e.map(a=>a/i),this.fromArray(e)}return this}toArray(t){if(la(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const e=[];for(let i=0;i<this.numberOfChannels;i++)e[i]=this.getChannelData(i);return e}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){zt(this.loaded,"Buffer is not loaded");const i=Math.floor(t*this.sampleRate),a=Math.floor(e*this.sampleRate);zt(i<a,"The start time must be less than the end time");const l=a-i,c=ws().createBuffer(this.numberOfChannels,l,this.sampleRate);for(let h=0;h<this.numberOfChannels;h++)c.copyToChannel(this.getChannelData(h).subarray(i,a),h);return new _e(c)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new _e().fromArray(t)}static fromUrl(t){return We(this,void 0,void 0,function*(){return yield new _e().load(t)})}static load(t){return We(this,void 0,void 0,function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const d=e[1].split("|");let f=d[0];for(const m of d)if(_e.supportsType(m)){f=m;break}t=t.replace(e[0],f)}const i=_e.baseUrl===""||_e.baseUrl.endsWith("/")?_e.baseUrl:_e.baseUrl+"/",a=document.createElement("a");a.href=i+t,a.pathname=(a.pathname+a.hash).split("/").map(encodeURIComponent).join("/");const l=yield fetch(a.href);if(!l.ok)throw new Error(`could not load url: ${t}`);const c=yield l.arrayBuffer();return yield ws().decodeAudioData(c)})}static supportsType(t){const e=t.split("."),i=e[e.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return We(this,void 0,void 0,function*(){for(yield Promise.resolve();_e.downloads.length;)yield _e.downloads[0]})}}_e.baseUrl="";_e.downloads=[];class Zg extends kc{constructor(){super({clockSource:"offline",context:gh(arguments[0])?arguments[0]:nI(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:gh(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=gh(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return We(this,void 0,void 0,function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const i=Math.floor(this.sampleRate/128);t&&e%i===0&&(yield new Promise(a=>setTimeout(a,1)))}})}render(){return We(this,arguments,void 0,function*(t=!0){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new _e(e)})}close(){return Promise.resolve()}}const y2=new fI;let co=y2;function ws(){return co===y2&&sI&&pI(new kc),co}function pI(n,t=!1){t&&co.dispose(),oo(n)?co=new kc(n):gh(n)?co=new Zg(n):co=n}if(es&&!es.TONE_SILENCE_LOGGING){const t=` * Tone.js v${yS} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function mI(n){return Math.pow(10,n/20)}function gI(n){return 20*(Math.log(n)/Math.LN10)}function _2(n){return Math.pow(2,n/12)}let ad=440;function yI(){return ad}function _I(n){ad=n}function Um(n){return Math.round(v2(n))}function v2(n){return 69+12*Math.log2(n/ad)}function vI(n){return ad*Math.pow(2,(n-69)/12)}class Qg extends Vi{constructor(t,e,i){super(),this.defaultUnits="s",this._val=e,this._units=i,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const i=parseInt(t,10),a=e==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*a:this._beatsToUnits(4/i)*a},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(e)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,e,i)=>{let a=0;return t&&t!=="0"&&(a+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(a+=this._beatsToUnits(parseFloat(e))),i&&i!=="0"&&(a+=this._beatsToUnits(parseFloat(i)/4)),a},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Qg&&this.fromType(this._val),Ss(this._val))return this._noArg();if(Pi(this._val)&&Ss(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(ia(this._val)){let t=0;for(const e in this._val)if(Vt(this._val[e])){const i=this._val[e],a=new this.constructor(this.context,e).valueOf()*i;t+=a}return t}if(Vt(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}else return Pi(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Bs extends Qg{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Bs(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const i=new this.constructor(this.context,t).valueOf(),a=this.valueOf(),h=Math.round(a/i)*i-a;return a+h*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let l=1;l<9;l++){const c=Math.pow(2,l);e.push(c+"n."),e.push(c+"n"),e.push(c+"t")}e.push("0");let i=e[0],a=new Bs(this.context,e[0]).toSeconds();return e.forEach(l=>{const c=new Bs(this.context,l).toSeconds();Math.abs(c-t)<Math.abs(a-t)&&(i=l,a=c)}),i}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const i=Math.floor(e/this._getTimeSignature());let a=e%1*4;e=Math.floor(e)%this._getTimeSignature();const l=a.toString();return l.length>3&&(a=parseFloat(parseFloat(l).toFixed(3))),[i,e,a].join(":")}toTicks(){const t=this._beatsToUnits(1);return this.valueOf()/t*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Um(this.toFrequency())}_now(){return this.context.now()}}class bs extends Bs{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return yI()}static set A4(t){_I(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:bs.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(t,e){const a=wI[t.toLowerCase()]+(parseInt(e,10)+1)*12;return this.defaultUnits==="midi"?a:bs.mtof(a)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,i){let a=1;return t&&t!=="0"&&(a*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&e!=="0"&&(a*=this._beatsToUnits(parseFloat(e))),i&&i!=="0"&&(a*=this._beatsToUnits(parseFloat(i)/4)),a}}})}transpose(t){return new bs(this.context,this.valueOf()*_2(t))}harmonize(t){return t.map(e=>this.transpose(e))}toMidi(){return Um(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/bs.A4);let i=Math.round(12*e)+57;const a=Math.floor(i/12);return a<0&&(i+=-12*a),bI[i%12]+a.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return vI(t)}static ftom(t){return Um(t)}}const wI={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},bI=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ec extends Bs{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Vn extends Vi{constructor(){super();const t=Bt(Vn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ws()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return J6(t),new Bs(this.context,t).toSeconds()}toFrequency(t){return new bs(this.context,t).toFrequency()}toTicks(t){return new ec(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach(i=>{Ss(t[i])&&delete e[i]}),e}get(){const t=cI(this);return Object.keys(t).forEach(e=>{if(Reflect.has(this,e)){const i=this[e];Vt(i)&&Vt(i.value)&&Vt(i.setValueAtTime)?t[e]=i.value:i instanceof Vn?t[e]=i._getPartialProperties(t[e]):Is(i)||la(i)||Pi(i)||K6(i)?t[e]=i:delete t[e]}}),t}set(t){return Object.keys(t).forEach(e=>{Reflect.has(this,e)&&Vt(this[e])&&(this[e]&&Vt(this[e].value)&&Vt(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Vn?this[e].set(t[e]):this[e]=t[e])}),this}}class Kg extends As{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return e!==null?e.state:this._initial}setStateAtTime(t,e,i){return Ar(e,0),this.add(Object.assign({},i,{state:t,time:e})),this}getLastState(t,e){const i=this._search(e);for(let a=i;a>=0;a--){const l=this._timeline[a];if(l.state===t)return l}}getNextState(t,e){const i=this._search(e);if(i!==-1)for(let a=i;a<this._timeline.length;a++){const l=this._timeline[a];if(l.state===t)return l}}}class Ce extends Vn{constructor(){const t=Bt(Ce.getDefaults(),arguments,["param","units","convert"]);for(super(t),this.name="Param",this.overridden=!1,this._minOutput=1e-7,zt(Vt(t.param)&&(ca(t.param)||t.param instanceof Ce),"param must be an AudioParam");!ca(t.param);)t.param=t.param._param;this._swappable=Vt(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new As(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,Vt(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Vn.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return Vt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Vt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return Vt(this.maxValue)&&Vt(this.minValue)&&Ar(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?mI(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?gI(t):t}setValueAtTime(t,e){const i=this.toSeconds(e),a=this._fromType(t);return zt(isFinite(a)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(a),this.log(this.units,"setValueAtTime",t,i),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),i=this._events.getAfter(e),a=this._events.get(e);let l=this._initialValue;if(a===null)l=this._initialValue;else if(a.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const c=this._events.getBefore(a.time);let h;c===null?h=this._initialValue:h=c.value,a.type==="setTargetAtTime"&&(l=this._exponentialApproach(a.time,h,a.value,a.constant,e))}else if(i===null)l=a.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let c=a.value;if(a.type==="setTargetAtTime"){const h=this._events.getBefore(a.time);h===null?c=this._initialValue:c=h.value}i.type==="linearRampToValueAtTime"?l=this._linearInterpolate(a.time,c,i.time,i.value,e):l=this._exponentialInterpolate(a.time,c,i.time,i.value,e)}else l=a.value;return this._toType(l)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(e)===0&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const i=this._fromType(t),a=this.toSeconds(e);return zt(isFinite(i)&&isFinite(a),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(i),this._events.add({time:a,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",t,a),this._param.linearRampToValueAtTime(i,a),this}exponentialRampToValueAtTime(t,e){let i=this._fromType(t);i=Rs(i,0)?this._minOutput:i,this._assertRange(i);const a=this.toSeconds(e);return zt(isFinite(i)&&isFinite(a),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:a,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",t,a),this._param.exponentialRampToValueAtTime(i,a),this}exponentialRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(t,i+this.toSeconds(e)),this}linearRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(t,i+this.toSeconds(e)),this}targetRampTo(t,e,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(t,i,e),this}exponentialApproachValueAtTime(t,e,i){e=this.toSeconds(e),i=this.toSeconds(i);const a=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(t,e,a),this.cancelAndHoldAtTime(e+i*.9),this.linearRampToValueAtTime(t,e+i),this}setTargetAtTime(t,e,i){const a=this._fromType(t);zt(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const l=this.toSeconds(e);return this._assertRange(a),zt(isFinite(a)&&isFinite(l),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:i,time:l,type:"setTargetAtTime",value:a}),this.log(this.units,"setTargetAtTime",t,l,i),this._param.setTargetAtTime(a,l,i),this}setValueCurveAtTime(t,e,i,a=1){i=this.toSeconds(i),e=this.toSeconds(e);const l=this._fromType(t[0])*a;this.setValueAtTime(this._toType(l),e);const c=i/(t.length-1);for(let h=1;h<t.length;h++){const d=this._fromType(t[h])*a;this.linearRampToValueAtTime(this._toType(d),e+h*c)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return zt(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),i=this._fromType(this.getValueAtTime(e));zt(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+i);const a=this._events.get(e),l=this._events.getAfter(e);return a&&Rs(a.time,e)?l?(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):l&&(this._param.cancelScheduledValues(l.time),this._events.cancel(l.time),l.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),e):l.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),e)),this._events.add({time:e,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,e),this}rampTo(t,e=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,e,i):this.linearRampTo(t,e,i),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const i=this._events.get(e);if(i&&i.type==="setTargetAtTime"){const a=this._events.getAfter(i.time),l=a?a.time:e+2,c=(l-e)/10;for(let h=e;h<l;h+=c)t.linearRampToValueAtTime(this.getValueAtTime(h),h)}return this._events.forEachAfter(this.context.currentTime,a=>{a.type==="cancelScheduledValues"?t.cancelScheduledValues(a.time):a.type==="setTargetAtTime"?t.setTargetAtTime(a.value,a.time,a.constant):t[a.type](a.value,a.time)}),this}setParam(t){zt(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,i,a,l){return i+(e-i)*Math.exp(-(l-t)/a)}_linearInterpolate(t,e,i,a,l){return e+(a-e)*((l-t)/(i-t))}_exponentialInterpolate(t,e,i,a,l){return e*Math.pow(a/e,(l-t)/(i-t))}}class jt extends Vn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Vt(this.input)?ca(this.input)||this.input instanceof Ce?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Vt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return Vt(t)&&(t instanceof jt||xr(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(i=>{i.channelCount=t.channelCount,i.channelCountMode=t.channelCountMode,i.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();zt(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,i=0){return $o(this,t,e,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Xg("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,i=0){return xI(this,t,e,i),this}chain(...t){return Fm(this,...t),this}fan(...t){return t.forEach(e=>this.connect(e)),this}dispose(){return super.dispose(),Vt(this.input)&&(this.input instanceof jt?this.input.dispose():xr(this.input)&&this.input.disconnect()),Vt(this.output)&&(this.output instanceof jt?this.output.dispose():xr(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Fm(...n){const t=n.shift();n.reduce((e,i)=>(e instanceof jt?e.connect(i):xr(e)&&$o(e,i),i),t)}function $o(n,t,e=0,i=0){for(zt(Vt(n),"Cannot connect from undefined node"),zt(Vt(t),"Cannot connect to undefined node"),(t instanceof jt||xr(t))&&zt(t.numberOfInputs>0,"Cannot connect to node with no inputs"),zt(n.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof jt||t instanceof Ce;)Vt(t.input)&&(t=t.input);for(;n instanceof jt;)Vt(n.output)&&(n=n.output);ca(t)?n.connect(t,e):n.connect(t,e,i)}function xI(n,t,e=0,i=0){if(Vt(t))for(;t instanceof jt;)t=t.input;for(;!xr(n);)Vt(n.output)&&(n=n.output);ca(t)?n.disconnect(t,e):xr(t)?n.disconnect(t,e,i):n.disconnect()}class wn extends jt{constructor(){const t=Bt(wn.getDefaults(),arguments,["gain","units"]);super(t),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new Ce({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Oe(this,"gain")}static getDefaults(){return Object.assign(jt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class No extends jt{constructor(t){super(t),this.onended=oe,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new wn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const i=this.toSeconds(e);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(jt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:oe})}_startGain(t,e=1){zt(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=t+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(e,t+i):this._gainNode.gain.exponentialApproachValueAtTime(e,t,i)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){zt(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.now()),e>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?e*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==oe&&(this.onended(this),this.onended=oe,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),zt(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=oe,this}}class Jg extends No{constructor(){const t=Bt(Jg.getDefaults(),arguments,["offset"]);super(t),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),$o(this._source,this._gainNode),this.offset=new Ce({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(No.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class rn extends jt{constructor(){const t=Bt(rn.getDefaults(),arguments,["value","units"]);super(t),this.name="Signal",this.override=!0,this.output=this._constantSource=new Jg({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(jt.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,i=0){return ty(this,t,e,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,i){return this._param.exponentialRampTo(t,e,i),this}linearRampTo(t,e,i){return this._param.linearRampTo(t,e,i),this}targetRampTo(t,e,i){return this._param.targetRampTo(t,e,i),this}exponentialApproachValueAtTime(t,e,i){return this._param.exponentialApproachValueAtTime(t,e,i),this}setTargetAtTime(t,e,i){return this._param.setTargetAtTime(t,e,i),this}setValueCurveAtTime(t,e,i,a){return this._param.setValueCurveAtTime(t,e,i,a),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,i){return this._param.rampTo(t,e,i),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function ty(n,t,e,i){(t instanceof Ce||ca(t)||t instanceof rn&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof rn&&(t.overridden=!0)),$o(n,t,e,i)}class ey extends Ce{constructor(){const t=Bt(ey.getDefaults(),arguments,["value"]);super(t),this.name="TickParam",this._events=new As(1/0),this._multiplier=1,this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ce.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,i){e=this.toSeconds(e),this.setRampPoint(e);const a=this._fromType(t),l=this._events.get(e),c=Math.round(Math.max(1/i,1));for(let h=0;h<=c;h++){const d=i*h+e,f=this._exponentialApproach(l.time,l.value,a,i,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}setValueAtTime(t,e){const i=this.toSeconds(e);super.setValueAtTime(t,e);const a=this._events.get(i),l=this._events.previousEvent(a),c=this._getTicksUntilEvent(l,i);return a.ticks=Math.max(c,0),this}linearRampToValueAtTime(t,e){const i=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const a=this._events.get(i),l=this._events.previousEvent(a),c=this._getTicksUntilEvent(l,i);return a.ticks=Math.max(c,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const i=this._fromType(t),a=this._events.get(e),l=Math.round(Math.max((e-a.time)*10,1)),c=(e-a.time)/l;for(let h=0;h<=l;h++){const d=c*h+a.time,f=this._exponentialInterpolate(a.time,a.value,e,i,d);this.linearRampToValueAtTime(this._toType(f),d)}return this}_getTicksUntilEvent(t,e){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ss(t.ticks)){const c=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(c,t.time)}const i=this._fromType(this.getValueAtTime(t.time));let a=this._fromType(this.getValueAtTime(e));const l=this._events.get(e);return l&&l.time===e&&l.type==="setValueAtTime"&&(a=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(i+a)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),i=this._events.get(e);return Math.max(this._getTicksUntilEvent(i,e),0)}getDurationOfTicks(t,e){const i=this.toSeconds(e),a=this.getTicksAtTime(e);return this.getTimeOfTick(a+t)-i}getTimeOfTick(t){const e=this._events.get(t,"ticks"),i=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&i&&i.type==="linearRampToValueAtTime"&&e.value!==i.value){const a=this._fromType(this.getValueAtTime(e.time)),c=(this._fromType(this.getValueAtTime(i.time))-a)/(i.time-e.time),h=Math.sqrt(Math.pow(a,2)-2*c*(e.ticks-t)),d=(-a+h)/c,f=(-a-h)/c;return(d>0?d:f)+e.time}else return e?e.value===0?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const i=this.toSeconds(e),a=this.toSeconds(t),l=this.getTicksAtTime(i);return this.getTicksAtTime(i+a)-l}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class ny extends rn{constructor(){const t=Bt(ny.getDefaults(),arguments,["value"]);super(t),this.name="TickSignal",this.input=this._param=new ey({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(rn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class sy extends Vn{constructor(){const t=Bt(sy.getDefaults(),arguments,["frequency"]);super(t),this.name="TickSource",this._state=new Kg,this._tickOffset=new As,this._ticksAtTime=new As,this._secondsAtTime=new As,this.frequency=new ny({context:this.context,units:t.units,value:t.frequency}),Oe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Vn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const i=this.toSeconds(t);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Vt(e)&&this.setTicksAtTime(e,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(t){const e=this.toSeconds(t);if(this._state.getValueAtTime(e)==="stopped"){const i=this._state.get(e);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e)),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),i=this._state.getLastState("stopped",e),a=this._ticksAtTime.get(e),l={state:"paused",time:e};this._state.add(l);let c=a||i,h=a?a.ticks:0,d=null;return this._state.forEachBetween(c.time,e+this.sampleTime,f=>{let m=c.time;const y=this._tickOffset.get(f.time);y&&y.time>=c.time&&(h=y.ticks,m=y.time),c.state==="started"&&f.state!=="started"&&(h+=this.frequency.getTicksAtTime(f.time)-this.frequency.getTicksAtTime(m),f.time!==l.time&&(d={state:f.state,time:f.time,ticks:h})),c=f}),this._state.remove(l),d&&this._ticksAtTime.add(d),h}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),i=this.frequency.timeToTicks(t,e);this.setTicksAtTime(i,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),i={state:"paused",time:t};this._state.add(i);const a=this._secondsAtTime.get(t);let l=a||e,c=a?a.seconds:0,h=null;return this._state.forEachBetween(l.time,t+this.sampleTime,d=>{let f=l.time;const m=this._tickOffset.get(d.time);m&&m.time>=l.time&&(c=m.seconds,f=m.time),l.state==="started"&&d.state!=="started"&&(c+=d.time-f,d.time!==i.time&&(h={state:d.state,time:d.time,seconds:c})),l=d}),this._state.remove(i),h&&this._secondsAtTime.add(h),c}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const i=this._tickOffset.get(e),a=this._state.get(e),l=Math.max(i.time,a.time),c=this.frequency.getTicksAtTime(l)+t-i.ticks;return this.frequency.getTimeOfTick(c)}forEachTickBetween(t,e,i){let a=this._state.get(t);this._state.forEachBetween(t,e,c=>{a&&a.state==="started"&&c.state!=="started"&&this.forEachTickBetween(Math.max(a.time,t),c.time-this.sampleTime,i),a=c});let l=null;if(a&&a.state==="started"){const c=Math.max(a.time,t),h=this.frequency.getTicksAtTime(c),d=this.frequency.getTicksAtTime(a.time),f=h-d;let m=Math.ceil(f)-f;m=Rs(m,1)?0:m;let y=this.frequency.getTimeOfTick(h+m);for(;y<e;){try{i(y,Math.round(this.getTicksAtTime(y)))}catch(_){l=_;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(l)throw l;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class od extends Vn{constructor(){const t=Bt(od.getDefaults(),arguments,["callback","frequency"]);super(t),this.name="Clock",this.callback=oe,this._lastUpdate=0,this._state=new Kg("stopped"),this._boundLoop=this._loop.bind(this),this.callback=t.callback,this._tickSource=new sy({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Oe(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Vn.getDefaults(),{callback:oe,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){u2(this.context);const i=this.toSeconds(t);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,e),i<this._lastUpdate&&this.emit("start",i,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)==="started"&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const i=this.toSeconds(e),a=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(a+t,i)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,i=>{switch(i.state){case"started":const a=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,a);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(t,e,(i,a)=>{this.callback(i,a)}))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Mc.mixin(od);class Zo extends jt{constructor(){const t=Bt(Zo.getDefaults(),arguments,["volume"]);super(t),this.name="Volume",this.input=this.output=new wn({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Oe(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class iy extends jt{constructor(){const t=Bt(iy.getDefaults(),arguments);super(t),this.name="Destination",this.input=new Zo({context:this.context}),this.output=new wn({context:this.context}),this.volume=this.input.volume,Fm(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Fm(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}id(n=>{n.destination=new iy({context:n})});rd(n=>{n.destination.dispose()});class SI extends jt{constructor(){super(...arguments),this.name="Listener",this.positionX=new Ce({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Ce({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Ce({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Ce({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Ce({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Ce({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Ce({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Ce({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Ce({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(jt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}id(n=>{n.listener=new SI({context:n})});rd(n=>{n.listener.dispose()});class ry extends Vi{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Bt(ry.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(e=>{this._loadingCount++;const i=t.urls[e];this.add(e,i,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:oe,onload:oe,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return zt(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,e])=>e.loaded)}add(t,e,i=oe,a=oe){return Pi(e)?(this.baseUrl&&e.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(t.toString(),new _e(this.baseUrl+e,i,a))):this._buffers.set(t.toString(),new _e(e,i,a)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class uo extends ec{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class AI extends Vn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new As,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}id(n=>{n.draw=new AI({context:n})});rd(n=>{n.draw.dispose()});class TI extends Vi{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){zt(Vt(t.time),"Events must have a time property"),zt(Vt(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new CI(t.time,t.time+t.duration,t);for(this._root===null?this._root=e:this._root.insert(e),this._length++;e!==null;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(this._root!==null){const e=[];this._root.search(t.time,e);for(const i of e)if(i.event===t){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,e=>this.remove(e)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,e){t.parent!==null?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const e=t.getBalance();let i,a=null;if(e>0)if(t.left.right===null)i=t.left,i.right=t.right,a=i;else{for(i=t.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,a=i.parent,i.left=t.left,i.right=t.right)}else if(t.right.left===null)i=t.right,i.left=t.left,a=i;else{for(i=t.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,a=i.parent,i.left=t.left,i.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=i:t.parent.right=i:this._setRoot(i),a&&this._rebalance(a)}t.dispose()}_rotateLeft(t){const e=t.parent,i=t.isLeftChild(),a=t.right;a&&(t.right=a.left,a.left=t),e!==null?i?e.left=a:e.right=a:this._setRoot(a)}_rotateRight(t){const e=t.parent,i=t.isLeftChild(),a=t.left;a&&(t.left=a.right,a.right=t),e!==null?i?e.left=a:e.right=a:this._setRoot(a)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const e=[];if(this._root.search(t,e),e.length>0){let i=e[0];for(let a=1;a<e.length;a++)e[a].low>i.low&&(i=e[a]);return i.event}}return null}forEach(t){if(this._root!==null){const e=[];this._root.traverse(i=>e.push(i)),e.forEach(i=>{i.event&&t(i.event)})}return this}forEachAtTime(t,e){if(this._root!==null){const i=[];this._root.search(t,i),i.forEach(a=>{a.event&&e(a.event)})}return this}forEachFrom(t,e){if(this._root!==null){const i=[];this._root.searchAfter(t,i),i.forEach(a=>{a.event&&e(a.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class CI{constructor(t,e,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(this.left!==null&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),this.left!==null&&this.left.searchAfter(t,e)),this.right!==null&&this.right.searchAfter(t,e)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class EI extends Vi{constructor(t){super(),this.name="TimelineValue",this._timeline=new As({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Ro extends jt{constructor(){super(Bt(Ro.getDefaults(),arguments,["context"]))}connect(t,e=0,i=0){return ty(this,t,e,i),this}}class Nc extends Ro{constructor(){const t=Bt(Nc.getDefaults(),arguments,["mapping","length"]);super(t),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Is(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Q6(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(rn.getDefaults(),{length:1024})}setMap(t,e=1024){const i=new Float32Array(e);for(let a=0,l=e;a<l;a++){const c=a/(l-1)*2-1;i[a]=t(c,a)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const e=["none","2x","4x"].some(i=>i.includes(t));zt(e,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class ay extends Ro{constructor(){const t=Bt(ay.getDefaults(),arguments,["value"]);super(t),this.name="Pow",this._exponentScaler=this.input=this.output=new Nc({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Ro.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Tr{constructor(t,e){this.id=Tr._eventId++,this._remainderTime=0;const i=Object.assign(Tr.getDefaults(),e);this.transport=t,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:oe,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(t){if(this.callback){const e=this.transport.bpm.getDurationOfTicks(1,t);this.callback(t+this._remainderTime*e),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Tr._eventId=0;class oy extends Tr{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(oy.getDefaults(),e);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Tr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvent(){return Ph(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new uo(this.context,this._nextTick).toSeconds()):-1}_createEvents(t){Ph(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new uo(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const e=this.transport.getTicksAtTime(t);ko(e,this.time)&&(this._nextTick=this.floatTime+Math.ceil((e-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class ld extends Vn{constructor(){const t=Bt(ld.getDefaults(),arguments);super(t),this.name="Transport",this._loop=new EI(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new As,this._repeatedEvents=new TI,this._syncedSignals=[],this._swingAmount=0,this._ppq=t.ppq,this._clock=new od({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Oe(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Vn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!==0&&e%(this._swingTicks*2)!==0){const i=e%(this._swingTicks*2)/(this._swingTicks*2),a=Math.sin(i*Math.PI)*this._swingAmount;t+=new uo(this.context,this._swingTicks*2/3).toSeconds()*a}Wb(!0),this._timeline.forEachAtTime(e,i=>i.invoke(t)),Wb(!1)}schedule(t,e){const i=new Tr(this,{callback:t,time:new ec(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(t,e,i,a=1/0){const l=new oy(this,{callback:t,duration:new Bs(this.context,a).toTicks(),interval:new Bs(this.context,e).toTicks(),time:new ec(this.context,i).toTicks()});return this._addEvent(l,this._repeatedEvents)}scheduleOnce(t,e){const i=new Tr(this,{callback:t,once:!0,time:new ec(this.context,e).toTicks()});return this._addEvent(i,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(e,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(t,e)=>{e=new uo(this.context,e).toSeconds(),this.emit("start",t,e)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){this.context.resume();let i;return Vt(e)&&(i=this.toTicks(e)),this._clock.start(t,i),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Is(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Bs(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Bs(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new uo(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new uo(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),i=this._clock.frequency.timeToTicks(t,e);this.ticks=i}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(e),a=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,e),l=e+a;this.emit("stop",l),this._clock.setTicksAtTime(t,l),this.emit("start",l,this._clock.getSecondsAtTime(l))}else this.emit("ticks",e),this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return this._clock.getTicksAtTime(t)}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const e=this.now(),i=this.getTicksAtTime(e),a=t-i%t;return this._clock.nextTickTime(a,e)}}syncSignal(t,e){const i=this.now();let a=this.bpm,l=1/(60/a.getValueAtTime(i)/this.PPQ),c=[];if(t.units==="time"){const d=.015625/l,f=new wn(d),m=new ay(-1),y=new wn(d);a.chain(f,m,y),a=y,l=1/l,c=[f,m,y]}e||(t.getValueAtTime(i)!==0?e=t.getValueAtTime(i)/l:e=0);const h=new wn(e);return a.connect(h),h.connect(t._param),c.push(h),this._syncedSignals.push({initial:t.value,nodes:c,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const i=this._syncedSignals[e];i.signal===t&&(i.nodes.forEach(a=>a.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),g2(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Mc.mixin(ld);id(n=>{n.transport=new ld({context:n})});rd(n=>{n.transport.dispose()});class is extends jt{constructor(t){super(t),this.input=void 0,this._state=new Kg("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=oe,this._syncedStop=oe,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Zo({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Oe(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,onstop:oe,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,i){let a=Ss(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(a=this._clampToCurrentTime(a),!this._synced&&this._state.getValueAtTime(a)==="started")zt(ko(a,this._state.get(a).time),"Start time must be strictly greater than previous start time"),this._state.cancel(a),this._state.setStateAtTime("started",a),this.log("restart",a),this.restart(a,e,i);else if(this.log("start",a),this._state.setStateAtTime("started",a),this._synced){const l=this._state.get(a);l&&(l.offset=this.toSeconds(_o(e,0)),l.duration=i?this.toSeconds(i):void 0);const c=this.context.transport.schedule(h=>{this._start(h,e,i)},a);this._scheduled.push(c),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>a&&this._syncedStart(this.now(),this.context.transport.seconds)}else u2(this.context),this._start(a,e,i);return this}stop(t){let e=Ss(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),this._state.getValueAtTime(e)==="started"||Vt(this._state.getNextState("started",e))){if(this.log("stop",e),!this._synced)this._stop(e);else{const i=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(i)}this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,i){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,e,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(ko(e,0)){const i=this._state.get(e);if(i&&i.state==="started"&&i.time!==e){const a=e-this.toSeconds(i.time);let l;i.duration&&(l=this.toSeconds(i.duration)-a),this._start(t,this.toSeconds(i.offset)+a,l)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(e)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=oe,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class cd extends No{constructor(){const t=Bt(cd.getDefaults(),arguments,["url","onload"]);super(t),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,$o(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Ce({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new _e(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(No.getDefaults(),{url:new _e,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,i,a=1){zt(this.buffer.loaded,"buffer is either not set or not loaded");const l=this.toSeconds(t);this._startGain(l,a),this.loop?e=_o(e,this.loopStart):e=_o(e,0);let c=Math.max(this.toSeconds(e),0);if(this.loop){const h=this.toSeconds(this.loopEnd)||this.buffer.duration,d=this.toSeconds(this.loopStart),f=h-d;jm(c,h)&&(c=(c-d)%f+d),Rs(c,this.buffer.duration)&&(c=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Ph(c,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(l,c)),Vt(i)){let h=this.toSeconds(i);h=Math.max(h,0),this.stop(l+h)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function _a(n,t){return We(this,void 0,void 0,function*(){const e=t/n.context.sampleRate,i=new Zg(1,e,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/e,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class ly extends No{constructor(){const t=Bt(ly.getDefaults(),arguments,["frequency","type"]);super(t),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],$o(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Ce({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Ce({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Oe(this,["frequency","detune"])}static getDefaults(){return Object.assign(No.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ye extends is{constructor(){const t=Bt(Ye.getDefaults(),arguments,["frequency","type"]);super(t),this.name="Oscillator",this._oscillator=null,this.frequency=new rn({context:this.context,units:"frequency",value:t.frequency}),Oe(this,"frequency"),this.detune=new rn({context:this.context,units:"cents",value:t.detune}),Oe(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(is.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),i=new ly({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Ye._periodicWaveCache.find(e=>e.phase===this._phase&&lI(e.partials,this._partials));{const t=Ye._periodicWaveCache.find(e=>e.type===this._type&&e.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&e)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const i=this._getCachedPeriodicWave();if(Vt(i)){const{partials:a,wave:l}=i;this._wave=l,this._partials=a,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[a,l]=this._getRealImaginary(t,this._phase),c=this.context.createPeriodicWave(a,l);this._wave=c,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Ye._periodicWaveCache.push({imag:l,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:a,type:this._type,wave:this._wave}),Ye._periodicWaveCache.length>100&&Ye._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){Ar(t,0);let e=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(e=i[1]),this._type!=="custom")t===0?this.type=e:this.type=e+t.toString();else{const a=new Float32Array(t);this._partials.forEach((l,c)=>a[c]=l),this._partials=Array.from(a),this.type=this._type}}_getRealImaginary(t,e){let a=2048;const l=new Float32Array(a),c=new Float32Array(a);let h=1;if(t==="custom"){if(h=this._partials.length+1,this._partialCount=this._partials.length,a=h,this._partials.length===0)return[l,c]}else{const d=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);d?(h=parseInt(d[2],10)+1,this._partialCount=parseInt(d[2],10),t=d[1],h=Math.max(h,2),a=h):this._partialCount=0,this._partials=[]}for(let d=1;d<a;++d){const f=2/(d*Math.PI);let m;switch(t){case"sine":m=d<=h?1:0,this._partials[d-1]=m;break;case"square":m=d&1?2*f:0,this._partials[d-1]=m;break;case"sawtooth":m=f*(d&1?1:-1),this._partials[d-1]=m;break;case"triangle":d&1?m=2*(f*f)*(d-1>>1&1?-1:1):m=0,this._partials[d-1]=m;break;case"custom":m=this._partials[d-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}m!==0?(l[d]=-m*Math.sin(e*d),c[d]=m*Math.cos(e*d)):(l[d]=0,c[d]=0)}return[l,c]}_inverseFFT(t,e,i){let a=0;const l=t.length;for(let c=0;c<l;c++)a+=t[c]*Math.cos(c*i)+e[c]*Math.sin(c*i);return a}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let i=0;const a=Math.PI*2,l=32;for(let c=0;c<l;c++)i=Math.max(this._inverseFFT(t,e,c/l*a),i);return uI(-this._inverseFFT(t,e,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ye._periodicWaveCache=[];class MI extends Ro{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Nc({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Do extends rn{constructor(){const t=Bt(Do.getDefaults(),arguments,["value"]);super(t),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new wn({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(rn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ud extends is{constructor(){const t=Bt(ud.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="AMOscillator",this._modulationScale=new MI({context:this.context}),this._modulationNode=new wn({context:this.context}),this._carrier=new Ye({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ye({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Do({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Oe(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ye.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class hd extends is{constructor(){const t=Bt(hd.getDefaults(),arguments,["frequency","type","modulationType"]);super(t),this.name="FMOscillator",this._modulationNode=new wn({context:this.context,gain:0}),this._carrier=new Ye({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new rn({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Ye({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Do({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Do({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Oe(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ye.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Rc extends is{constructor(){const t=Bt(Rc.getDefaults(),arguments,["frequency","width"]);super(t),this.name="PulseOscillator",this._widthGate=new wn({context:this.context,gain:0}),this._thresh=new Nc({context:this.context,mapping:e=>e<=0?-1:1}),this.width=new rn({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Ye({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Oe(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(is.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class dd extends is{constructor(){const t=Bt(dd.getDefaults(),arguments,["frequency","type","spread"]);super(t),this.name="FatOscillator",this._oscillators=[],this.frequency=new rn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new rn({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Oe(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ye.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(e=>e.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(e=>e.stop(t))}_restart(t){this._forEach(e=>e.restart(t))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach(e=>e.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,i=t/(this._oscillators.length-1);this._forEach((a,l)=>a.detune.value=e+i*l)}}get count(){return this._oscillators.length}set count(t){if(Ar(t,1),this._oscillators.length!==t){this._forEach(e=>e.dispose()),this._oscillators=[];for(let e=0;e<t;e++){const i=new Ye({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:e===0?()=>this.onstop(this):oe});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[e]=i}this.spread=this._spread,this.state==="started"&&this._forEach(e=>e.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((e,i)=>e.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(e=>e.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(e=>e.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(e=>e.partialCount=t),this._type=this._oscillators[0].type}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class fd extends is{constructor(){const t=Bt(fd.getDefaults(),arguments,["frequency","modulationFrequency"]);super(t),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Do({context:this.context,value:2}),this._pulse=new Rc({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ye({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Oe(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(is.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const $b={am:ud,fat:dd,fm:hd,oscillator:Ye,pulse:Rc,pwm:fd};class jh extends is{constructor(){const t=Bt(jh.getDefaults(),arguments,["frequency","type"]);super(t),this.name="OmniOscillator",this.frequency=new rn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new rn({context:this.context,units:"cents",value:t.detune}),Oe(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Ye.getDefaults(),hd.getDefaults(),ud.getDefaults(),dd.getDefaults(),Rc.getDefaults(),fd.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(e=>this._sourceType===e)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=$b[t],i=this.now();if(this._oscillator){const a=this._oscillator;a.stop(i),this.context.setTimeout(()=>a.dispose(),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(e=this._oscillator.type),t==="fm"?this.type="fm"+e:t==="am"?this.type="am"+e:t==="fat"?this.type="fat"+e:t==="oscillator"?this.type=e:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,e){return t instanceof $b[e]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&la(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&la(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Pi(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return We(this,arguments,void 0,function*(t=1024){return _a(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function w2(n,t=1/0){const e=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(l){Ar(l,n,t),e.set(this,l)}})}}function Hi(n,t=1/0){const e=new WeakMap;return function(i,a){Reflect.defineProperty(i,a,{configurable:!0,enumerable:!0,get:function(){return e.get(this)},set:function(l){Ar(this.toSeconds(l),n,t),e.set(this,l)}})}}class Dc extends is{constructor(){const t=Bt(Dc.getDefaults(),arguments,["url","onload"]);super(t),this.name="Player",this._activeSources=new Set,this._buffer=new _e({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(is.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:oe,onerror:oe,playbackRate:1,reverse:!1})}load(t){return We(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=oe){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,i){return super.start(t,e,i),this}_start(t,e,i){this._loop?e=_o(e,this._loopStart):e=_o(e,0);const a=this.toSeconds(e),l=i;i=_o(i,Math.max(this._buffer.duration-a,0));let c=this.toSeconds(i);c=c/this._playbackRate,t=this.toSeconds(t);const h=new cd({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+c),this._state.setStateAtTime("stopped",t+c,{implicitEnd:!0})),this._activeSources.add(h),this._loop&&Ss(l)?h.start(t,a):h.start(t,a,c-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach(i=>i.stop(e))}restart(t,e,i){return super.restart(t,e,i),this}_restart(t,e,i){var a;(a=[...this._activeSources].pop())===null||a===void 0||a.stop(t),this._start(t,e,i)}seek(t,e){const i=this.toSeconds(e);if(this._state.getValueAtTime(i)==="started"){const a=this.toSeconds(t);this._stop(i),this._start(i,a)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&Ar(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&Ar(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(e=>{e.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(e=>{e.loop=t}),t)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),i=this._state.getNextState("stopped",e);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(a=>a.cancelStop())),this._activeSources.forEach(a=>{a.playbackRate.setValueAtTime(t,e)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Us([Hi(0)],Dc.prototype,"fadeIn",void 0);Us([Hi(0)],Dc.prototype,"fadeOut",void 0);class kr extends jt{constructor(){const t=Bt(kr.getDefaults(),arguments,["attack","decay","sustain","release"]);super(t),this.name="Envelope",this._sig=new rn({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(jt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Pi(t))return t;{let i;for(i in hh)if(hh[i][e]===t)return i;return t}}_setCurve(t,e,i){if(Pi(i)&&Reflect.has(hh,i)){const a=hh[i];ia(a)?t!=="_decayCurve"&&(this[t]=a[e]):this[t]=a}else if(Is(i)&&t!=="_decayCurve")this[t]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(t){this._setCurve("_decayCurve","Out",t)}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let a=this.toSeconds(this.attack);const l=this.toSeconds(this.decay),c=this.getValueAtTime(t);if(c>0){const h=1/a;a=(1-c)/h}if(a<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(e,a,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(e,a,t);else{this._sig.cancelAndHoldAtTime(t);let h=this._attackCurve;for(let d=1;d<h.length;d++)if(h[d-1]<=c&&c<=h[d]){h=this._attackCurve.slice(d),h[0]=c;break}this._sig.setValueCurveAtTime(h,t,a,e)}if(l&&this.sustain<1){const h=e*this.sustain,d=t+a;this.log("decay",d),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(h,l+d):this._sig.exponentialApproachValueAtTime(h,d,l)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,t):(zt(Is(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,i,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,i=1){return e=this.toSeconds(e),this.triggerAttack(e,i),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,i=0){return ty(this,t,e,i),this}asArray(){return We(this,arguments,void 0,function*(t=1024){const e=t/this.context.sampleRate,i=new Zg(1,e,this.context.sampleRate),a=this.toSeconds(this.attack)+this.toSeconds(this.decay),l=a+this.toSeconds(this.release),c=l*.1,h=l+c,d=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/h,decay:e*this.toSeconds(this.decay)/h,release:e*this.toSeconds(this.release)/h,context:i}));return d._sig.toDestination(),d.triggerAttackRelease(e*(a+c)/h,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Us([Hi(0)],kr.prototype,"attack",void 0);Us([Hi(0)],kr.prototype,"decay",void 0);Us([w2(0,1)],kr.prototype,"sustain",void 0);Us([Hi(0)],kr.prototype,"release",void 0);const hh=(()=>{let t,e;const i=[];for(t=0;t<128;t++)i[t]=Math.sin(t/127*(Math.PI/2));const a=[],l=6.4;for(t=0;t<127;t++){e=t/127;const _=Math.sin(e*(Math.PI*2)*l-Math.PI/2)+1;a[t]=_/10+e*.83}a[127]=1;const c=[],h=5;for(t=0;t<128;t++)c[t]=Math.ceil(t/127*h)/h;const d=[];for(t=0;t<128;t++)e=t/127,d[t]=.5*(1-Math.cos(Math.PI*e));const f=[];for(t=0;t<128;t++){e=t/127;const _=Math.pow(e,3)*4+.2,v=Math.cos(_*Math.PI*2*e);f[t]=Math.abs(v*(1-e))}function m(_){const v=new Array(_.length);for(let w=0;w<_.length;w++)v[w]=1-_[w];return v}function y(_){return _.slice(0).reverse()}return{bounce:{In:m(f),Out:f},cosine:{In:i,Out:y(i)},exponential:"exponential",linear:"linear",ripple:{In:a,Out:m(a)},sine:{In:d,Out:m(d)},step:{In:c,Out:m(c)}}})();class Oo extends jt{constructor(){const t=Bt(Oo.getDefaults(),arguments);super(t),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=e=>this._original_triggerRelease(e),this._volume=this.output=new Zo({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Oe(this,"volume")}static getDefaults(){return Object.assign(jt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const i=this["_original_"+t]=this[t];this[t]=(...a)=>{const l=a[e],c=this.context.transport.schedule(h=>{a[e]=h,i.apply(this,a)},l);this._scheduledEvents.push(c)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(t,e,i,a){const l=this.toSeconds(i),c=this.toSeconds(e);return this.triggerAttack(t,l,a),this.triggerRelease(l+c),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Bo extends Oo{constructor(){const t=Bt(Bo.getDefaults(),arguments);super(t),this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Oo.getDefaults(),{detune:0,onsilence:oe,portamento:0})}triggerAttack(t,e,i=1){this.log("triggerAttack",t,e,i);const a=this.toSeconds(e);return this._triggerEnvelopeAttack(a,i),this.setNote(t,a),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const i=this.toSeconds(e),a=t instanceof bs?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const l=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(a,l,i)}else this.frequency.setValueAtTime(a,i);return this}}Us([Hi(0)],Bo.prototype,"portamento",void 0);class cy extends kr{constructor(){super(Bt(cy.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new wn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Uh extends Bo{constructor(){const t=Bt(Uh.getDefaults(),arguments);super(t),this.name="Synth",this.oscillator=new jh(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new cy(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Oe(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Bo.getDefaults(),{envelope:Object.assign(Xb(kr.getDefaults(),Object.keys(jt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Xb(jh.getDefaults(),[...Object.keys(is.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),a=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+i+a)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Oc extends Uh{constructor(){const t=Bt(Oc.getDefaults(),arguments);super(t),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Oe(this,["oscillator","envelope"])}static getDefaults(){return yo(Bo.getDefaults(),Uh.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const i=this.toSeconds(e),a=this.toFrequency(t instanceof bs?t.toFrequency():t),l=a*this.octaves;return this.oscillator.frequency.setValueAtTime(l,i),this.oscillator.frequency.exponentialRampToValueAtTime(a,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Us([w2(0)],Oc.prototype,"octaves",void 0);Us([Hi(0)],Oc.prototype,"pitchDecay",void 0);const b2=new Set;function uy(n){b2.add(n)}function x2(n,t){const e=`registerProcessor("${n}", ${t})`;b2.add(e)}const kI=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;uy(kI);const NI=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;uy(NI);const RI=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;uy(RI);const DI="feedback-comb-filter",OI=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;x2(DI,OI);class pd extends Oo{constructor(){const t=Bt(pd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(t),this.name="Sampler",this._activeSources=new Map;const e={};Object.keys(t.urls).forEach(i=>{const a=parseInt(i,10);if(zt(uh(i)||la(a)&&isFinite(a),`url key is neither a note or midi pitch: ${i}`),uh(i)){const l=new bs(this.context,i).toMidi();e[l]=t.urls[i]}else la(a)&&isFinite(a)&&(e[a]=t.urls[a])}),this._buffers=new ry({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Oo.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:oe,onerror:oe,release:.1,urls:{}})}_findClosest(t){let i=0;for(;i<96;){if(this._buffers.has(t+i))return-i;if(this._buffers.has(t-i))return i;i++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,i=1){return this.log("triggerAttack",t,e,i),Array.isArray(t)||(t=[t]),t.forEach(a=>{const l=v2(new bs(this.context,a).toFrequency()),c=Math.round(l),h=l-c,d=this._findClosest(c),f=c-d,m=this._buffers.get(f),y=_2(d+h),_=new cd({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);_.start(e,0,m.duration/y,i),Is(this._activeSources.get(c))||this._activeSources.set(c,[]),this._activeSources.get(c).push(_),_.onended=()=>{if(this._activeSources&&this._activeSources.has(c)){const v=this._activeSources.get(c),w=v.indexOf(_);w!==-1&&v.splice(w,1)}}}),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach(i=>{const a=new bs(this.context,i).toMidi();if(this._activeSources.has(a)&&this._activeSources.get(a).length){const l=this._activeSources.get(a);e=this.toSeconds(e),l.forEach(c=>{c.stop(e)}),this._activeSources.set(a,[])}}),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(e)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,i,a=1){const l=this.toSeconds(i);return this.triggerAttack(t,l,a),Is(e)?(zt(Is(t),"notes must be an array when duration is array"),t.forEach((c,h)=>{const d=e[Math.min(h,e.length-1)];this.triggerRelease(c,l+this.toSeconds(d))})):this.triggerRelease(t,l+this.toSeconds(e)),this}add(t,e,i){if(zt(uh(t)||isFinite(t),`note must be a pitch or midi: ${t}`),uh(t)){const a=new bs(this.context,t).toMidi();this._buffers.add(a,e,i)}else this._buffers.add(t,e,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(e=>e.dispose())}),this._activeSources.clear(),this}}Us([Hi(0)],pd.prototype,"attack",void 0);Us([Hi(0)],pd.prototype,"release",void 0);class hy extends jt{constructor(){const t=Bt(hy.getDefaults(),arguments,["pan"]);super(t),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new Ce({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Oe(this,"pan")}static getDefaults(){return Object.assign(jt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const BI="bit-crusher",II=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;x2(BI,II);class Ge extends jt{constructor(){const t=Bt(Ge.getDefaults(),arguments,["solo"]);super(t),this.name="Solo",this.input=this.output=new wn({context:this.context}),Ge._allSolos.has(this.context)||Ge._allSolos.set(this.context,new Set),Ge._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(jt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Ge._allSolos.get(this.context).forEach(e=>e._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Ge._soloed.has(this.context)||Ge._soloed.set(this.context,new Set),Ge._soloed.get(this.context).add(this)}_removeSolo(){Ge._soloed.has(this.context)&&Ge._soloed.get(this.context).delete(this)}_isSoloed(){return Ge._soloed.has(this.context)&&Ge._soloed.get(this.context).has(this)}_noSolos(){return!Ge._soloed.has(this.context)||Ge._soloed.has(this.context)&&Ge._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Ge._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Ge._allSolos=new Map;Ge._soloed=new Map;class dy extends jt{constructor(){const t=Bt(dy.getDefaults(),arguments,["pan","volume"]);super(t),this.name="PanVol",this._panner=this.input=new hy({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Zo({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Oe(this,["pan","volume"])}static getDefaults(){return Object.assign(jt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ho extends jt{constructor(){const t=Bt(ho.getDefaults(),arguments,["volume","pan"]);super(t),this.name="Channel",this._solo=this.input=new Ge({solo:t.solo,context:this.context}),this._panVol=this.output=new dy({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Oe(this,["pan","volume"])}static getDefaults(){return Object.assign(jt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return ho.buses.has(t)||ho.buses.set(t,new wn({context:this.context})),ho.buses.get(t)}send(t,e=0){const i=this._getBus(t),a=new wn({context:this.context,units:"decibels",gain:e});return this.connect(a),a.connect(i),a}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ho.buses=new Map;function zI(){return ws().now()}ws().transport;ws().destination;ws().destination;ws().listener;ws().draw;ws();class LI{constructor(){this.synth=new Oc().toDestination(),this.selectedKey="C",this.lastKey="C",this.selectedScale={name:"Major",notes:lm.Major.notes},this.halfTones=0}getNotesForScale(t,e,i){let a=lm[e]?.notes||lm.Major.notes;return i!==t&&(this.halfTones=Mb[t].semitone-Mb[i||t].semitone,this.halfTones>6?this.halfTones-=12:this.halfTones<-6&&(this.halfTones+=12),a=qD(a,this.halfTones),this.halfTones=0),this.selectedScale={name:e,notes:a},a}getNote(t,e=!1){if(e)return this.selectedScale.notes[0];const{notes:i}=this.selectedScale,a=i.filter(f=>this.isValidInterval(f,t)),l=this.getCommonChordTones(),c=a.filter(f=>!l.includes(f)),h=Math.random()>.5;let d;if(h){const f=Math.floor(Math.random()*l.length);d=l[f]}else{const f=Math.floor(Math.random()*c.length);d=c[f]}if(!a.includes(d)){const f=Math.floor(Math.random()*a.length);d=a[f]}return d}isValidInterval(t,e){const i=Math.abs(Math.floor((t-e+12)%12)),a={Major:[2,4,5,7,9,11],Minor:[2,3,5,7,8,10],Pentatonic:[2,4,7,9],Blues:[3,5,6,7,10],Dorian:[2,3,5,7,9,10],Mixolydian:[2,4,5,7,9,10],Phrygian:[1,3,5,7,8,10],Lydian:[2,4,6,7,9,11],Locrian:[1,3,5,6,8,10],Chromatic:[1,2,3,4,5,6,7,8,9,10,11],"Harmonic Major":[2,4,5,7,8,11],"Melodic Minor":[2,3,5,7,9,11],"Whole Tone":[2,4,6,8,10],"Hungarian Minor":[2,3,6,7,8,11],"Double Harmonic":[1,4,5,7,8,11],"Neapolitan Major":[1,3,5,7,9,11],"Neapolitan Minor":[1,3,5,7,8,11],Augmented:[3,4,7,8],Hexatonic:[2,4,7,9,10],Enigmatic:[1,4,6,8,10,11],"Spanish Gypsy":[1,4,5,7,8,10],Hirajoshi:[2,3,7,8],"Balinese Pelog":[1,2,6,7,11],Egyptian:[2,5,7,10],"Hungarian Gypsy":[2,3,6,7,8,11],Persian:[1,4,5,6,8,11],Tritone:[3,6,9],Flamenco:[1,3,4,6,8,9,11],Iwato:[1,5,6,10],"Blues Heptatonic":[2,3,5,6,7,10]},{name:l}=this.selectedScale;return a[l]?.includes(i)||!1}getCommonChordTones(){const{notes:t}=this.selectedScale,e={standardFour:[0,2,4,6],standardThree:[0,2,4],augmented:[0,2,4],minorBlues:[0,3,5],locrian:[0,2,3],tritone:[0,3,6],empty:[]},i={Major:e.standardFour,Minor:e.standardFour,Pentatonic:e.standardThree,Blues:e.minorBlues,Dorian:e.standardFour,Mixolydian:e.standardFour,Phrygian:e.standardThree,Lydian:e.standardFour,Locrian:e.locrian,Chromatic:e.empty,"Harmonic Major":e.standardFour,"Melodic Minor":e.standardFour,"Whole Tone":e.standardThree,"Hungarian Minor":e.standardFour,"Double Harmonic":e.standardFour,"Neapolitan Major":e.standardFour,"Neapolitan Minor":e.standardFour,Augmented:e.augmented,Hexatonic:e.standardThree,Enigmatic:e.augmented,"Spanish Gypsy":e.standardThree,Hirajoshi:e.standardThree,"Balinese Pelog":e.standardThree,Egyptian:e.standardThree,"Hungarian Gypsy":e.standardFour,Persian:e.standardThree,Tritone:e.tritone,Flamenco:e.minorBlues,Iwato:e.standardThree,"Blues Heptatonic":e.standardFour},{name:a}=this.selectedScale;return i[a]?.map(l=>t[l])||[]}playNote(){const e=document.querySelector("[data-selected-scale]").textContent||"Major";let a=document.querySelector("[data-selected-key]").textContent||"C";this.getNotesForScale(a,e,this.lastKey),this.lastKey!==this.selectedKey&&(this.lastKey=this.selectedKey);const l=!this.lastPlayedNote,c=this.getNote(this.lastPlayedNote,l);this.lastPlayedNote=c,this.synth?.triggerAttackRelease(c,.8,zI())}}const Zb=250,Qb=1.5,Kb=4.5,zn=class zn extends ns{constructor(t,e){let i;do i=sa(0,zn.bHAnimArray.length-1);while(zn.addedIndexes.includes(i));zn.addedIndexes.push(i);const a=zn.bHAnimArray[i];if(!a)throw new Error("Black hole animation not found");super(a),this.vX=0,this.vY=0,this.anim.y=xo(this.anim.height),this.anim.x=bo(this.anim.width),this.determineDirection(),this.setPosition(e),t.addChild(this.anim),zn.bHArray.push(this)}determineDirection(){yN()?this.vX=sa(Qb,Kb):this.vY=sa(Qb,Kb)}setPosition(t){this.anim.x=bo(this.anim.width),this.anim.y=xo(this.anim.height),Math.abs(this.anim.x-t.x)<Zb&&Math.abs(this.anim.y-t.y)<Zb&&this.setPosition(t)}update(t,e){gS(t.p4Anim,this.anim)&&(e=!1),this.vX==0?this.anim.y+=this.vY:this.anim.x+=this.vX;const i=this.anim.getBounds();return(i.y+i.height>Ks||i.y<0)&&(this.vY*=-1),(i.x+i.width>si||i.x<0)&&(this.vX*=-1),e}static destroy(){for(let t=0;t<zn.bHAnimArray.length;t++)zn.bHAnimArray[t].destroy();zn.bHArray=[],zn.bHAnimArray=[]}};zn.addedIndexes=[],zn.bHAnimArray=[],zn.bHArray=[];let Xs=zn;class PI extends ns{constructor(t,e){super(e),this.waterAnim=e,this.startX=si-ns.gap,this.startY=Ks*.5,this.noteSelector=new LI,t.addChild(e),e.x=this.startX-e.width,e.y=this.startY}update(t,e,i,a){gS(e.p4Anim,t)&&(i&&this.noteSelector.playNote(),new Xs(a,e.p4Anim),t.x=bo(t.width+ns.gap),t.y=xo(t.height+ns.gap),e.totalWater+=10)}destroy(){this.waterAnim.destroy()}}class jI{constructor(t){this.stage=t,this.stars=[],this.createStars()}createStars(){for(let t=0;t<333;t++){const e=new Os,i=Math.random()*2+1;e.fill({color:16777215}),e.circle(0,0,i),e.fill(),e.x=Math.random()*si,e.y=Math.random()*Ks,e.alpha=Math.random(),this.stars.push(e),this.stage.addChild(e)}}update(){this.stars.forEach(t=>{t.x+=Math.random()*.5-.25,t.y+=Math.random()*.5-.25,t.alpha+=Math.random()*.1-.05,t.alpha<.1&&(t.alpha=.1),t.alpha>1&&(t.alpha=1)})}destroy(){this.stars.forEach(t=>this.stage.removeChild(t))}}const UI={"p4-frame1.png":{frame:{x:0,y:0,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame2.png":{frame:{x:70,y:0,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame3.png":{frame:{x:140,y:0,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame4.png":{frame:{x:0,y:66,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame5.png":{frame:{x:70,y:66,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame6.png":{frame:{x:140,y:66,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame7.png":{frame:{x:0,y:132,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}},"p4-frame8.png":{frame:{x:70,y:132,w:70,h:66},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:70,h:66},sourceSize:{w:70,h:66}}},FI={p4:["p4-frame1.png","p4-frame2.png","p4-frame3.png","p4-frame4.png","p4-frame5.png","p4-frame6.png","p4-frame7.png","p4-frame8.png"]},VI={app:"https://www.codeandweb.com/texturepacker",version:"1.1",image:"p4.png",format:"RGBA8888",size:{w:210,h:198},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:cffcfe4c0631059ef69c87b3d8afbd72:936717c40b2a38f02d788a3e941e2d83:3c8e9837c15592ed65674ce6319d707d$"},HI={frames:UI,animations:FI,meta:VI},qI={"water-frame1.png":{frame:{x:0,y:0,w:28,h:46},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:28,h:46},sourceSize:{w:28,h:46}},"water-frame2.png":{frame:{x:0,y:46,w:28,h:46},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:28,h:46},sourceSize:{w:28,h:46}},"water-frame3.png":{frame:{x:0,y:92,w:28,h:46},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:28,h:46},sourceSize:{w:28,h:46}},"water-frame4.png":{frame:{x:0,y:138,w:28,h:46},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:28,h:46},sourceSize:{w:28,h:46}},"water-frame5.png":{frame:{x:0,y:184,w:28,h:46},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:28,h:46},sourceSize:{w:28,h:46}}},GI={water:["water-frame1.png","water-frame2.png","water-frame3.png","water-frame4.png","water-frame5.png"]},YI={app:"https://www.codeandweb.com/texturepacker",version:"1.1",image:"water.png",format:"RGBA8888",size:{w:28,h:230},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:61e3e9e9db7feb13e39ff88f04d053bc:6954668242c90210f15e631dc6b664f4:915b9e2c60291fd5f1d6c786f7274850$"},WI={frames:qI,animations:GI,meta:YI},XI={"bhBlue-frame1.png":{frame:{x:0,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhBlue-frame2.png":{frame:{x:90,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhBlue-frame3.png":{frame:{x:180,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhBlue-frame4.png":{frame:{x:270,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhBlue-frame5.png":{frame:{x:360,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhBlue-frame6.png":{frame:{x:450,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhBlue-frame7.png":{frame:{x:540,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}}},$I={bhBlue:["bhBlue-frame1.png","bhBlue-frame2.png","bhBlue-frame3.png","bhBlue-frame4.png","bhBlue-frame5.png","bhBlue-frame6.png","bhBlue-frame7.png"]},ZI={app:"https://www.codeandweb.com/texturepacker",version:"1.1",image:"bhBlue.png",format:"RGBA8888",size:{w:630,h:90},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:1886857b1b4e79b0bdd43d45851b5ad5:9c87c86ed026cba6d4fd77172ebe8478:32ea7e29d6289ba2da6af444983b06bf$"},QI={frames:XI,animations:$I,meta:ZI},KI={"bhRed-frame1.png":{frame:{x:0,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhRed-frame2.png":{frame:{x:90,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhRed-frame3.png":{frame:{x:180,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhRed-frame4.png":{frame:{x:270,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhRed-frame5.png":{frame:{x:360,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhRed-frame6.png":{frame:{x:450,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}},"bhRed-frame7.png":{frame:{x:540,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90},anchor:{x:.5,y:.5}}},JI={bhRed:["bhRed-frame1.png","bhRed-frame2.png","bhRed-frame3.png","bhRed-frame4.png","bhRed-frame5.png","bhRed-frame6.png","bhRed-frame7.png"]},tz={app:"https://www.codeandweb.com/texturepacker",version:"1.1",image:"bhRed.png",format:"RGBA8888",size:{w:630,h:90},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:fd73bedb963c22803da2ccafcb591155:e1bb0b4719f46237e9242e19dbe0c82d:762eb6eeee01879519e3dac4c686255a$"},ez={frames:KI,animations:JI,meta:tz},nz={"bhYellow-frame1.png":{frame:{x:0,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}},"bhYellow-frame2.png":{frame:{x:90,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}},"bhYellow-frame3.png":{frame:{x:180,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}},"bhYellow-frame4.png":{frame:{x:270,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}},"bhYellow-frame5.png":{frame:{x:360,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}},"bhYellow-frame6.png":{frame:{x:450,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}},"bhYellow-frame7.png":{frame:{x:540,y:0,w:90,h:90},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:90,h:90},sourceSize:{w:90,h:90}}},sz={bhYellow:["bhYellow-frame1.png","bhYellow-frame2.png","bhYellow-frame3.png","bhYellow-frame4.png","bhYellow-frame5.png","bhYellow-frame6.png","bhYellow-frame7.png"]},iz={app:"https://www.codeandweb.com/texturepacker",version:"1.1",image:"bhYellow.png",format:"RGBA8888",size:{w:630,h:90},scale:"1",smartupdate:"$TexturePacker:SmartUpdate:f9f09337cc69faf86b44c10444e56d40:04cebf9f390ed942cca71bcd22ce4240:08f70c74cea8c10e25d27a99751bdcce$"},rz={frames:nz,animations:sz,meta:iz};async function az(n,t){const e=await Wx({width:si,height:Ks,backgroundColor:852019}),i=e.view.canvas;i.className="p4-vega__canvas",i.id="p4-canvas",n?.appendChild(i);const a=new mn;n?.querySelectorAll(".fullscreen-btn").forEach(Q=>Q.remove());const l=new kg(i,n),c=document.querySelector("[data-bg-music-playing]");window.p4MusicPlayer=new Dc({url:"/assets/audio/bg-sound-p4.mp3",loop:!0}).toDestination();const h=()=>{c.checked?window.p4MusicPlayer.start():window.p4MusicPlayer.stop()},d=document.querySelector("[data-musical-notes-playing]");let f=!1;const m=()=>{f=d.checked},y=new Eb("data-dropdown-scales","data-dropdown-btn","data-selected-scale"),_=new Eb("data-dropdown-keys","data-dropdown-btn","data-selected-key"),v={toggleScalesDropdown:y.toggle(),toggleKeysDropdown:_.toggle(),toggleScaleSelection:y.toggleSelection("data-scale"),toggleKeySelection:_.toggleSelection("data-key")};let w,S=[],x,T,k;const R=async()=>{h(),w=!0,x=new jI(a);const Q=document.querySelector("[data-p4]"),Z=document.querySelector("[data-water]"),$=document.querySelector("[data-bh-blue]"),ut=document.querySelector("[data-bh-red]"),A=document.querySelector("[data-bh-yellow]"),E=await Ri.load(Q),N=await Ri.load(Z),B=await Ri.load($),P=await Ri.load(ut),C=await Ri.load(A),D=new ea(E,HI);await D.parse();const Y=new ea(N,WI);await Y.parse();const st=new ea(B,QI);await st.parse();const et=new ea(P,ez);await et.parse();const mt=new ea(C,rz);await mt.parse();const gt=new vr(D.animations.p4),ot=new vr(Y.animations.water);for(let vt=0;vt<100;vt++){let xt;switch(sa(0,2)){case 0:xt=new vr(st.animations.bhBlue);break;case 1:xt=new vr(et.animations.bhRed);break;case 2:xt=new vr(mt.animations.bhYellow);break}Xs.bHAnimArray.push(xt)}new Xs(a,gt),T=new HD(a,gt),k=new PI(a,ot)},U=async()=>{x.update(),T.update(T.p4Anim),k.update(k.waterAnim,T,f,a);for(let Q=0;Q<Xs.bHArray.length;Q++)w=Xs.bHArray[Q].update(T,w);w||(j.stop(),t?.isAuthenticated&&await L(),S=await VD(w,T),S.forEach(Z=>a.addChild(Z)),e.render(a))},O=async()=>{e.render(a)},j=new Di;window.p4GameTicker=j,j.add(U),j.add(O),await R(),j.start();const z=async()=>{w=!0,Xs.bHAnimArray=[],T.destroy(),k.destroy(),Xs.destroy(),a.removeChildren(),window.p4MusicPlayer.stop(),await R(),j.start()},L=async()=>{const Q=T.totalWater,Z=t?.userName;await fetch(`${Lo}/api/users`,{method:"POST",credentials:"include",body:JSON.stringify({type:"submit_score",p4_score:Q,user_name:Z})}).then($=>{if(!$.ok)throw new Error(`HTTP error! status: ${$.status}`);return $.json()}).then($=>{$.error&&console.error($.error),$.personalBest&&hn.fire({title:"Congratulations!",text:"You have broken a new personal record, check the leaderboard to see where you stand!",icon:"success"})}).catch($=>console.error("Fetch error:",$))},V=Q=>{switch(Q.preventDefault(),Q.code){case"ArrowRight":T.isMovingRight=!0;break;case"ArrowLeft":T.isMovingLeft=!0;break;case"ArrowUp":T.isMovingUp=!0;break;case"ArrowDown":T.isMovingDown=!0;break;case"Space":w||z();break}},H=Q=>{switch(Q.preventDefault(),Q.code){case"ArrowRight":T.isMovingRight=!1;break;case"ArrowLeft":T.isMovingLeft=!1;break;case"ArrowUp":T.isMovingUp=!1;break;case"ArrowDown":T.isMovingDown=!1;break}},K=[];return document.addEventListener("keydown",V),K.push({element:document,event:"keydown",handler:V}),document.addEventListener("keyup",H),K.push({element:document,event:"keyup",handler:H}),document.addEventListener("click",v.toggleScalesDropdown),K.push({element:document,event:"click",handler:v.toggleScalesDropdown}),document.addEventListener("click",v.toggleKeysDropdown),K.push({element:document,event:"click",handler:v.toggleKeysDropdown}),document.addEventListener("click",v.toggleScaleSelection),K.push({element:document,event:"click",handler:v.toggleScaleSelection}),document.addEventListener("click",v.toggleKeySelection),K.push({element:document,event:"click",handler:v.toggleKeySelection}),c.addEventListener("change",h),K.push({element:c,event:"change",handler:h}),d.addEventListener("change",m),K.push({element:d,event:"change",handler:m}),()=>{j.stop(),j.destroy(),window.p4MusicPlayer&&window.p4MusicPlayer.stop(),T?.destroy(),k?.destroy(),Xs.destroy(),a.removeChildren(),e.destroy(!0),i.remove(),K.forEach(({element:Q,event:Z,handler:$})=>{Q.removeEventListener(Z,$)}),typeof l.destroy=="function"&&l.destroy()}}const oz=()=>{const n=it.useRef(null),{isAuthenticated:t,userName:e}=mg();return it.useEffect(()=>{if(!n.current)return;let i;return(async()=>i=await az(n.current,{isAuthenticated:t,userName:e}))(),()=>i?.()},[]),W.jsxs("section",{className:"p4-vega","data-p4-vega":!0,ref:n,children:[W.jsx("h1",{className:"p4-vega__title u-canvas-title",children:"p4-Vega"}),W.jsx("img",{src:"/sprites/p4Vega/p4.png",style:{display:"none"},"data-p4":!0}),W.jsx("img",{src:"/sprites/p4Vega/water.png",style:{display:"none"},"data-water":!0}),W.jsx("img",{src:"/sprites/p4Vega/bhBlue.png",style:{display:"none"},"data-bh-blue":!0}),W.jsx("img",{src:"/sprites/p4Vega/bhRed.png",style:{display:"none"},"data-bh-red":!0}),W.jsx("img",{src:"/sprites/p4Vega/bhYellow.png",style:{display:"none"},"data-bh-yellow":!0}),W.jsxs("div",{className:"p4-vega__ui",children:[W.jsxs("label",{className:"p4-vega__ui--option","data-checkbox":!0,children:[W.jsx("input",{className:"p4-vega__ui--checkbox",type:"checkbox","data-bg-music-playing":!0}),W.jsx("span",{className:"p4-vega__ui--option-btn",children:"Background Music"})]}),W.jsxs("label",{className:"p4-vega__ui--option","data-checkbox":!0,children:[W.jsx("input",{className:"p4-vega__ui--checkbox",type:"checkbox","data-musical-notes-playing":!0}),W.jsx("span",{className:"p4-vega__ui--option-btn",children:"Notes Playing"})]}),W.jsxs("div",{className:"p4-vega__ui--dropdown-grid",children:[W.jsxs("div",{className:"p4-vega__ui--dropdown","data-dropdown-keys":!0,children:[W.jsxs("button",{className:"p4-vega__ui--dropdown-btn","data-dropdown-btn":!0,children:["Key: ",W.jsx("span",{className:"u-truncate","data-selected-key":!0,children:"C"})]}),W.jsxs("div",{className:"p4-vega__ui--dropdown-menu p4-vega__ui--dropdown-menu-keys",children:[W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"C",children:"C"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"C#/Db",children:"C#/Db"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"D",children:"D"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"D#/Eb",children:"D#/Eb"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"E",children:"E"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"F",children:"F"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"F#/Gb",children:"F#/Gb"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"G",children:"G"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"G#/Ab",children:"G#/Ab"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"A",children:"A"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"A#/Bb",children:"A#/Bb"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-key":"B",children:"B"})]})]}),W.jsxs("div",{className:"p4-vega__ui--dropdown","data-dropdown-scales":!0,children:[W.jsxs("button",{className:"p4-vega__ui--dropdown-btn","data-dropdown-btn":!0,children:["Scale: ",W.jsx("span",{className:"u-truncate","data-selected-scale":!0,children:"Major"})]}),W.jsxs("div",{className:"p4-vega__ui--dropdown-menu",children:[W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Major",children:"Major"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Minor",children:"Minor"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Pentatonic",children:"Pentatonic"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Blues",children:"Blues"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Dorian",children:"Dorian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Mixolydian",children:"Mixolydian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Phrygian",children:"Phrygian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Lydian",children:"Lydian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Locrian",children:"Locrian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Chromatic",children:"Chromatic"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Harmonic Major",children:"Harmonic Major"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Melodic Minor",children:"Melodic Minor"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Whole Tone",children:"Whole Tone"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Hungarian Minor",children:"Hungarian Minor"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Double Harmonic",children:"Double Harmonic"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Neapolitan Major",children:"Neapolitan Major"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Neapolitan Minor",children:"Neapolitan Minor"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Augmented",children:"Augmented"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Hexatonic",children:"Hexatonic"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Enigmatic",children:"Enigmatic"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Spanish Gypsy",children:"Spanish Gypsy"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Hirajoshi",children:"Hirajoshi"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Balinese Pelog",children:"Balinese Pelog"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Egyptian",children:"Egyptian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Hungarian Gypsy",children:"Hungarian Gypsy"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Persian",children:"Persian"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Tritone",children:"Tritone"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Flamenco",children:"Flamenco"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Iwato",children:"Iwato"}),W.jsx("div",{className:"p4-vega__ui--dropdown-menu-item","data-scale":"Blues Heptatonic",children:"Blues Heptatonic"})]})]})]})]})]})},lz=()=>{const[n,t]=it.useState([]),[e,i]=it.useState(!0);return it.useEffect(()=>{(async()=>{try{const l=await fetch(`${Lo}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"get_leaderboard"})});if(!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();c.success?t(c.leaderboard):hn.fire({title:"Error fetching leaderboard",text:"Could not retrieve leaderboard data",icon:"error"})}catch(l){console.error("Error fetching leaderboard:",l),hn.fire({title:"Error",text:"An error occurred while fetching the leaderboard",icon:"error"})}finally{i(!1)}})()},[]),e?W.jsx("section",{className:"leaderboard",children:W.jsx("h1",{className:"leaderboard__title",children:"Loading..."})}):W.jsxs("section",{className:"leaderboard",children:[W.jsx("h1",{className:"leaderboard__title",children:"Leaderboard"}),W.jsx("ul",{className:"leaderboard__list",children:n.map(a=>W.jsx("li",{className:"leaderboard__list-item",children:W.jsxs("div",{className:"leaderboard__item-container",children:[W.jsx("span",{className:"leaderboard__user-name",children:a.user_name}),W.jsx("span",{className:"leaderboard__score",children:a.p4_score})]})},a.user_name))})]})},cz=()=>W.jsxs("section",{className:"social-media",children:[W.jsx("h1",{className:"social-media__title",children:"Social Media"}),W.jsxs("div",{className:"social-media__grid",children:[W.jsx("a",{className:"social-media__grid-anchor",href:"https://www.tiktok.com/@mickeyf.plays",target:"_blank",children:W.jsx("svg",{className:"social-media__grid-btn--tiktok floating",children:W.jsx("use",{xlinkHref:"assets/img/sprite.svg#tiktok"})})}),W.jsx("a",{className:"social-media__grid-anchor",href:"https://www.instagram.com/mickeyf.plays/",target:"_blank",children:W.jsx("svg",{className:"social-media__grid-btn--instagram floating",children:W.jsx("use",{xlinkHref:"assets/img/sprite.svg#instagram"})})}),W.jsx("a",{className:"social-media__grid-anchor",href:"https://www.youtube.com/@mickeyfplays",target:"_blank",children:W.jsx("svg",{className:"social-media__grid-btn--youtube floating",children:W.jsx("use",{xlinkHref:"assets/img/sprite.svg#youtube"})})}),W.jsx("a",{className:"social-media__grid-anchor",href:"https://github.com/Good-Loops/mickeyf.org",target:"_blank",children:W.jsx("svg",{className:"social-media__grid-btn--github floating",children:W.jsx("use",{xlinkHref:"assets/img/sprite.svg#github"})})})]})]}),uz=()=>{const[n,t]=it.useState(""),[e,i]=it.useState(""),[a,l]=it.useState(!1),{login:c}=mg(),h=_1(),d=async f=>{if(f.preventDefault(),a)return;l(!0);const m=await c(n,e);l(!1),m&&h("/")};return W.jsxs("section",{className:"login",children:[W.jsx("h1",{className:"login__title",children:"Log in"}),W.jsx("div",{className:"login__form-wrapper",children:W.jsxs("form",{className:"login__form",onSubmit:d,children:[W.jsx("input",{className:"login__input login__input--user",type:"text",name:"user_name",placeholder:"Username",required:!0,value:n,onChange:f=>t(f.target.value)}),W.jsx("input",{className:"login__input login__input--password",type:"password",name:"user_password",placeholder:"Password",required:!0,value:e,onChange:f=>i(f.target.value)}),W.jsx("input",{className:"login__input login__input--btn",type:"submit",value:"Log In",disabled:a})]})})]})},hz=()=>{const[n,t]=it.useState(""),[e,i]=it.useState(""),[a,l]=it.useState(""),[c,h]=it.useState(!1),d=async f=>{f.preventDefault(),h(!0);try{const m=await fetch(`${Lo}/api/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"signup",user_name:n,email:e,user_password:a}),credentials:"include"});if(!m.ok)throw new Error(`HTTP error: ${m.status}`);const y=await m.json();if(y.error)switch(y.error){case"INVALID_EMAIL":hn.fire({title:"Invalid email",icon:"warning"});break;case"INVALID_PASSWORD":hn.fire({title:"Invalid password",icon:"warning"});break;case"EMPTY_FIELDS":hn.fire({title:"Missing required fields",icon:"warning"});break;case"DUPLICATE_USER":hn.fire({title:"Duplicate user",text:"This email or username is already in use",icon:"warning"});break;default:hn.fire({title:"Could not register",text:y.message||"Please try again.",icon:"error"});break}else hn.fire({title:"Welcome, go break some records!",text:"Successfully registered user",icon:"success"}),t(""),i(""),l("")}catch(m){console.error(m),hn.fire({title:"Network/server error",text:"Could not reach the server.",icon:"error"})}finally{h(!1)}};return W.jsxs("section",{className:"registration",children:[W.jsx("h1",{className:"registration__title",children:"Sign up"}),W.jsx("div",{className:"registration__form-wrapper",children:W.jsxs("form",{className:"registration__form",onSubmit:d,children:[W.jsx("input",{className:"registration__input registration__input--text",type:"text",name:"user_name",placeholder:"Username",value:n,onChange:f=>t(f.target.value),required:!0}),W.jsx("input",{className:"registration__input registration__input--text",type:"text",name:"email",placeholder:"Email",value:e,onChange:f=>i(f.target.value),required:!0}),W.jsx("input",{className:"registration__input registration__input--text",type:"password",name:"user_password",placeholder:"Password",value:a,onChange:f=>l(f.target.value),required:!0}),W.jsx("input",{className:"registration__input registration__input--btn",type:"submit",value:"Sign up",disabled:c})]})})]})},dz=()=>W.jsx("h1",{children:"Error 404: Page not found"}),fz=()=>W.jsxs("div",{className:"app-shell",children:[W.jsx(fN,{}),W.jsx("main",{className:"main",children:W.jsxs(qC,{children:[W.jsx(_s,{path:"/",element:W.jsx(mN,{})}),W.jsx(_s,{path:"/animations/*",element:W.jsx(gN,{})}),W.jsx(_s,{path:"/animations/dancing-circles",element:W.jsx(BD,{})}),W.jsx(_s,{path:"/animations/dancing-fractals",element:W.jsx(zD,{})}),W.jsx(_s,{path:"/games/*",element:W.jsx(LD,{})}),W.jsx(_s,{path:"/games/p4-Vega",element:W.jsx(oz,{})}),W.jsx(_s,{path:"/leaderboard",element:W.jsx(lz,{})}),W.jsx(_s,{path:"/social",element:W.jsx(cz,{})}),W.jsx(_s,{path:"/login",element:W.jsx(uz,{})}),W.jsx(_s,{path:"/register",element:W.jsx(hz,{})}),W.jsx(_s,{path:"*",element:W.jsx(dz,{})})]})}),W.jsx("footer",{className:"footer",children:W.jsx("p",{className:"footer__text",children:W.jsx("a",{className:"footer__link",href:"https://creativecommons.org/publicdomain/zero/1.0/",children:"CC0 1.0 Universal"})})})]});var Jb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},pz=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],c=n[e++],h=n[e++],d=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const l=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return t.join("")},A2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,d=a+2<n.length,f=d?n[a+2]:0,m=l>>2,y=(l&3)<<4|h>>4;let _=(h&15)<<2|f>>6,v=f&63;d||(v=64,c||(_=64)),i.push(e[m],e[y],e[_],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(S2(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):pz(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const f=a<n.length?e[n.charAt(a)]:64;++a;const y=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||f==null||y==null)throw new mz;const _=l<<2|h>>4;if(i.push(_),f!==64){const v=h<<4&240|f>>2;if(i.push(v),y!==64){const w=f<<6&192|y;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class mz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gz=function(n){const t=S2(n);return A2.encodeByteArray(t,!0)},T2=function(n){return gz(n).replace(/\./g,"")},yz=function(n){try{return A2.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vz=()=>_z().__FIREBASE_DEFAULTS__,wz=()=>{if(typeof process>"u"||typeof Jb>"u")return;const n=Jb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bz=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&yz(n[1]);return t&&JSON.parse(t)},xz=()=>{try{return vz()||wz()||bz()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Sz=()=>{var n;return(n=xz())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Az{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Tz(){try{return typeof indexedDB=="object"}catch{return!1}}function Cz(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var l;t(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez="FirebaseError";class Bc extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=Ez,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,C2.prototype.create)}}class C2{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],c=l?Mz(l,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Bc(a,h,i)}}function Mz(n,t){return n.replace(kz,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const kz=/\{\$([^}]+)}/g;function Vm(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],c=t[a];if(t1(l)&&t1(c)){if(!Vm(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function t1(n){return n!==null&&typeof n=="object"}class Fh{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Az;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),a=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dz(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(a)}return a}onInit(t,e){var i;const a=this.normalizeInstanceIdentifier(e),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Rz(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rz(n){return n===ta?void 0:n}function Dz(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Nz(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ve||(ve={}));const Bz={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},Iz=ve.INFO,zz={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},Lz=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=zz[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pz{constructor(t){this.name=t,this._logLevel=Iz,this._logHandler=Lz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bz[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const jz=(n,t)=>t.some(e=>n instanceof e);let e1,n1;function Uz(){return e1||(e1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fz(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E2=new WeakMap,Hm=new WeakMap,M2=new WeakMap,um=new WeakMap,fy=new WeakMap;function Vz(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{e(Sr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&E2.set(e,n)}).catch(()=>{}),fy.set(t,n),t}function Hz(n){if(Hm.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Hm.set(n,t)}let qm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Hm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||M2.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Sr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function qz(n){qm=n(qm)}function Gz(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(hm(this),t,...e);return M2.set(i,t.sort?t.sort():[t]),Sr(i)}:Fz().includes(n)?function(...t){return n.apply(hm(this),t),Sr(E2.get(this))}:function(...t){return Sr(n.apply(hm(this),t))}}function Yz(n){return typeof n=="function"?Gz(n):(n instanceof IDBTransaction&&Hz(n),jz(n,Uz())?new Proxy(n,qm):n)}function Sr(n){if(n instanceof IDBRequest)return Vz(n);if(um.has(n))return um.get(n);const t=Yz(n);return t!==n&&(um.set(n,t),fy.set(t,n)),t}const hm=n=>fy.get(n);function Wz(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,t),h=Sr(c);return i&&c.addEventListener("upgradeneeded",d=>{i(Sr(c.result),d.oldVersion,d.newVersion,Sr(c.transaction),d)}),e&&c.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),h}const Xz=["get","getKey","getAll","getAllKeys","count"],$z=["put","add","delete","clear"],dm=new Map;function s1(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(dm.get(t))return dm.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=$z.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||Xz.includes(e)))return;const l=async function(c,...h){const d=this.transaction(c,a?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(h.shift())),(await Promise.all([f[e](...h),a&&d.done]))[0]};return dm.set(t,l),l}qz(n=>({...n,get:(t,e,i)=>s1(t,e)||n.get(t,e,i),has:(t,e)=>!!s1(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Qz(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Qz(n){const t=n.getComponent();return t?.type==="VERSION"}const Gm="@firebase/app",i1="0.10.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Pz("@firebase/app"),Kz="@firebase/app-compat",Jz="@firebase/analytics-compat",tL="@firebase/analytics",eL="@firebase/app-check-compat",nL="@firebase/app-check",sL="@firebase/auth",iL="@firebase/auth-compat",rL="@firebase/database",aL="@firebase/database-compat",oL="@firebase/functions",lL="@firebase/functions-compat",cL="@firebase/installations",uL="@firebase/installations-compat",hL="@firebase/messaging",dL="@firebase/messaging-compat",fL="@firebase/performance",pL="@firebase/performance-compat",mL="@firebase/remote-config",gL="@firebase/remote-config-compat",yL="@firebase/storage",_L="@firebase/storage-compat",vL="@firebase/firestore",wL="@firebase/vertexai-preview",bL="@firebase/firestore-compat",xL="firebase";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="[DEFAULT]",AL={[Gm]:"fire-core",[Kz]:"fire-core-compat",[tL]:"fire-analytics",[Jz]:"fire-analytics-compat",[nL]:"fire-app-check",[eL]:"fire-app-check-compat",[sL]:"fire-auth",[iL]:"fire-auth-compat",[rL]:"fire-rtdb",[aL]:"fire-rtdb-compat",[oL]:"fire-fn",[lL]:"fire-fn-compat",[cL]:"fire-iid",[uL]:"fire-iid-compat",[hL]:"fire-fcm",[dL]:"fire-fcm-compat",[fL]:"fire-perf",[pL]:"fire-perf-compat",[mL]:"fire-rc",[gL]:"fire-rc-compat",[yL]:"fire-gcs",[_L]:"fire-gcs-compat",[vL]:"fire-fst",[bL]:"fire-fst-compat",[wL]:"fire-vertex","fire-js":"fire-js",[xL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym=new Map,TL=new Map,Wm=new Map;function r1(n,t){try{n.container.addComponent(t)}catch(e){ua.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Xm(n){const t=n.name;if(Wm.has(t))return ua.debug(`There were multiple attempts to register component ${t}.`),!1;Wm.set(t,n);for(const e of Ym.values())r1(e,n);for(const e of TL.values())r1(e,n);return!0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ra=new C2("app","Firebase",CL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ra.create("app-deleted",{appName:this._name})}}function ML(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:SL,automaticDataCollectionEnabled:!1},t),a=i.name;if(typeof a!="string"||!a)throw ra.create("bad-app-name",{appName:String(a)});if(e||(e=Sz()),!e)throw ra.create("no-options");const l=Ym.get(a);if(l){if(Vm(e,l.options)&&Vm(i,l.config))return l;throw ra.create("duplicate-app",{appName:a})}const c=new Oz(a);for(const d of Wm.values())c.addComponent(d);const h=new EL(e,i,c);return Ym.set(a,h),h}function yh(n,t,e){var i;let a=(i=AL[n])!==null&&i!==void 0?i:n;e&&(a+=`-${e}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const h=[`Unable to register library "${a}" with version "${t}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ua.warn(h.join(" "));return}Xm(new Fh(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebase-heartbeat-database",NL=1,lc="firebase-heartbeat-store";let fm=null;function k2(){return fm||(fm=Wz(kL,NL,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(lc)}catch(e){console.warn(e)}}}}).catch(n=>{throw ra.create("idb-open",{originalErrorMessage:n.message})})),fm}async function RL(n){try{const e=(await k2()).transaction(lc),i=await e.objectStore(lc).get(N2(n));return await e.done,i}catch(t){if(t instanceof Bc)ua.warn(t.message);else{const e=ra.create("idb-get",{originalErrorMessage:t?.message});ua.warn(e.message)}}}async function a1(n,t){try{const i=(await k2()).transaction(lc,"readwrite");await i.objectStore(lc).put(t,N2(n)),await i.done}catch(e){if(e instanceof Bc)ua.warn(e.message);else{const i=ra.create("idb-set",{originalErrorMessage:e?.message});ua.warn(i.message)}}}function N2(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=1024,OL=720*60*60*1e3;class BL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zL(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=o1();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)))return this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=OL}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o1(),{heartbeatsToSend:i,unsentEntries:a}=IL(this._heartbeatsCache.heartbeats),l=T2(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}}function o1(){return new Date().toISOString().substring(0,10)}function IL(n,t=DL){const e=[];let i=n.slice();for(const a of n){const l=e.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),l1(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),l1(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class zL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tz()?Cz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await RL(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return a1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const a=await this.read();return a1(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function l1(n){return T2(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(n){Xm(new Fh("platform-logger",t=>new Zz(t),"PRIVATE")),Xm(new Fh("heartbeat",t=>new BL(t),"PRIVATE")),yh(Gm,i1,n),yh(Gm,i1,"esm2017"),yh("fire-js","")}LL("");var PL="firebase",jL="10.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yh(PL,jL,"app");JT.createRoot(document.getElementById("root")).render(W.jsx(fE,{children:W.jsx(dN,{children:W.jsx(fz,{})})}));const UL={apiKey:"AIzaSyAnnE5fBtpt3WI3_iveGTGgDSWKWijukUM",authDomain:"noted-reef-387021.firebaseapp.com",projectId:"noted-reef-387021",storageBucket:"noted-reef-387021.appspot.com",messagingSenderId:"1012884798546",appId:"1:1012884798546:web:34031d87f26e6feef2f38b",measurementId:"G-5RWVQN75V4"};ML(UL);export{kD as $,Yx as A,Pn as B,mn as C,en as D,Rt as E,eb as F,fR as G,Zp as H,Un as I,Cx as J,Re as K,Ne as L,le as M,m3 as N,Ao as O,vn as P,iD as Q,dn as R,x3 as S,Di as T,Eh as U,cS as V,ED as W,MD as X,vc as Y,Cn as Z,mS as _,Ui as a,nS as a0,ma as a1,ti as a2,ab as a3,Os as a4,VN as a5,iS as a6,ic as b,MR as c,Hx as d,xs as e,db as f,v3 as g,zx as h,Cr as i,Jt as j,ER as k,FN as l,Qx as m,VL as n,S3 as o,_3 as p,Ni as q,JN as r,Ax as s,Js as t,fn as u,To as v,pn as w,NR as x,BR as y,ib as z};
